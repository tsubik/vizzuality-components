{"version":3,"file":"index.js","sources":["../src/components/icon/index.js","../src/components/icons/index.js","../src/components/tooltip/index.js","../src/components/spinner/index.js","../src/components/slider/utils.js","../src/components/slider/index.js","../src/components/timestep/index.js","../src/components/map/map-popup/index.js","../src/components/map/map-controls/index.js","../src/components/map/map-controls/zoom-control/index.js","../src/components/map/index.js","../src/components/map/map-side-by-side/lib.js","../src/components/map/map-side-by-side/index.js","../src/components/legend/components/legend-list/index.js","../src/components/legend/components/legend-item-drag/index.js","../src/components/legend/components/legend-list-item/index.js","../src/components/legend/components/legend-item-toolbar/legend-item-button-bbox/index.js","../src/components/legend/components/legend-item-toolbar/legend-item-button-layers/legend-item-button-layers-tooltip/index.js","../src/components/legend/components/legend-item-toolbar/legend-item-button-layers/index.js","../src/components/legend/components/legend-item-toolbar/legend-item-button-opacity/legend-item-button-opacity-tooltip/index.js","../src/components/legend/components/legend-item-toolbar/legend-item-button-opacity/index.js","../src/components/legend/components/legend-item-toolbar/legend-item-button-visibility/index.js","../src/components/legend/components/legend-item-toolbar/legend-item-button-info/index.js","../src/components/legend/components/legend-item-toolbar/legend-item-button-remove/index.js","../src/components/legend/components/legend-item-toolbar/index.js","../src/components/legend/components/legend-item-types/utils.js","../src/components/legend/components/legend-item-types/legend-item-type-basic/legend-item-type-basic-item/index.js","../src/components/legend/components/legend-item-types/legend-item-type-basic/index.js","../src/components/legend/components/legend-item-types/legend-item-type-choropleth/index.js","../src/components/legend/components/legend-item-types/legend-item-type-gradient/index.js","../src/components/legend/components/legend-item-types/legend-item-type-proportional/index.js","../src/components/legend/components/legend-item-types/index.js","../src/components/legend/index.js","../src/components/legend/components/legend-item-timestep/utils.js","../src/components/legend/components/legend-item-timestep/index.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport './styles.scss';\n\nclass Icon extends React.PureComponent {\n  static propTypes = {\n    name: PropTypes.string,\n    className: PropTypes.string,\n    style: PropTypes.object,\n  };\n\n  static defaultProps = {\n    name: '',\n    className: '',\n    style: {},\n  };\n\n  render() {\n    const { name, className, style } = this.props;\n\n    const classNames = classnames({ [className]: !!className });\n\n    return (\n      <svg styleName={`c-icon ${classNames}`} style={style}>\n        <use xlinkHref={`#${name}`} />\n      </svg>\n    );\n  }\n}\n\nexport default Icon;\n","import React from 'react';\n\nconst Icons = () => (\n  <svg aria-hidden=\"true\" style={{ position: 'absolute', width: 0, height: 0, overflow: 'hidden' }}>\n    <defs>\n      <symbol id=\"icon-pause\" viewBox=\"0 0 32 32\">\n        <title>pause</title>\n        <path d=\"M10.864 4h-5.16c-1.008 0-1.704 0.696-1.704 1.704v20.568c0 1.032 0.696 1.728 1.704 1.728h5.136c1.032 0 1.704-0.696 1.704-1.704v-20.592c0.024-1.008-0.648-1.704-1.68-1.704z\" />\n        <path d=\"M26.296 4h-5.136c-1.032 0-1.704 0.696-1.704 1.704v20.568c0 1.032 0.696 1.704 1.704 1.704h5.136c1.032 0 1.704-0.696 1.704-1.704v-20.568c0-1.008-0.696-1.704-1.704-1.704z\" />\n      </symbol>\n      <symbol id=\"icon-play\" viewBox=\"0 0 32 32\">\n        <title>play</title>\n        <path d=\"M8.827 2.76l19.487 13.24-19.487 13.24z\" />\n      </symbol>\n      <symbol id=\"icon-cross\" viewBox=\"0 0 32 32\">\n        <title>cross</title>\n        <path d=\"M16 11.636l-11.636-11.636-4.364 4.364 11.636 11.636-11.636 11.636 4.364 4.364 11.636-11.636 11.636 11.636 4.364-4.364-11.636-11.636 11.636-11.636-4.364-4.364z\" />\n      </symbol>\n      <symbol id=\"icon-layers\" viewBox=\"0 0 34 32\">\n        <title>layers</title>\n        <path d=\"M29.995 17.712l4.29 2.859-17.143 11.429-17.136-11.429 4.286-2.857 12.855 8.571 12.85-8.574zM34.281 11.429l-17.136 11.429-17.145-11.429 17.143-11.429 17.138 11.429z\" />\n      </symbol>\n      <symbol id=\"icon-opacity\" viewBox=\"0 0 29 32\">\n        <title>opacity</title>\n        <path d=\"M29.333 7.92c-0.761-1.345-1.646-2.503-2.667-3.526l0 0v23.211c1.040-1.040 1.939-2.224 2.667-3.525v-16.16zM21.333 0.88c-0.752-0.308-1.646-0.577-2.569-0.762l-0.098-0.016v31.797c0.92-0.179 1.813-0.443 2.667-0.779v-30.24zM13.333 32c-7.547-1.181-13.333-7.893-13.333-16s5.787-14.819 13.333-16v32z\" />\n      </symbol>\n      <symbol id=\"icon-hide\" viewBox=\"0 0 47 32\">\n        <title>hide</title>\n        <path d=\"M17.149 16c-0.002 0.056-0.003 0.122-0.003 0.189 0 3.384 2.743 6.127 6.127 6.127s6.127-2.743 6.127-6.127c0-0.066-0.001-0.133-0.003-0.198l0 0.010c0.002-0.056 0.003-0.122 0.003-0.189 0-3.384-2.743-6.127-6.127-6.127s-6.127 2.743-6.127 6.127c0 0.066 0.001 0.133 0.003 0.198l-0-0.010zM46.545 16c-4.46-7.948-13.204-16-23.273-16-10.045 0-18.813 8.052-23.273 16 4.46 7.948 13.228 16 23.273 16 10.068 0 18.813-8.052 23.273-16zM23.273 4.922c6.080 0 11.025 4.96 11.025 11.078s-4.945 11.078-11.025 11.078-11.025-4.96-11.025-11.078c0-6.118 4.945-11.078 11.025-11.078z\" />\n      </symbol>\n      <symbol id=\"icon-show\" viewBox=\"0 0 39 32\">\n        <title>show</title>\n        <path d=\"M26.905 4.994l5.125-4.994 3.481 3.392-29.356 28.608-3.481-3.392 4.076-3.973c-2.675-2.25-4.921-4.902-6.672-7.88l-0.077-0.142c3.774-6.553 11.193-13.194 19.692-13.194 2.523 0 4.948 0.583 7.212 1.575zM11.168 20.33l3.36-3.274c-0.011-0.125-0.017-0.271-0.017-0.419 0-0.009 0-0.017 0-0.026v0.001c0-2.806 2.306-5.073 5.182-5.073 0.16 0 0.32 0.007 0.475 0.020l3.36-3.274c-1.122-0.507-2.432-0.803-3.812-0.803-0.008 0-0.016 0-0.024 0h0.001c-5.145 0-9.329 4.086-9.329 9.132 0 1.324 0.288 2.58 0.805 3.717zM34.454 10.24c1.876 1.855 3.51 3.948 4.853 6.233l0.077 0.143c-3.774 6.55-11.173 13.194-19.692 13.194-1.656-0.005-3.254-0.245-4.766-0.688l0.121 0.030 3.557-3.466c0.357 0.039 0.721 0.062 1.088 0.062 5.145 0 9.329-4.089 9.329-9.132 0-0.345-0.020-0.689-0.059-1.022l5.492-5.354z\" />\n      </symbol>\n      <symbol id=\"icon-arrow-down\" viewBox=\"0 0 38 32\">\n        <title>arrow-down</title>\n        <path d=\"M22.2 18.636l9.879-9.879 5.121 4.243-18 18-18-18 5.121-4.243 9.879 9.879v-17.636h6v17.636z\" />\n      </symbol>\n      <symbol id=\"icon-arrow-up\" viewBox=\"0 0 38 32\">\n        <title>arrow-up</title>\n        <path d=\"M22.2 13.364l9.879 9.879 5.121-4.243-18-18-18 18 5.121 4.243 9.879-9.879v17.636h6v-17.636z\" />\n      </symbol>\n      <symbol id=\"icon-info\" viewBox=\"0 0 32 32\">\n        <title>info</title>\n        <path d=\"M18.107 14.899v-1.101h-6.603v2.201h2.201v6.603h-2.201v2.201h8.804v-2.201h-2.201v-7.703zM15.906 31.407c-8.509 0-15.407-6.898-15.407-15.407s6.898-15.407 15.407-15.407c8.509 0 15.407 6.898 15.407 15.407s-6.898 15.407-15.407 15.407zM13.705 7.196v4.402h4.402v-4.402h-4.402z\" />\n      </symbol>\n      <symbol id=\"icon-drag-dots\" viewBox=\"0 0 19 32\">\n        <title>drag-dots</title>\n        <path d=\"M3.2 12.8c1.767 0 3.2 1.433 3.2 3.2s-1.433 3.2-3.2 3.2c-1.767 0-3.2-1.433-3.2-3.2s1.433-3.2 3.2-3.2z\" />\n        <path d=\"M16 12.8c1.767 0 3.2 1.433 3.2 3.2s-1.433 3.2-3.2 3.2c-1.767 0-3.2-1.433-3.2-3.2s1.433-3.2 3.2-3.2z\" />\n        <path d=\"M3.2 0c1.767 0 3.2 1.433 3.2 3.2s-1.433 3.2-3.2 3.2c-1.767 0-3.2-1.433-3.2-3.2s1.433-3.2 3.2-3.2z\" />\n        <path d=\"M16 0c1.767 0 3.2 1.433 3.2 3.2s-1.433 3.2-3.2 3.2c-1.767 0-3.2-1.433-3.2-3.2s1.433-3.2 3.2-3.2z\" />\n        <path d=\"M3.2 25.6c1.767 0 3.2 1.433 3.2 3.2s-1.433 3.2-3.2 3.2c-1.767 0-3.2-1.433-3.2-3.2s1.433-3.2 3.2-3.2z\" />\n        <path d=\"M16 25.6c1.767 0 3.2 1.433 3.2 3.2s-1.433 3.2-3.2 3.2c-1.767 0-3.2-1.433-3.2-3.2s1.433-3.2 3.2-3.2z\" />\n      </symbol>\n      <symbol id=\"icon-minus\" viewBox=\"0 0 32 32\">\n        <title>minus</title>\n        <path d=\"M5.5 17.909h20.894v-3.818h-20.894z\" />\n      </symbol>\n      <symbol id=\"icon-plus\" viewBox=\"0 0 32 32\">\n        <title>plus</title>\n        <path d=\"M13.865 5v8.8h-8.865v4.4h8.865v8.8h4.271v-8.8h8.865v-4.4h-8.865v-8.8z\" />\n      </symbol>\n    </defs>\n  </svg>\n);\n\nexport default Icons;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport RCTooltip from 'rc-tooltip';\nimport './styles.scss';\n\nexport class Tooltip extends React.PureComponent {\n  static propTypes = {\n    children: PropTypes.node,\n  };\n\n  static defaultProps = {\n    children: [],\n  };\n\n  render() {\n    const { children } = this.props;\n    return <RCTooltip {...this.props}>{children}</RCTooltip>;\n  }\n}\n\nexport default Tooltip;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport './styles.scss';\n\nconst STYLES = {\n  box: {\n    width: 40,\n    height: 40,\n  },\n  circle: {\n    fill: 'none',\n    stroke: '#000',\n    strokeWidth: 5,\n    strokeMiterlimit: 10,\n  },\n};\n\nexport class Spinner extends PureComponent {\n  static propTypes = {\n    position: PropTypes.oneOf(['relative', 'absolute', 'fixed']),\n    className: PropTypes.string,\n    customClass: PropTypes.string,\n    style: PropTypes.shape({\n      box: PropTypes.object,\n      circle: PropTypes.object,\n    }),\n  };\n\n  static defaultProps = {\n    position: 'absolute',\n    className: null,\n    customClass: null,\n    style: {\n      box: {},\n      circle: {},\n    },\n  };\n\n  render() {\n    const { position, customClass, style } = this.props;\n    const classNames = classnames({\n      'c-spinner': true,\n      [`-${position}`]: true,\n    });\n\n    const customClassNames = classnames({\n      'c-spinner': true,\n      [customClass]: !!customClass,\n    });\n\n    const boxStyles = { ...STYLES.box, ...style.box };\n    const circleStyles = { ...STYLES.circle, ...style.circle };\n\n    return (\n      <div styleName={classNames} className={customClassNames}>\n        <div styleName=\"spinner-box\" style={boxStyles}>\n          <svg styleName=\"spinner-icon\" viewBox=\"25 25 50 50\">\n            <circle {...circleStyles} styleName=\"spinner-circle\" cx={50} cy={50} r={20} />\n          </svg>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Spinner;\n","import { isValidElement } from 'react';\n\n// After updating rc-slider to ^9.7.1, we noticed that some default styles were applied to the\n// marks: https://github.com/react-component/slider/blob/master/src/common/Marks.tsx\n// To maintain the same default styles as before (not to break apps), we remove them\nconst defaultMarkStyle = {\n  transform: 'none',\n  msTransform: 'none',\n};\n\nexport const getStyledMarks = (marks) => {\n  const keys = Object.keys(marks);\n  return keys\n    .map((key) => {\n      const mark = marks[key];\n      const markIsObject = typeof mark === 'object' && !isValidElement(mark);\n\n      if (markIsObject) {\n        return { style: defaultMarkStyle, ...mark };\n      }\n\n      return { label: mark, style: defaultMarkStyle };\n    })\n    .reduce((res, mark, index) => ({ ...res, [keys[index]]: mark }), {});\n};\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport RCSlider, { Range, Handle, SliderTooltip } from 'rc-slider';\nimport fill from 'lodash/fill';\n\nimport { getStyledMarks } from './utils';\n\n// styles\nimport './styles.scss';\n\nexport class Slider extends PureComponent {\n  static propTypes = {\n    customClass: PropTypes.string,\n    settings: PropTypes.shape({}),\n    value: PropTypes.oneOfType([PropTypes.array, PropTypes.number]),\n    dragging: PropTypes.bool,\n    index: PropTypes.number,\n    range: PropTypes.bool,\n    trackStyle: PropTypes.oneOfType([PropTypes.array, PropTypes.shape({})]).isRequired,\n    handleStyle: PropTypes.oneOfType([PropTypes.array, PropTypes.shape({})]),\n    formatValue: PropTypes.func,\n    showTooltip: PropTypes.func,\n    railStyle: PropTypes.shape({}),\n    dotStyle: PropTypes.shape({}),\n    pushable: PropTypes.oneOfType([PropTypes.bool, PropTypes.number]),\n  };\n\n  static defaultProps = {\n    customClass: null,\n    settings: {},\n    value: [0],\n    dragging: false,\n    index: 0,\n    range: false,\n    handleStyle: {\n      backgroundColor: '#c32d7b',\n      borderRadius: '10px',\n      boxShadow: '0 1px 2px 0 rgba(0, 0, 0, 0.29)',\n      border: '0px',\n      zIndex: 2,\n    },\n    formatValue: null,\n    showTooltip: null,\n    railStyle: { backgroundColor: '#d9d9d9' },\n    dotStyle: { visibility: 'hidden', border: '0px' },\n    pushable: true,\n  };\n\n  renderHandle = (props) => {\n    const { formatValue, showTooltip } = this.props;\n    const { value, dragging, index, ...restProps } = props;\n    const formattedValue = formatValue ? formatValue(value) : value;\n    const tooltipVisible = showTooltip ? showTooltip(index) : false;\n\n    return (\n      <SliderTooltip\n        key={index}\n        overlay={formattedValue}\n        overlayClassName=\"c-rc-tooltip -default\"\n        overlayStyle={{ color: '#fff' }}\n        placement=\"top\"\n        mouseLeaveDelay={0}\n        destroyTooltipOnHide\n        visible={!!dragging || !!tooltipVisible}\n      >\n        <Handle className=\"drag-handle\" value={value} {...restProps} />\n      </SliderTooltip>\n    );\n  };\n\n  render() {\n    const { customClass, range, handleStyle, value, marks, ...rest } = this.props;\n\n    const Component = range ? Range : RCSlider;\n    const handleNum = Array.isArray(value) ? value.length : 1;\n    const handleStyles = fill(Array(handleNum), {\n      width: '1px',\n      height: '10px',\n      backgroundColor: '#808080',\n      marginLeft: '-1px',\n      marginTop: '-3px',\n      borderRadius: 0,\n      border: 0,\n      zIndex: 1,\n      pointerEvents: 'none',\n      touchAction: 'none',\n    });\n    handleStyles[0] = handleStyle;\n    handleStyles[handleNum - 1] = handleStyle;\n\n    const externalClass = classnames('vizzuality-slider', { [customClass]: !!customClass });\n\n    return (\n      <div className={externalClass}>\n        <Component\n          handle={this.renderHandle}\n          handleStyle={handleStyles}\n          value={value}\n          marks={marks ? getStyledMarks(marks) : marks}\n          {...rest}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Slider;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\n// components\nimport Icon from 'components/icon';\nimport Slider from 'components/slider';\n\n// styles\nimport './styles.scss';\n\nclass Timestep extends PureComponent {\n  static propTypes = {\n    customClass: PropTypes.string,\n    range: PropTypes.bool,\n    pushable: PropTypes.oneOfType([PropTypes.bool, PropTypes.number]),\n    canPlay: PropTypes.bool,\n    min: PropTypes.number.isRequired,\n    minAbs: PropTypes.number,\n    max: PropTypes.number.isRequired,\n    maxAbs: PropTypes.number,\n    start: PropTypes.number.isRequired,\n    end: PropTypes.number.isRequired,\n    trim: PropTypes.number,\n    marks: PropTypes.shape({}).isRequired,\n    step: PropTypes.number,\n    speed: PropTypes.number,\n    loop: PropTypes.bool,\n    formatValue: PropTypes.func.isRequired,\n\n    trackStyle: PropTypes.oneOfType([PropTypes.array, PropTypes.shape({})]),\n    railStyle: PropTypes.shape({}),\n    handleStyle: PropTypes.shape({}),\n\n    playing: PropTypes.bool,\n    PlayButton: PropTypes.node,\n\n    handleOnChange: PropTypes.func,\n    handleOnAfterChange: PropTypes.func,\n    handleOnPlay: PropTypes.func,\n  };\n\n  static defaultProps = {\n    customClass: null,\n    range: true,\n    pushable: 0,\n    canPlay: false,\n\n    trim: null,\n\n    minAbs: -Infinity,\n    maxAbs: Infinity,\n\n    step: 1,\n    speed: 100,\n    loop: false,\n\n    trackStyle: {\n      backgroundColor: '#c32d7b',\n      borderRadius: '0px',\n    },\n    railStyle: { backgroundColor: '#d9d9d9' },\n    handleStyle: {\n      backgroundColor: '#c32d7b',\n      borderRadius: '10px',\n      boxShadow: '0 1px 2px 0 rgba(0, 0, 0, 0.29)',\n      border: '0px',\n      zIndex: 2,\n    },\n\n    playing: undefined,\n    PlayButton: null,\n\n    handleOnChange: null,\n    handleOnAfterChange: null,\n    handleOnPlay: null,\n  };\n\n  constructor(props) {\n    super(props);\n    const { playing, start, end, trim, minAbs, maxAbs } = this.props;\n\n    this.state = {\n      playing,\n      start: start <= minAbs ? minAbs : start,\n      end: end >= maxAbs ? maxAbs : end,\n      trim: trim >= maxAbs ? maxAbs : trim,\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { playing: statePlaying, start: stateStart, end: stateEnd, trim: stateTrim } = this.state;\n    const {\n      playing: prevStatePlaying,\n      start: prevStateStart,\n      end: prevStateEnd,\n      trim: prevStateTrim,\n    } = prevState;\n\n    const { playing, start, end, trim, minAbs, maxAbs } = this.props;\n    const {\n      playing: prevPropsPlaying,\n      start: prevPropsStart,\n      end: prevPropsEnd,\n      trim: prevPropsTrim,\n      minAbs: prevPropsMinAbs,\n      maxAbs: prevPropsMaxAbs,\n    } = prevProps;\n\n    if (playing !== prevPropsPlaying) {\n      this.setState({ playing }); // eslint-disable-line\n    }\n\n    if (statePlaying && statePlaying !== prevStatePlaying) {\n      this.startTimeline();\n    } else if (!statePlaying && statePlaying !== prevStatePlaying) {\n      this.stopTimeline();\n    } else if (statePlaying && stateEnd !== prevStateEnd) {\n      this.incrementTimeline();\n    }\n\n    if (start !== prevPropsStart && start !== stateStart && prevStateStart === stateStart) {\n      this.setState({\n        // eslint-disable-line\n        start: start <= minAbs ? minAbs : start,\n        end: trim >= maxAbs ? maxAbs : trim,\n      });\n    }\n\n    if (end !== prevPropsEnd && end !== stateEnd && prevStateEnd === stateEnd) {\n      this.setState({\n        // eslint-disable-line\n        end: end >= maxAbs ? maxAbs : end,\n      });\n    }\n\n    if (trim !== prevPropsTrim && trim !== stateTrim && prevStateTrim === stateTrim) {\n      this.setState({\n        // eslint-disable-line\n        trim,\n        end: trim >= maxAbs ? maxAbs : trim,\n      });\n    }\n\n    if (minAbs !== prevPropsMinAbs || maxAbs !== prevPropsMaxAbs) {\n      this.setState({\n        // eslint-disable-line\n        start: start <= minAbs ? minAbs : start,\n        trim: trim >= maxAbs ? maxAbs : trim,\n        end: end >= maxAbs ? maxAbs : end,\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.interval) this.stopTimeline();\n  }\n\n  getValue() {\n    const { start, end, trim } = this.state;\n    const { range } = this.props;\n\n    if (range) {\n      return [start, end, trim];\n    }\n\n    return end;\n  }\n\n  getTrackStyle() {\n    const { start, end, trim } = this.state;\n    const { trackStyle } = this.props;\n\n    if (Array.isArray(trackStyle)) {\n      const diff = end - start;\n      const diff2 = trim - end;\n      let stringArr = [];\n\n      return trackStyle.map((t, i) => {\n        const { gradient } = t;\n\n        if (gradient) {\n          const stringKeys = Object.keys(gradient);\n\n          // It could be better, no more neurons\n          if (i === 0) {\n            stringArr = stringKeys\n              .filter((g, j) => {\n                const next = stringKeys[j + 1] || g;\n                const di = start - (g + next);\n\n                return g >= di && g <= end;\n              })\n\n              .map((g, j) => {\n                const first = j === 0;\n                const perc = ((g - start) / diff) * 100;\n                const index = stringKeys.findIndex((ix) => ix === g);\n\n                if (first) {\n                  return `${gradient[g]}`;\n                }\n                return `${gradient[stringKeys[index - 1]]} ${perc}%, ${gradient[g]} ${perc}%`;\n              });\n          }\n\n          // It could be better, no more neurons\n          if (i === 1) {\n            stringArr = stringKeys\n              .filter((g, j) => {\n                const last = stringKeys[j - 1] || g;\n                const di = end - (g - last);\n\n                return g > di && g <= trim;\n              })\n\n              .map((g, j) => {\n                const first = j === 0;\n                const perc = ((g - end) / diff2) * 100;\n                const index = stringKeys.findIndex((ix) => ix === g);\n\n                if (first) {\n                  return `${gradient[g]}`;\n                }\n\n                return `${gradient[stringKeys[index - 1]]} ${perc}%, ${gradient[g]} ${perc}%`;\n              });\n          }\n\n          return {\n            ...t,\n            background:\n              stringArr.length > 1\n                ? `linear-gradient(to right, ${stringArr.join(',')})`\n                : stringArr.toString(),\n          };\n        }\n\n        return t;\n      });\n    }\n\n    return trackStyle;\n  }\n\n  startTimeline = () => {\n    const { start, end, trim } = this.state;\n    if (end < trim) {\n      this.incrementTimeline();\n    } else if (end >= trim) {\n      this.setState({ end: start }, () => {\n        this.incrementTimeline();\n      });\n    }\n  };\n\n  stopTimeline = () => {\n    clearInterval(this.interval);\n  };\n\n  incrementTimeline = () => {\n    const { start, end, trim } = this.state;\n    const { speed, step, range, max, maxAbs } = this.props;\n\n    const maxCurrent = max >= maxAbs ? maxAbs : max;\n\n    this.interval = setTimeout(() => {\n      const newEnd = end + step;\n\n      if ((newEnd > trim && range) || (!range && newEnd >= maxCurrent)) {\n        this.handleResetTimeline();\n      } else {\n        this.handleOnChange([start, newEnd, trim]);\n        this.handleOnAfterChange([start, newEnd, trim]);\n      }\n    }, speed);\n  };\n\n  handleResetTimeline = () => {\n    const { loop } = this.props;\n    const { trim } = this.state;\n    this.stopTimeline();\n\n    if (loop) {\n      this.startTimeline();\n    } else {\n      this.setState({ playing: false, end: trim });\n    }\n  };\n\n  checkRange = (range) => {\n    const { playing, start, end, trim } = this.state;\n    const { min: minProp, max: maxProp, minAbs, maxAbs, minGap, maxGap } = this.props;\n\n    if (!Array.isArray(range)) {\n      return [start, range, trim];\n    }\n\n    let min = range[0] <= minAbs ? minAbs : range[0];\n    let max = range[2] >= maxAbs ? maxAbs : range[2];\n\n    // If start is different from current state\n    if (!playing && range[0] !== start) {\n      if (minGap && max - min < minGap) {\n        if (max === maxAbs || max === maxProp) {\n          min = max - minGap;\n        } else {\n          max = min + minGap;\n        }\n      }\n\n      if (maxGap) {\n        max = max - min > maxGap ? min + maxGap : max;\n      }\n\n      return [min, max, max];\n    }\n\n    // If end is different from trim, and trim is different from current state\n    if (!playing && range[1] !== range[2] && trim !== range[2]) {\n      if (minGap && max - (min + minGap) < 0) {\n        if (min === minAbs || min === minProp) {\n          max = min + minGap;\n        } else {\n          min = max - minGap;\n        }\n      }\n\n      if (maxGap) {\n        min = max - (min + maxGap) > 0 ? max - maxGap : min;\n      }\n\n      return [min, max, max];\n    }\n\n    // If end is different from trim, and end is different from current state\n    if (!playing && range[1] !== range[2] && end !== range[1]) {\n      max = range[1] >= maxAbs ? maxAbs : range[1];\n\n      if (minGap && max - (min + minGap) < 0) {\n        if (min === minAbs || min === minProp) {\n          max = min + minGap;\n        } else {\n          min = max - minGap;\n        }\n      }\n\n      if (maxGap) {\n        min = max - (min + maxGap) > 0 ? max - maxGap : min;\n      }\n\n      return [min, max, max];\n    }\n\n    // If end is different from trim, and trim is different from current state\n    if (!playing && trim !== range[0]) {\n      if (minGap && max - (min + minGap) < 0) {\n        if (min === minAbs || min === minProp) {\n          max = min + minGap;\n        } else {\n          min = max - minGap;\n        }\n      }\n\n      if (maxGap) {\n        min = max - (min + maxGap) > 0 ? max - maxGap : min;\n      }\n\n      return [min, max, max];\n    }\n\n    return range;\n  };\n\n  handleOnChange = (range) => {\n    const { handleOnChange } = this.props;\n    const newRange = this.checkRange(range);\n\n    this.setState({\n      start: newRange[0],\n      end: newRange[1],\n      trim: newRange[2],\n    });\n\n    if (handleOnChange) handleOnChange(newRange);\n  };\n\n  /* eslint-disable-next-line */\n  handleOnAfterChange = (range) => {\n    const { handleOnAfterChange } = this.props;\n    const newRange = this.checkRange(range);\n\n    if (handleOnAfterChange) handleOnAfterChange(newRange);\n  };\n\n  handleTogglePlay = () => {\n    const { handleOnPlay } = this.props;\n    const { playing: statePlaying } = this.state;\n\n    const p = !statePlaying;\n\n    this.setState({ playing: p });\n\n    if (handleOnPlay) handleOnPlay(p);\n  };\n\n  renderPlay() {\n    const { playing: statePlaying } = this.state;\n\n    const iconStatus = classnames({\n      'icon-pause': statePlaying,\n      'icon-play': !statePlaying,\n    });\n\n    return (\n      <button\n        type=\"button\"\n        styleName=\"player-btn\"\n        className={classnames({\n          '-playing': statePlaying,\n        })}\n        onClick={this.handleTogglePlay}\n      >\n        <Icon name={iconStatus} />\n      </button>\n    );\n  }\n\n  render() {\n    const {\n      min,\n      max,\n      marks,\n      formatValue,\n      step,\n      canPlay,\n      customClass,\n      railStyle,\n      handleStyle,\n      range,\n      pushable,\n      PlayButton,\n    } = this.props;\n\n    const { playing } = this.state;\n\n    return (\n      <div styleName=\"c-timestep\" className={customClass}>\n        {canPlay && !PlayButton && this.renderPlay()}\n        {canPlay && !!PlayButton && PlayButton}\n\n        <div styleName={classnames('timestep-slider', { 'can-play': canPlay })}>\n          <Slider\n            range={range}\n            marks={marks}\n            disabled={playing}\n            min={min}\n            max={max}\n            value={this.getValue()}\n            step={step}\n            formatValue={formatValue}\n            railStyle={railStyle}\n            trackStyle={this.getTrackStyle()}\n            handleStyle={handleStyle}\n            showTooltip={(index) => playing && index === 1}\n            pushable={pushable}\n            onChange={this.handleOnChange}\n            onAfterChange={this.handleOnAfterChange}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Timestep;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { render } from 'react-dom';\n\nimport isEqual from 'lodash/isEqual';\n\nconst { L } = typeof window !== 'undefined' ? window : {};\n\nexport class MapPopup extends Component {\n  static propTypes = {\n    children: PropTypes.node.isRequired,\n    /** Map instance */\n    map: PropTypes.object.isRequired,\n    /** `{ lat: 20, lng: 20 }` As soon as this changes, a popup will show up on the map */\n    latlng: PropTypes.object,\n    /** As soon as this changes, a popup will be updated on the map */\n    data: PropTypes.object,\n    /** Return a popup instace\n     * @param {Object} popup Popup instace\n     */\n    onReady: PropTypes.func,\n  };\n\n  static defaultProps = {\n    latlng: {},\n    data: {},\n    onReady: () => {},\n  };\n\n  componentDidMount() {\n    if (typeof L === 'undefined') {\n      return;\n    }\n\n    this.popup =\n      this.popup ||\n      L.popup({\n        maxWidth: 400,\n        minWidth: 240,\n      });\n\n    this.props.onReady(this.popup);\n  }\n\n  componentDidUpdate(prevProps) {\n    const { latlng: prevLatLng, data: prevData } = prevProps;\n\n    const { latlng: nextLatLng, data: nextData } = this.props;\n\n    if (!isEqual(prevLatLng, nextLatLng)) {\n      this.setPopup();\n    }\n\n    if (!isEqual(prevData, nextData) && prevLatLng) {\n      this.updatePopup();\n    }\n  }\n\n  setPopup = () => {\n    const { map, latlng } = this.props;\n\n    if (!latlng || !map) this.removePopup();\n\n    const content = this.buildPopup();\n\n    if (latlng && map) {\n      this.popup.setLatLng(latlng).setContent(content).openOn(map);\n    }\n  };\n\n  buildPopup = () => {\n    const { children } = this.props;\n    const popupComponent = document.createElement('div');\n\n    render(\n      React.Children.map(children, (child) =>\n        React.isValidElement(child) && typeof child.type !== 'string'\n          ? React.cloneElement(child, {\n              ...this.props,\n              popup: this.popup,\n            })\n          : child\n      ),\n      popupComponent\n    );\n    return popupComponent;\n  };\n\n  updatePopup = () => {\n    this.popup.setContent(this.buildPopup());\n  };\n\n  removePopup = () => {\n    if (this.popup) {\n      this.popup.remove();\n    }\n  };\n\n  render() {\n    return null;\n  }\n}\n\nexport default MapPopup;\n","import React, { PureComponent } from 'react';\nimport classnames from 'classnames';\nimport PropTypes from 'prop-types';\nimport './styles.scss';\n\nclass MapControls extends PureComponent {\n  static propTypes = {\n    children: PropTypes.node.isRequired,\n    /** Custom css class for styling */\n    customClass: PropTypes.string,\n  };\n\n  static defaultProps = { customClass: null };\n\n  render() {\n    const { customClass, children } = this.props;\n    const externalClass = classnames({ [customClass]: !!customClass });\n\n    return (\n      <div styleName=\"c-map-controls\" className={externalClass}>\n        <ul styleName=\"map-controls-list\">\n          {React.Children.map(\n            children,\n            (c, i) =>\n              React.isValidElement(c) && (\n                <li styleName=\"map-controls-list-item\" key={i}>\n                  {React.cloneElement(c)}\n                </li>\n              )\n          )}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default MapControls;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport Icon from 'components/icon';\nimport './styles.scss';\n\nclass ZoomControl extends PureComponent {\n  static propTypes = {\n    map: PropTypes.object.isRequired,\n    className: PropTypes.string,\n    customClass: PropTypes.string,\n  };\n\n  static defaultProps = {\n    className: null,\n    customClass: null,\n  };\n\n  state = { zoom: this.props.map.getZoom() };\n\n  componentWillMount() {\n    this.props.map.on('zoomend', this.getZoom);\n  }\n\n  componentWillUnmount() {\n    this.props.map.off('zoomend', this.getZoom);\n  }\n\n  getZoom = () => {\n    this.setState({ zoom: this.props.map.getZoom() });\n  };\n\n  increaseZoom = () => {\n    const zoom = this.props.map.getZoom();\n    const maxZoom = this.props.map.getMaxZoom();\n\n    this.setState({ zoom: zoom === maxZoom ? zoom : zoom + 1 }, () => {\n      this.props.map.setZoom(this.state.zoom);\n    });\n  };\n\n  decreaseZoom = () => {\n    const zoom = this.props.map.getZoom();\n    const minZoom = this.props.map.getMinZoom();\n\n    this.setState({ zoom: zoom === minZoom ? zoom : zoom - 1 }, () => {\n      this.props.map.setZoom(this.state.zoom);\n    });\n  };\n\n  render() {\n    const { className, customClass } = this.props;\n    const { zoom } = this.state;\n    const maxZoom = this.props.map.getMaxZoom();\n    const minZoom = this.props.map.getMinZoom();\n\n    const componentClass = classnames('c-zoom-control', { [className]: !!className });\n    const externalClass = classnames({ [customClass]: !!customClass });\n    const zoomInClass = classnames('zoom-control-btn', { '-disabled': zoom === maxZoom });\n    const zoomOutClass = classnames('zoom-control-btn', { '-disabled': zoom === minZoom });\n\n    return (\n      <div styleName={componentClass} className={externalClass}>\n        <button\n          styleName={zoomInClass}\n          type=\"button\"\n          disabled={zoom === maxZoom}\n          onClick={this.increaseZoom}\n        >\n          <Icon name=\"icon-plus\" />\n        </button>\n        <button\n          styleName={zoomOutClass}\n          type=\"button\"\n          disabled={zoom === minZoom}\n          onClick={this.decreaseZoom}\n        >\n          <Icon name=\"icon-minus\" />\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default ZoomControl;\n","import React, { Component } from 'react';\nimport classnames from 'classnames';\nimport PropTypes from 'prop-types';\nimport isEqual from 'lodash/isEqual';\nimport './styles.scss';\n\nconst { L } = typeof window !== 'undefined' ? window : {};\n\nif (typeof window !== 'undefined') {\n  /*\n   * Workaround for 1px lines appearing in some browsers due to fractional transforms\n   * and resulting anti-aliasing.\n   * https://github.com/Leaflet/Leaflet/issues/3575\n   */\n  /* eslint-disable */\n  (function () {\n    const originalInitTile = L && L.GridLayer.prototype._initTile;\n    L && L.GridLayer.include({\n      _initTile(tile) {\n        originalInitTile.call(this, tile);\n        const tileSize = this.getTileSize();\n        tile.style.width = `${tileSize.x + 1  }px`;\n        tile.style.height = `${tileSize.y + 1  }px`;\n      }\n    });\n  }());\n  /* eslint-enable */\n}\n\nclass Maps extends Component {\n  events = {};\n\n  static propTypes = {\n    /** A function that returns the map instance */\n    children: PropTypes.func,\n    /** Custom css class for styling */\n    customClass: PropTypes.string,\n    /** Leaflet props for creating a map\n     * @see Check Leaflet documentation  https://leafletjs.com/reference-1.3.0.html#map\n     */\n    mapOptions: PropTypes.object,\n    /** `{ url: 'http://example/{x}/{y}/{z}', options: {}}`\n     * @see Check Leaflet documentation  https://leafletjs.com/reference-1.3.0.html#tilelayer\n     */\n    basemap: PropTypes.object,\n    /** `{ url: 'http://example/{x}/{y}/{z}', options: {} }` Options for L.tileLayer\n     * @see Check Leaflet documentation  https://leafletjs.com/reference-1.3.0.html#tilelayer\n     */\n    label: PropTypes.object,\n    /** `{ bbox: [10, 5, 20, 10], options: {} }`\n     * @see Check Leaflet documentation  https://leafletjs.com/reference-1.3.0.html#fitbounds-options\n     */\n    bounds: PropTypes.object,\n    /**\n     * `{ click: (e, map) => {} }` All the functions return 2 params\n     * @arg {Object} e event\n     * @arg {Object} map Map instance\n     * @see Cheack Leaflet documentation https://leafletjs.com/reference-1.3.0.html#map-event\n     */\n    events: PropTypes.object,\n    /** Removes all interactions available on the map  */\n    interactionEnabled: PropTypes.bool,\n    /** Removes only zoomScroll on the map  */\n    scrollZoomEnabled: PropTypes.bool,\n    /**\n     * Return map instance when this one is ready\n     * @arg {Object} map Map instance\n     */\n    onReady: PropTypes.func,\n  };\n\n  static defaultProps = {\n    children: null,\n    customClass: null,\n    mapOptions: {\n      zoomControl: false,\n      center: [27, 12],\n      zoom: 3,\n      maxZoom: 20,\n      minZoom: 2,\n    },\n    basemap: {\n      url: 'http://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}.png',\n      options: {\n        maxZoom: 20,\n        attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>',\n      },\n    },\n    label: {\n      url: 'http://{s}.basemaps.cartocdn.com/light_only_labels/{z}/{x}/{y}.png',\n      options: {\n        maxZoom: 20,\n        attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>',\n      },\n    },\n    bounds: {\n      bbox: null,\n      options: {}, // fitBounds options\n    },\n    events: {},\n    interactionEnabled: true,\n    scrollZoomEnabled: true,\n    onReady: () => {},\n  };\n\n  componentDidMount() {\n    if (typeof L === 'undefined' || !this.mapNode) {\n      return;\n    }\n\n    const { interactionEnabled, scrollZoomEnabled, onReady } = this.props;\n\n    this.setMap();\n\n    this.setBasemap();\n    this.setLabel();\n\n    this.setBounds();\n\n    this.setEvents();\n\n    if (!interactionEnabled) {\n      this.map.dragging.disable();\n      this.map.touchZoom.disable();\n      this.map.doubleClickZoom.disable();\n      this.map.scrollWheelZoom.disable();\n      this.map.boxZoom.disable();\n      this.map.keyboard.disable();\n    }\n\n    if (!scrollZoomEnabled) {\n      this.map.scrollWheelZoom.disable();\n    }\n\n    onReady(this.map);\n\n    // As this.map didn't exist before this function\n    this.forceUpdate();\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      basemap: prevBasemap,\n      label: prevLabel,\n      bounds: prevBounds,\n      events: prevEvents,\n      mapOptions: prevMapOptions,\n    } = prevProps;\n\n    const {\n      basemap: nextBasemap,\n      label: nextLabel,\n      bounds: nextBounds,\n      events: nextEvents,\n      mapOptions: nextMapOptions,\n    } = this.props;\n\n    // Basemap\n    if (!isEqual(prevBasemap, nextBasemap)) {\n      this.setBasemap();\n    }\n\n    // Label\n    if (!isEqual(prevLabel, nextLabel)) {\n      this.setLabel();\n    }\n\n    // Bounds\n    if (!isEqual(prevBounds, nextBounds)) {\n      this.setBounds();\n    }\n\n    // Events\n    if (!isEqual(prevEvents, nextEvents)) {\n      this.setEvents();\n    }\n\n    // mapOptions\n    if (!isEqual(prevMapOptions, nextMapOptions)) {\n      this.setMapOptions();\n    }\n  }\n\n  componentWillUnmount() {\n    this.removeEvents();\n  }\n\n  setMap = () => {\n    const { mapOptions } = this.props;\n    this.map = L.map(this.mapNode, { ...Maps.defaultProps.mapOptions, ...mapOptions });\n  };\n\n  setMapOptions = () => {\n    const {\n      mapOptions: { center, zoom },\n    } = this.props;\n    this.map.setView({ ...center }, zoom);\n  };\n\n  setBasemap = () => {\n    const { basemap } = this.props;\n\n    if (this.basemapLayer) this.basemapLayer.remove();\n\n    this.basemapLayer = L.tileLayer(basemap.url, basemap.options).addTo(this.map).setZIndex(0);\n  };\n\n  setLabel = () => {\n    const { label } = this.props;\n\n    if (this.labelLayer) this.labelLayer.remove();\n\n    this.labelLayer = L.tileLayer(label.url, label.options).addTo(this.map).setZIndex(1100);\n  };\n\n  setBounds = () => {\n    const { bounds } = this.props;\n    const { bbox, options } = bounds;\n\n    if (bbox) {\n      const mapBounds = [\n        [bbox[1], bbox[0]],\n        [bbox[3], bbox[2]],\n      ];\n\n      this.map.fitBounds(mapBounds, options);\n    }\n  };\n\n  setEvents() {\n    const { events } = this.props;\n\n    this.removeEvents();\n\n    Object.keys(events).forEach((key) => {\n      this.events[key] = (e) => {\n        events[key](e, this.map);\n      };\n\n      this.map.on(key, this.events[key]);\n    });\n  }\n\n  removeEvents() {\n    Object.keys(this.events).forEach((key) => {\n      this.map.off(key, this.events[key]);\n    });\n  }\n\n  render() {\n    const { customClass, children } = this.props;\n    const externalClass = classnames({ [customClass]: !!customClass });\n\n    return (\n      <div styleName=\"c-map\" className={externalClass}>\n        <div\n          ref={(node) => {\n            this.mapNode = node;\n          }}\n          styleName=\"map-container\"\n        />\n\n        {!!this.map && typeof children === 'function' && children(this.map)}\n      </div>\n    );\n  }\n}\n\nexport default Maps;\nexport { default as MapPopup } from './map-popup';\nexport { default as MapControls } from './map-controls';\nexport { default as ZoomControl } from './map-controls/zoom-control';\n","const { L } = typeof window !== 'undefined' ? window : {};\n\nmodule.exports = (() => {\n  if (typeof L === 'undefined') {\n    return false;\n  }\n\n  let mapWasDragEnabled;\n  let mapWasTapEnabled;\n\n  // Leaflet v0.7 backwards compatibility\n  function on(el, types, fn, context) {\n    types.split(' ').forEach((type) => {\n      L.DomEvent.on(el, type, fn, context);\n    });\n  }\n\n  // Leaflet v0.7 backwards compatibility\n  function off(el, types, fn, context) {\n    types.split(' ').forEach((type) => {\n      L.DomEvent.off(el, type, fn, context);\n    });\n  }\n\n  function getRangeEvent(rangeInput) {\n    return 'oninput' in rangeInput ? 'input' : 'change';\n  }\n\n  function cancelMapDrag() {\n    mapWasDragEnabled = this._map.dragging.enabled();\n    mapWasTapEnabled = this._map.tap && this._map.tap.enabled();\n    this._map.dragging.disable();\n    this._map.tap && this._map.tap.disable();\n  }\n\n  function uncancelMapDrag(e) {\n    this._refocusOnMap(e);\n    if (mapWasDragEnabled) {\n      this._map.dragging.enable();\n    }\n    if (mapWasTapEnabled) {\n      this._map.tap.enable();\n    }\n  }\n\n  // convert arg to an array - returns empty array if arg is undefined\n  function asArray(arg) {\n    return arg === 'undefined' ? [] : Array.isArray(arg) ? arg : [arg];\n  }\n\n  function noop() {}\n\n  L.Control.SideBySide = L.Control.extend({\n    options: {\n      thumbSize: 42,\n      padding: 0,\n    },\n\n    initialize(leftLayers, rightLayers, options) {\n      this.setLeftLayers(leftLayers);\n      this.setRightLayers(rightLayers);\n      L.setOptions(this, options);\n    },\n\n    getPosition() {\n      const rangeValue = this._range.value;\n      const offset = (0.5 - rangeValue) * (2 * this.options.padding + this.options.thumbSize);\n      return this._map.getSize().x * rangeValue + offset;\n    },\n\n    setPosition: noop,\n\n    includes: L.Evented.prototype || L.Mixin.Events,\n\n    addTo(map) {\n      this.remove();\n      this._map = map;\n\n      const container = (this._container = L.DomUtil.create(\n        'div',\n        'leaflet-sbs',\n        map._controlContainer\n      ));\n\n      this._divider = L.DomUtil.create('div', 'leaflet-sbs-divider', container);\n      const range = (this._range = L.DomUtil.create('input', 'leaflet-sbs-range', container));\n      range.type = 'range';\n      range.min = 0;\n      range.max = 1;\n      range.step = 'any';\n      range.value = 0.5;\n      range.style.paddingLeft = range.style.paddingRight = `${this.options.padding}px`;\n      this._addEvents();\n      this._updateLayers();\n      return this;\n    },\n\n    remove() {\n      if (!this._map) {\n        return this;\n      }\n      if (this._leftLayer) {\n        this._leftLayer.getContainer().style.clip = '';\n      }\n      if (this._rightLayer) {\n        this._rightLayer.getContainer().style.clip = '';\n      }\n      this._removeEvents();\n      L.DomUtil.remove(this._container);\n\n      this._map = null;\n\n      return this;\n    },\n\n    setLeftLayers(leftLayers) {\n      this._leftLayers = asArray(leftLayers);\n      this._updateLayers();\n      return this;\n    },\n\n    setRightLayers(rightLayers) {\n      this._rightLayers = asArray(rightLayers);\n      this._updateLayers();\n      return this;\n    },\n\n    _updateClip() {\n      const map = this._map;\n      const nw = map.containerPointToLayerPoint([0, 0]);\n      const se = map.containerPointToLayerPoint(map.getSize());\n      const clipX = nw.x + this.getPosition();\n      const dividerX = this.getPosition();\n\n      this._divider.style.left = `${dividerX}px`;\n      this.fire('dividermove', { x: dividerX });\n      const clipLeft = `rect(${[nw.y, clipX, se.y, nw.x].join('px,')}px)`;\n      const clipRight = `rect(${[nw.y, se.x, se.y, clipX].join('px,')}px)`;\n      if (this._leftLayer) {\n        this._leftLayer.getContainer().style.clip = clipLeft;\n      }\n      if (this._rightLayer) {\n        this._rightLayer.getContainer().style.clip = clipRight;\n      }\n    },\n\n    _updateLayers() {\n      if (!this._map) {\n        return this;\n      }\n      const prevLeft = this._leftLayer;\n      const prevRight = this._rightLayer;\n      this._leftLayer = this._rightLayer = null;\n      this._leftLayers.forEach((layer) => {\n        if (this._map.hasLayer(layer)) {\n          this._leftLayer = layer;\n        }\n      }, this);\n      this._rightLayers.forEach((layer) => {\n        if (this._map.hasLayer(layer)) {\n          this._rightLayer = layer;\n        }\n      }, this);\n      if (prevLeft !== this._leftLayer) {\n        prevLeft && this.fire('leftlayerremove', { layer: prevLeft });\n        this._leftLayer && this.fire('leftlayeradd', { layer: this._leftLayer });\n      }\n      if (prevRight !== this._rightLayer) {\n        prevRight && this.fire('rightlayerremove', { layer: prevRight });\n        this._rightLayer && this.fire('rightlayeradd', { layer: this._rightLayer });\n      }\n      this._updateClip();\n    },\n\n    _addEvents() {\n      var range = this._range;\n      var map = this._map;\n      if (!map || !range) return;\n      map.on('move', this._updateClip, this);\n      map.on('layeradd layerremove', this._updateLayers, this);\n      on(range, getRangeEvent(range), this._updateClip, this);\n      on(range, L.Browser.touch ? 'touchstart' : 'mousedown', cancelMapDrag, this);\n      on(range, L.Browser.touch ? 'touchend' : 'mouseup', uncancelMapDrag, this);\n    },\n\n    _removeEvents() {\n      const range = this._range;\n      const map = this._map;\n      if (range) {\n        off(range, getRangeEvent(range), this._updateClip, this);\n        off(range, L.Browser.touch ? 'touchstart' : 'mousedown', cancelMapDrag, this);\n        off(range, L.Browser.touch ? 'touchend' : 'mouseup', uncancelMapDrag, this);\n      }\n      if (map) {\n        map.off('layeradd layerremove', this._updateLayers, this);\n        map.off('move', this._updateClip, this);\n      }\n    },\n  });\n\n  L.control.sideBySide = (leftLayers, rightLayers, options) =>\n    new L.Control.SideBySide(leftLayers, rightLayers, options);\n\n  return L.Control.SideBySide;\n})();\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './lib';\n\nimport './styles.scss';\n\nconst { L } = typeof window !== 'undefined' ? window : {};\n\nexport class MapSideBySide extends React.PureComponent {\n  static propTypes = {\n    map: PropTypes.object.isRequired,\n    /**\n     * Return side-by-side control instance when this one is ready\n     * @arg {Object} sideBySide sideBySide instance\n     */\n    onReady: PropTypes.func.isRequired,\n  };\n\n  componentDidMount() {\n    const { map, onReady } = this.props;\n\n    if (\n      typeof L === 'undefined' ||\n      !map ||\n      !L.control.sideBySide ||\n      typeof L.control.sideBySide !== 'function'\n    ) {\n      return;\n    }\n\n    this.sideBySideControl = L.control.sideBySide();\n    this.sideBySideControl.addTo(map);\n\n    if (onReady) onReady(this.sideBySideControl);\n  }\n\n  render() {\n    return null;\n  }\n}\n\nexport default MapSideBySide;\n","import { SortableContainer } from 'react-sortable-hoc';\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport './styles.scss';\n\nclass LegendList extends PureComponent {\n  static propTypes = {\n    sortable: PropTypes.bool,\n    children: PropTypes.node,\n  };\n\n  static defaultProps = {\n    sortable: true,\n    children: [],\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      scrolling: false,\n    };\n\n    this.timeout = null;\n  }\n\n  onScroll = (e) => {\n    if (e.target.id !== 'vizzuality-legend-list') {\n      return false;\n    }\n\n    const { scrolling } = this.state;\n    if (this.timeout) {\n      // if there is already a timeout in process cancel it\n      clearTimeout(this.timeout);\n    }\n\n    this.timeout = setTimeout(() => {\n      this.timeout = null;\n      this.setState({\n        scrolling: false,\n      });\n    }, 250);\n\n    if (!scrolling) {\n      this.setState({\n        scrolling: true,\n      });\n    }\n  };\n\n  render() {\n    const { sortable, children } = this.props;\n    const { scrolling } = this.state;\n\n    return (\n      <ul id=\"vizzuality-legend-list\" styleName=\"c-legend-list\" onScroll={this.onScroll}>\n        {React.Children.map(children, (child, index) =>\n          React.cloneElement(child, {\n            sortable,\n            index,\n            i: index,\n            scrolling,\n          })\n        )}\n      </ul>\n    );\n  }\n}\n\nexport default SortableContainer(LegendList);\n","import React from 'react';\nimport { SortableHandle } from 'react-sortable-hoc';\nimport Icon from 'components/icon';\nimport './styles.scss';\n\nconst LegendItemDrag = () => (\n  <span styleName=\"c-legend-handler\">\n    <Icon name=\"icon-drag-dots\" className=\"-small\" />\n  </span>\n);\n\nexport default SortableHandle(LegendItemDrag);\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { SortableElement } from 'react-sortable-hoc';\n\n// Components\nimport LegendItemDrag from '../legend-item-drag';\n\nimport './styles.scss';\n\nclass LegendListItem extends PureComponent {\n  static propTypes = {\n    dataset: PropTypes.string,\n    layers: PropTypes.arrayOf(PropTypes.shape({})),\n    sortable: PropTypes.bool,\n    children: PropTypes.node,\n    toolbar: PropTypes.node,\n    title: PropTypes.node,\n  };\n\n  static defaultProps = {\n    dataset: '',\n    layers: [],\n    sortable: true,\n    children: [],\n    toolbar: [],\n    title: [],\n  };\n\n  render() {\n    const { layers, sortable, children, toolbar, title, ...props } = this.props;\n    const activeLayer = layers.find((l) => l.active) || layers[0];\n\n    return (\n      <li\n        styleName={classnames({\n          'c-legend-item': true,\n          '-sortable': sortable,\n        })}\n      >\n        <div\n          styleName={classnames({\n            'legend-item-container': true,\n            '-sortable': sortable,\n          })}\n        >\n          {sortable && <LegendItemDrag />}\n\n          <div styleName=\"legend-info\">\n            <header styleName=\"legend-item-header\">\n              <h3>\n                {React.isValidElement(title) && typeof title.type !== 'string'\n                  ? React.cloneElement(title, { ...props, layers, activeLayer })\n                  : activeLayer && activeLayer.name}\n              </h3>\n              {React.isValidElement(toolbar) &&\n                typeof toolbar.type !== 'string' &&\n                React.cloneElement(toolbar, { ...props, layers, activeLayer })}\n            </header>\n\n            {React.Children.map(children, (child) =>\n              React.isValidElement(child) && typeof child.type !== 'string'\n                ? React.cloneElement(child, { layers, activeLayer })\n                : child\n            )}\n          </div>\n        </div>\n      </li>\n    );\n  }\n}\n\nexport default SortableElement(({ layerGroup, ...props }) => (\n  <LegendListItem key={props.dataset} {...layerGroup} {...props} />\n));\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from 'components/icon';\nimport Tooltip from 'components/tooltip';\nimport '../styles-button.scss';\n\nclass LegendItemButtonBBox extends PureComponent {\n  static propTypes = {\n    activeLayer: PropTypes.object,\n    tooltipOpened: PropTypes.bool,\n    icon: PropTypes.string,\n    focusStyle: PropTypes.object,\n    defaultStyle: PropTypes.object,\n    tooltipText: PropTypes.string,\n    scrolling: PropTypes.bool,\n    onChangeBBox: PropTypes.func,\n  };\n\n  static defaultProps = {\n    activeLayer: {},\n    icon: '',\n    focusStyle: {},\n    defaultStyle: {},\n    tooltipOpened: false,\n    tooltipText: '',\n    scrolling: false,\n\n    onChangeBBox: () => {},\n  };\n\n  state = {\n    visible: false,\n  };\n\n  componentWillReceiveProps(nextProps) {\n    const { scrolling } = nextProps;\n\n    if (scrolling) {\n      this.setState({ visible: false });\n    }\n  }\n\n  render() {\n    const { activeLayer, tooltipOpened, icon, focusStyle, defaultStyle, tooltipText } = this.props;\n    const { visible } = this.state;\n    if (activeLayer.layerConfig && !activeLayer.layerConfig.bbox) {\n      return null;\n    }\n\n    return (\n      <Tooltip\n        overlay={tooltipText || 'Fit to bounds'}\n        overlayClassName=\"c-rc-tooltip -default\"\n        placement=\"top\"\n        trigger={tooltipOpened ? '' : 'hover'}\n        mouseLeaveDelay={0}\n        destroyTooltipOnHide\n        onVisibleChange={(v) => this.setState({ visible: v })}\n        visible={visible}\n      >\n        <button\n          type=\"button\"\n          styleName=\"c-legend-button\"\n          aria-label=\"Fit to bounds\"\n          onClick={() => this.props.onChangeBBox(activeLayer)}\n        >\n          <Icon\n            name={icon || 'icon-bbox'}\n            className=\"-small\"\n            style={visible ? focusStyle : defaultStyle}\n          />\n        </button>\n      </Tooltip>\n    );\n  }\n}\n\nexport default LegendItemButtonBBox;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport './styles.scss';\n\nclass LegendLayersTooltip extends PureComponent {\n  static propTypes = {\n    // Layers\n    layers: PropTypes.array.isRequired,\n    activeLayer: PropTypes.object.isRequired,\n    // Callback to call when the layer changes with\n    // the ID of the dataset and the ID of the layer\n    onChangeLayer: PropTypes.func.isRequired,\n  };\n\n  render() {\n    const { layers, activeLayer } = this.props;\n\n    return (\n      <div styleName=\"c-legend-item-button-layers-tooltip\">\n        Layers\n        <ul styleName=\"layers-list\">\n          {layers.map((l) => (\n            <li\n              key={l.id}\n              styleName={classnames({\n                'layers-list-item': true,\n                '-active': l.id === activeLayer.id,\n              })}\n              onClick={() => this.props.onChangeLayer(l)}\n            >\n              {l.name}\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default LegendLayersTooltip;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport sortBy from 'lodash/sortBy';\nimport Icon from 'components/icon';\nimport Tooltip from 'components/tooltip';\nimport LegendLayersTooltip from './legend-item-button-layers-tooltip';\nimport '../styles-button.scss';\n\nclass LegendItemButtonLayers extends PureComponent {\n  static propTypes = {\n    layers: PropTypes.array,\n    activeLayer: PropTypes.object,\n    icon: PropTypes.string,\n    focusStyle: PropTypes.object,\n    defaultStyle: PropTypes.object,\n    tooltipText: PropTypes.string,\n    tooltipOpened: PropTypes.bool,\n    scrolling: PropTypes.bool,\n\n    onChangeLayer: PropTypes.func,\n    onTooltipVisibilityChange: PropTypes.func,\n  };\n\n  static defaultProps = {\n    layers: [],\n    activeLayer: {},\n    icon: '',\n    focusStyle: {},\n    defaultStyle: {},\n    tooltipOpened: false,\n    tooltipText: null,\n    scrolling: false,\n\n    onChangeLayer: () => {},\n    onTooltipVisibilityChange: () => {},\n  };\n\n  state = {\n    visibilityHover: false,\n    visibilityClick: false,\n    multiLayersActive: this.props.i === 0 && this.props.layers.length > 1,\n  };\n\n  componentWillReceiveProps(nextProps) {\n    const { scrolling, i: prevIndex } = this.props;\n    const { i: nextIndex } = nextProps;\n\n    if (scrolling || prevIndex !== nextIndex) {\n      this.onTooltipVisibilityChange(false);\n    }\n  }\n\n  onTooltipVisibilityChange = (visibility) => {\n    const { onTooltipVisibilityChange } = this.props;\n    const { multiLayersActive } = this.state;\n\n    this.setState({\n      visibilityHover: false,\n      visibilityClick: visibility,\n      ...(multiLayersActive && {\n        multiLayersActive: false,\n      }),\n    });\n\n    onTooltipVisibilityChange(visibility);\n  };\n\n  /**\n   * HELPERS\n   * - getTimelineLayers\n   */\n  getTimelineLayers = () => {\n    const { layers } = this.props;\n\n    return sortBy(\n      layers.filter((l) => l.layerConfig.timeline),\n      (l) => l.layerConfig.order\n    );\n  };\n\n  render() {\n    const {\n      layers,\n      activeLayer,\n      icon,\n      focusStyle,\n      defaultStyle,\n      tooltipText,\n      onChangeLayer,\n      tooltipOpened,\n    } = this.props;\n    const { visibilityClick, visibilityHover, multiLayersActive } = this.state;\n    const timelineLayers = this.getTimelineLayers();\n\n    if (layers.length === 1 || timelineLayers.length) {\n      return null;\n    }\n\n    return (\n      <Tooltip\n        overlay={\n          <LegendLayersTooltip\n            layers={layers}\n            activeLayer={activeLayer}\n            onChangeLayer={onChangeLayer}\n          />\n        }\n        overlayClassName=\"c-rc-tooltip -default -layers\"\n        placement=\"top\"\n        trigger={['click']}\n        visible={visibilityClick}\n        onVisibleChange={this.onTooltipVisibilityChange}\n        destroyTooltipOnHide\n      >\n        <Tooltip\n          visible={multiLayersActive || (!visibilityClick && visibilityHover)}\n          overlay={tooltipText || `${layers.length} layers`}\n          overlayClassName=\"c-rc-tooltip -default\"\n          placement=\"top\"\n          trigger={tooltipOpened ? '' : 'hover'}\n          onVisibleChange={(visibility) =>\n            this.setState({ visibilityHover: visibility, multiLayersActive: false })\n          }\n          destroyTooltipOnHide\n        >\n          <button type=\"button\" styleName=\"c-legend-button layers\" aria-label=\"Select other layer\">\n            <Icon\n              name={icon || 'icon-layers'}\n              className=\"-small\"\n              style={visibilityHover || visibilityClick ? focusStyle : defaultStyle}\n            />\n          </button>\n        </Tooltip>\n      </Tooltip>\n    );\n  }\n}\n\nexport default LegendItemButtonLayers;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport Slider from 'components/slider';\nimport './styles.scss';\n\nclass LegendOpacityTooltip extends PureComponent {\n  static propTypes = {\n    // Layers\n    activeLayer: PropTypes.shape({}).isRequired,\n    min: PropTypes.number,\n    max: PropTypes.number,\n    step: PropTypes.number,\n    // Callback to call when the layer changes with\n    // the ID of the dataset and the ID of the layer\n    onChangeOpacity: PropTypes.func.isRequired,\n  };\n\n  static defaultProps = {\n    min: 0,\n    max: 1,\n    step: 0.01,\n  };\n\n  constructor(props) {\n    super(props);\n\n    const { activeLayer = {} } = this.props;\n    const { opacity } = activeLayer;\n\n    this.state = {\n      opacity: typeof opacity !== 'undefined' ? opacity : 1,\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      activeLayer: { opacity },\n    } = this.props;\n    const {\n      activeLayer: { opacity: prevOpacity },\n    } = prevProps;\n    const { opacity: stateOpacity } = this.state;\n    const { opacity: prevStateOpacity } = prevState;\n\n    if (opacity !== prevOpacity && stateOpacity === prevStateOpacity) {\n      this.setState({ opacity });\n    }\n  }\n\n  onChange = (v) => {\n    const { activeLayer, onChangeOpacity } = this.props;\n    onChangeOpacity(activeLayer, v);\n  };\n\n  render() {\n    const { min, max, step, ...rest } = this.props;\n    const { opacity } = this.state;\n\n    return (\n      <div\n        styleName=\"c-legend-item-button-opacity-tooltip\"\n        ref={(node) => {\n          this.el = node;\n        }}\n      >\n        Opacity\n        <div styleName=\"slider-tooltip-container\">\n          <Slider\n            marks={{\n              [min]: '0%',\n              [max]: '100%',\n            }}\n            min={min}\n            max={max}\n            step={step}\n            value={opacity}\n            formatValue={(perc) => `${Math.round(perc * 100)}%`}\n            onChange={(value) => this.setState({ opacity: value })}\n            onAfterChange={this.onChange}\n            trackStyle={{\n              backgroundColor: '#c32d7b',\n              borderRadius: '0px',\n            }}\n            {...rest}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default LegendOpacityTooltip;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport Icon from 'components/icon';\nimport Tooltip from 'components/tooltip';\nimport LegendOpacityTooltip from './legend-item-button-opacity-tooltip';\nimport styles from '../styles-button.scss';\n\nclass LegendItemButtonOpacity extends PureComponent {\n  static propTypes = {\n    layers: PropTypes.arrayOf(PropTypes.shape({})),\n    activeLayer: PropTypes.shape({}),\n    visibility: PropTypes.bool,\n    tooltipOpened: PropTypes.bool,\n    icon: PropTypes.string,\n    className: PropTypes.string,\n    focusStyle: PropTypes.shape({}),\n    defaultStyle: PropTypes.shape({}),\n    enabledStyle: PropTypes.shape({}),\n    disabledStyle: PropTypes.shape({}),\n    tooltipText: PropTypes.string,\n    scrolling: PropTypes.bool,\n\n    onChangeOpacity: PropTypes.func,\n    onTooltipVisibilityChange: PropTypes.func,\n  };\n\n  static defaultProps = {\n    layers: [],\n    activeLayer: {},\n    visibility: true,\n    icon: '',\n    className: '',\n    focusStyle: {},\n    defaultStyle: {},\n    enabledStyle: {},\n    disabledStyle: {},\n    tooltipOpened: false,\n    tooltipText: '',\n    scrolling: false,\n\n    onChangeOpacity: () => {},\n    onTooltipVisibilityChange: () => {},\n  };\n\n  state = {\n    visibilityHover: false,\n    visibilityClick: false,\n  };\n\n  componentWillReceiveProps(nextProps) {\n    const { scrolling } = nextProps;\n\n    if (scrolling) {\n      this.onTooltipVisibilityChange(false);\n    }\n  }\n\n  onTooltipVisibilityChange = (v) => {\n    const { visibility, onTooltipVisibilityChange } = this.props;\n\n    if (visibility) {\n      this.setState({\n        visibilityHover: false,\n        visibilityClick: v,\n      });\n\n      onTooltipVisibilityChange(v);\n    }\n  };\n\n  setHoverText = (tooltipText, opacity, visibility) => {\n    if (tooltipText) return tooltipText;\n\n    if (!visibility) return 'Opacity (disabled)';\n\n    return `Opacity ${typeof opacity !== 'undefined' ? `(${Math.round(opacity * 100)}%)` : ''}`;\n  };\n\n  render() {\n    const {\n      layers,\n      visibility,\n      activeLayer,\n      tooltipOpened,\n      icon,\n      className,\n      enabledStyle,\n      defaultStyle,\n      disabledStyle,\n      focusStyle,\n      tooltipText,\n      scrolling,\n      onChangeOpacity,\n      ...rest\n    } = this.props;\n\n    const { visibilityClick, visibilityHover } = this.state;\n    const { opacity } = activeLayer;\n    let iconStyle = visibility ? defaultStyle : disabledStyle;\n    if (visibility && (visibilityHover || visibilityClick)) {\n      iconStyle = focusStyle;\n    }\n    if (visibility && opacity < 1) iconStyle = enabledStyle;\n\n    return (\n      <Tooltip\n        overlay={\n          visibility && (\n            <LegendOpacityTooltip\n              layers={layers}\n              activeLayer={activeLayer}\n              onChangeOpacity={onChangeOpacity}\n              {...rest}\n            />\n          )\n        }\n        visible={visibility && visibilityClick}\n        overlayClassName={`c-rc-tooltip ${classnames({ '-default': visibility })} ${\n          className || ''\n        }`}\n        placement=\"top\"\n        trigger={['click']}\n        onVisibleChange={this.onTooltipVisibilityChange}\n        destroyTooltipOnHide\n      >\n        <Tooltip\n          visible={visibilityHover && !visibilityClick}\n          overlay={this.setHoverText(tooltipText, opacity, visibility)}\n          overlayClassName=\"c-rc-tooltip -default\"\n          placement=\"top\"\n          trigger={tooltipOpened ? '' : 'hover'}\n          onVisibleChange={(v) => this.setState({ visibilityHover: v })}\n          destroyTooltipOnHide\n          style={styles.tooltip}\n        >\n          <button\n            type=\"button\"\n            styleName={`c-legend-button opacity ${classnames({ '-disabled': !visibility })}`}\n            aria-label=\"Change opacity\"\n          >\n            <Icon name={icon || 'icon-opacity'} className=\"-small\" style={iconStyle} />\n          </button>\n        </Tooltip>\n      </Tooltip>\n    );\n  }\n}\n\nexport default LegendItemButtonOpacity;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from 'components/icon';\nimport Tooltip from 'components/tooltip';\nimport '../styles-button.scss';\n\nclass LegendItemButtonVisibility extends PureComponent {\n  static propTypes = {\n    activeLayer: PropTypes.object,\n    visibility: PropTypes.bool,\n    onChangeVisibility: PropTypes.func,\n    iconShow: PropTypes.string,\n    iconHide: PropTypes.string,\n    focusStyle: PropTypes.object,\n    defaultStyle: PropTypes.object,\n    tooltipOpened: PropTypes.bool,\n    tooltipText: PropTypes.string,\n    scrolling: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    activeLayer: {},\n    visibility: true,\n    iconShow: '',\n    iconHide: '',\n    focusStyle: {},\n    defaultStyle: {},\n    tooltipOpened: false,\n    tooltipText: '',\n    scrolling: false,\n\n    onChangeVisibility: () => {},\n  };\n\n  state = {\n    visible: false,\n  };\n\n  componentWillReceiveProps(nextProps) {\n    const { scrolling } = nextProps;\n\n    if (scrolling) {\n      this.setState({ visible: false });\n    }\n  }\n\n  render() {\n    const {\n      activeLayer,\n      visibility,\n      tooltipOpened,\n      iconShow,\n      iconHide,\n      focusStyle,\n      defaultStyle,\n      tooltipText,\n    } = this.props;\n    const { visible } = this.state;\n\n    const showIcon = iconShow || 'icon-show';\n    const hideIcon = iconHide || 'icon-hide';\n    const activeIcon = visibility ? hideIcon : showIcon;\n\n    return (\n      <Tooltip\n        overlay={tooltipText || (visibility ? 'Hide layer' : 'Show layer')}\n        overlayClassName=\"c-rc-tooltip -default\"\n        placement=\"top\"\n        trigger={tooltipOpened ? '' : 'hover'}\n        mouseLeaveDelay={0}\n        destroyTooltipOnHide\n        onVisibleChange={(v) => this.setState({ visible: v })}\n        visible={visible}\n      >\n        <button\n          type=\"button\"\n          styleName=\"c-legend-button toggle\"\n          onClick={() => this.props.onChangeVisibility(activeLayer, !visibility)}\n          aria-label=\"Toggle the visibility\"\n        >\n          <Icon name={activeIcon} className=\"-small\" style={visible ? focusStyle : defaultStyle} />\n        </button>\n      </Tooltip>\n    );\n  }\n}\n\nexport default LegendItemButtonVisibility;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from 'components/icon';\nimport Tooltip from 'components/tooltip';\nimport '../styles-button.scss';\n\nclass LegendItemButtonInfo extends PureComponent {\n  static propTypes = {\n    activeLayer: PropTypes.object,\n    icon: PropTypes.string,\n    focusStyle: PropTypes.object,\n    defaultStyle: PropTypes.object,\n    tooltipOpened: PropTypes.bool,\n    tooltipText: PropTypes.string,\n    scrolling: PropTypes.bool,\n\n    // ACTIONS\n    onChangeInfo: PropTypes.func,\n  };\n\n  static defaultProps = {\n    activeLayer: {},\n    icon: '',\n    focusStyle: {},\n    defaultStyle: {},\n    tooltipOpened: false,\n    tooltipText: '',\n    scrolling: false,\n\n    onChangeInfo: () => {},\n  };\n\n  state = {\n    visible: false,\n  };\n\n  componentWillReceiveProps(nextProps) {\n    const { scrolling } = nextProps;\n\n    if (scrolling) {\n      this.setState({ visible: false });\n    }\n  }\n\n  render() {\n    const { activeLayer, tooltipOpened, icon, focusStyle, defaultStyle, tooltipText } = this.props;\n    const { visible } = this.state;\n\n    return (\n      <Tooltip\n        overlay={tooltipText || 'Layer info'}\n        overlayClassName=\"c-rc-tooltip -default\"\n        placement=\"top\"\n        trigger={tooltipOpened ? '' : 'hover'}\n        mouseLeaveDelay={0}\n        destroyTooltipOnHide\n        onVisibleChange={(v) => this.setState({ visible: v })}\n        visible={visible}\n      >\n        <button\n          type=\"button\"\n          styleName=\"c-legend-button\"\n          aria-label=\"More information\"\n          onClick={() => this.props.onChangeInfo(activeLayer)}\n        >\n          <Icon\n            name={icon || 'icon-info'}\n            className=\"-small\"\n            style={visible ? focusStyle : defaultStyle}\n          />\n        </button>\n      </Tooltip>\n    );\n  }\n}\n\nexport default LegendItemButtonInfo;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from 'components/icon';\nimport Tooltip from 'components/tooltip';\nimport '../styles-button.scss';\n\nclass LegendItemButtonRemove extends PureComponent {\n  static propTypes = {\n    activeLayer: PropTypes.object,\n    icon: PropTypes.string,\n    focusStyle: PropTypes.object,\n    defaultStyle: PropTypes.object,\n    tooltipOpened: PropTypes.bool,\n    tooltipText: PropTypes.string,\n    scrolling: PropTypes.bool,\n\n    // ACTIONS\n    onRemoveLayer: PropTypes.func,\n  };\n\n  static defaultProps = {\n    activeLayer: {},\n    icon: '',\n    focusStyle: {},\n    defaultStyle: {},\n    tooltipOpened: false,\n    tooltipText: '',\n    scrolling: false,\n\n    // ACTIONS\n    onRemoveLayer: () => {},\n  };\n\n  state = {\n    visible: false,\n  };\n\n  componentWillReceiveProps(nextProps) {\n    const { scrolling } = nextProps;\n\n    if (scrolling) {\n      this.setState({ visible: false });\n    }\n  }\n\n  render() {\n    const { activeLayer, tooltipOpened, icon, focusStyle, defaultStyle, tooltipText } = this.props;\n    const { visible } = this.state;\n\n    return (\n      <Tooltip\n        overlay={tooltipText || 'Remove layer'}\n        overlayClassName=\"c-rc-tooltip -default\"\n        placement=\"top\"\n        trigger={tooltipOpened ? '' : 'hover'}\n        mouseLeaveDelay={0}\n        destroyTooltipOnHide\n        onVisibleChange={(v) => this.setState({ visible: v })}\n        visible={visible}\n      >\n        <button\n          type=\"button\"\n          styleName=\"c-legend-button close\"\n          onClick={() => this.props.onRemoveLayer(activeLayer)}\n          aria-label=\"Remove\"\n        >\n          <Icon\n            name={icon || 'icon-cross'}\n            className=\"-small\"\n            style={visible ? focusStyle : defaultStyle}\n          />\n        </button>\n      </Tooltip>\n    );\n  }\n}\n\nexport default LegendItemButtonRemove;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport LegendItemButtonBBox from './legend-item-button-bbox';\nimport LegendItemButtonLayers from './legend-item-button-layers';\nimport LegendItemButtonOpacity from './legend-item-button-opacity';\nimport LegendItemButtonVisibility from './legend-item-button-visibility';\nimport LegendItemButtonInfo from './legend-item-button-info';\nimport LegendItemButtonRemove from './legend-item-button-remove';\nimport './styles.scss';\n\nclass LegendItemToolbar extends PureComponent {\n  static propTypes = {\n    // Props\n    children: PropTypes.node,\n    enabledStyle: PropTypes.object,\n    defaultStyle: PropTypes.object,\n    disabledStyle: PropTypes.object,\n    focusStyle: PropTypes.object,\n\n    // ACTIONS\n    onChangeBBox: PropTypes.func,\n    onChangeLayer: PropTypes.func,\n    onChangeOpacity: PropTypes.func,\n    onChangeVisibility: PropTypes.func,\n    onRemoveLayer: PropTypes.func,\n    onChangeInfo: PropTypes.func,\n  };\n\n  static defaultProps = {\n    // Props\n    children: [],\n    defaultStyle: {\n      fill: '#717171',\n    },\n    enabledStyle: {\n      fill: '#2C75B0',\n    },\n    disabledStyle: {\n      fill: '#CACCD0',\n    },\n    focusStyle: {\n      fill: '#393f44',\n    },\n\n    // ACTIONS\n    onChangeBBox: (l) => console.info(l),\n    onChangeInfo: (l) => console.info(l),\n    onChangeLayer: (l) => console.info(l),\n    onChangeVisibility: (l, v) => console.info(l, v),\n    onChangeOpacity: (l, o) => console.info(l, o),\n    onRemoveLayer: (l) => console.info(l),\n  };\n\n  state = {\n    tooltipOpened: false,\n  };\n\n  onTooltipVisibilityChange = (tooltipOpened) => {\n    this.setState({ tooltipOpened });\n  };\n\n  render() {\n    const { children, ...rest } = this.props;\n    const { tooltipOpened } = this.state;\n    const props = {\n      ...rest,\n      tooltipOpened,\n      onTooltipVisibilityChange: this.onTooltipVisibilityChange,\n    };\n\n    return (\n      <div styleName=\"c-legend-item-toolbar\">\n        {!!React.Children.count(children) &&\n          React.Children.map(children, (child) =>\n            React.isValidElement(child) && typeof child.type !== 'string'\n              ? React.cloneElement(child, { ...props })\n              : child\n          )}\n\n        {/* If there is no children defined, let's use the components we had */}\n        {!React.Children.count(children) && <LegendItemButtonBBox {...props} />}\n        {!React.Children.count(children) && <LegendItemButtonLayers {...props} />}\n        {!React.Children.count(children) && <LegendItemButtonOpacity {...props} />}\n        {!React.Children.count(children) && <LegendItemButtonVisibility {...props} />}\n        {!React.Children.count(children) && <LegendItemButtonInfo {...props} />}\n        {!React.Children.count(children) && <LegendItemButtonRemove {...props} />}\n      </div>\n    );\n  }\n}\nexport default LegendItemToolbar;\n\nexport {\n  LegendItemButtonBBox,\n  LegendItemButtonLayers,\n  LegendItemButtonOpacity,\n  LegendItemButtonVisibility,\n  LegendItemButtonInfo,\n  LegendItemButtonRemove,\n};\n","/**\n * CODE COPIED FROM:\n * https://github.com/Vizzuality/layer-manager/blob/v1.13.2/src/utils/query.js\n *\n * By including the content of the file here, we can remove the layer-manager v1 as a dependency\n */\n\nimport compact from 'lodash/compact';\n\n/**\n * Params should have this format => { key:'xxx', key2:'xxx' }\n * Keys to search should be in this format {{key}}\n * @param {String} originalStr\n * @param {Object} params\n */\nexport const substitution = (originalStr, params = {}) => {\n  let str = originalStr;\n  Object.keys(params).forEach((key) => {\n    str = str\n      .replace(new RegExp(`{{${key}}}`, 'g'), params[key])\n      .replace(new RegExp(`{${key}}`, 'g'), params[key]);\n  });\n  return str;\n};\n\n/**\n * Params should have this format => { where1: { { key:'xxx', key2:'xxx' } }},\n * Keys to search should be in this format {{key}}\n * @param {String} originalStr\n * @param {Object} params\n */\nexport const concatenation = (originalStr, params = {}) => {\n  let str = originalStr;\n  let sql;\n\n  Object.keys(params).forEach((key) => {\n    sql = `${compact(\n      Object.keys(params[key]).map((k) => {\n        const value = params[key][k];\n\n        if (Array.isArray(value) && !!value.length) {\n          // window.isNaN is needed here as Number.isNaN returns\n          // false in the case Number.isNaN('string'). please dont change.\n          const mappedValue = value.map((v) => (Number.isNaN(v) ? `'${v}'` : v));\n          // eslint-disable-line\n          return `${k} IN (${mappedValue.join(', ')})`;\n        }\n\n        if (value) {\n          return Number.isNaN(value) ? `${k} = '${value}'` : `${k} = ${value}`; // eslint-disable-line\n        }\n\n        return null;\n      })\n    ).join(' AND ')}`;\n\n    if (sql && key.startsWith('where')) sql = `WHERE ${sql}`;\n    else if (sql && key.startsWith('and')) sql = `AND ${sql}`;\n    else sql = '';\n\n    str = str.replace(new RegExp(`{{${key}}}`, 'g'), sql);\n    str = str.replace(new RegExp(`{${key}}`, 'g'), sql);\n  });\n\n  return str;\n};\n\n/**\n * Replace function\n * @param {String} string\n * @param {Object} params\n * @param {Object} sqlParams\n */\nexport const replace = (originalStr, params = {}, sqlParams = {}) => {\n  let str = originalStr;\n\n  if (typeof str === 'string') {\n    str = substitution(str, params);\n    str = concatenation(str, sqlParams);\n  }\n\n  return str;\n};\n\nexport default { substitution, concatenation, replace };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './styles.scss';\n\nclass LegendItem extends React.PureComponent {\n  static propTypes = {\n    size: PropTypes.number,\n    color: PropTypes.string,\n    name: PropTypes.string,\n    icon: PropTypes.string, // triangle, circle, square, line\n    hideIcon: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    size: 12,\n    color: 'transparent',\n    name: '',\n    icon: 'square',\n    hideIcon: false,\n  };\n\n  getIconHtml = (iconName) => {\n    const { name, hideIcon, color, size, icon } = this.props;\n\n    if (hideIcon) {\n      return null;\n    }\n\n    if (iconName === 'triangle') {\n      return (\n        <div\n          styleName={`icon-${icon}`}\n          style={{\n            boderRightWidth: size / 2,\n            boderLeftWidth: size / 2,\n            boderBottomWidth: size,\n            borderBottomColor: color,\n          }}\n        />\n      );\n    }\n\n    if (iconName === 'line') {\n      return <div styleName={`icon-${icon}`} style={{ width: size, backgroundColor: color }} />;\n    }\n\n    if (iconName === 'square' || iconName === 'circle') {\n      return (\n        <div\n          styleName={`icon-${icon}`}\n          style={{ width: size, height: size, backgroundColor: color }}\n        />\n      );\n    }\n\n    return (\n      <div styleName=\"custom-icon\">\n        <img src={icon} alt={name} />\n      </div>\n    );\n  };\n\n  render() {\n    const { name, icon } = this.props;\n\n    return (\n      <div styleName=\"c-legend-item-basic\">\n        {this.getIconHtml(icon)}\n\n        <span styleName=\"name\">{name}</span>\n      </div>\n    );\n  }\n}\n\nexport default LegendItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport LegendItem from './legend-item-type-basic-item';\nimport './styles.scss';\n\nexport class LegendTypeBasic extends React.PureComponent {\n  static propTypes = {\n    activeLayer: PropTypes.shape({}),\n    mode: PropTypes.oneOf(['horizontal', 'vertical', 'columns']),\n  };\n\n  static defaultProps = {\n    activeLayer: {},\n    mode: 'vertical',\n  };\n\n  render() {\n    const { activeLayer, mode } = this.props;\n    const { legendConfig } = activeLayer;\n\n    if (!legendConfig || legendConfig.type !== 'basic') {\n      return null;\n    }\n\n    return (\n      <div styleName=\"c-legend-type-basic\">\n        <ul styleName={mode}>\n          {legendConfig.items.map((item) => (\n            <li key={`legend-basic-item-${item.name}`}>\n              <LegendItem {...item} />\n\n              {!!item.items && item.items.length && (\n                <ul styleName=\"legend-basic-group\">\n                  {item.items.map((it) => (\n                    <li key={`legend-basic-item-${it.name}`}>\n                      <LegendItem style={{ borderBottom: 0 }} {...it} />\n                    </li>\n                  ))}\n                </ul>\n              )}\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default LegendTypeBasic;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './styles.scss';\n\nclass LegendTypeChoropleth extends React.PureComponent {\n  static propTypes = {\n    activeLayer: PropTypes.shape({}),\n  };\n\n  static defaultProps = {\n    activeLayer: {},\n  };\n\n  render() {\n    const { activeLayer } = this.props;\n    const { legendConfig } = activeLayer;\n\n    if (!legendConfig || legendConfig.type !== 'choropleth') {\n      return null;\n    }\n\n    return (\n      <div styleName=\"c-legend-type-choropleth\">\n        <ul>\n          {legendConfig.items.map(({ color }, i) => (\n            <li\n              key={`legend-choropleth-item-${color}-${i}`}\n              style={{ width: `${100 / legendConfig.items.length}%` }}\n            >\n              <div styleName=\"icon-choropleth\" style={{ backgroundColor: color }} />\n            </li>\n          ))}\n        </ul>\n        <ul>\n          {legendConfig.items\n            .filter((i) => i.value || i.name)\n            .map(({ name, value, color, styles = {} }, i) => (\n              <li\n                key={`legend-choropleth-item-${color}-${i}`}\n                style={{ width: `${100 / legendConfig.items.length}%` }}\n              >\n                <span styleName=\"name\" style={styles}>\n                  {name || value}\n                </span>\n              </li>\n            ))}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default LegendTypeChoropleth;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport './styles.scss';\n\nclass LegendTypeGradient extends PureComponent {\n  static propTypes = {\n    // Props\n    activeLayer: PropTypes.shape({}),\n  };\n\n  static defaultProps = {\n    // Props\n    activeLayer: {},\n  };\n\n  render() {\n    const { activeLayer } = this.props;\n    const { legendConfig } = activeLayer;\n\n    if (!legendConfig || legendConfig.type !== 'gradient') {\n      return null;\n    }\n\n    const items = legendConfig.items.filter((item) => item.color !== 'transparent');\n    const itemTransparent = legendConfig.items.find((item) => item.color === 'transparent');\n    const gradient = items.map((item) => item.color);\n\n    return (\n      <div styleName=\"c-legend-type-gradient\">\n        <div styleName=\"legend-gradient-icon\">\n          {itemTransparent && (\n            <div\n              style={{ width: `${(1 / legendConfig.items.length) * 100}%` }}\n              styleName=\"icon-gradient-transparent\"\n            />\n          )}\n          <div\n            styleName=\"icon-gradient\"\n            style={{\n              width: `${(items.length / legendConfig.items.length) * 100}%`,\n              backgroundImage: `linear-gradient(to right, ${gradient.join(',')})`,\n            }}\n          />\n        </div>\n        <ul>\n          {legendConfig.items.map(({ name, color, value }) =>\n            name || value ? (\n              <li key={`legend-gradient-item-${color}-${value}-${name}`}>\n                <span styleName=\"name\">{name || value}</span>\n              </li>\n            ) : null\n          )}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default LegendTypeGradient;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport './styles.scss';\n\nclass LegendTypeGradient extends PureComponent {\n  static propTypes = {\n    // Props\n    activeLayer: PropTypes.object,\n  };\n\n  static defaultProps = {\n    // Props\n    activeLayer: {},\n  };\n\n  render() {\n    const { activeLayer } = this.props;\n    const { legendConfig } = activeLayer;\n\n    if (!legendConfig || legendConfig.type !== 'proportional') {\n      return null;\n    }\n\n    return (\n      <ul styleName=\"c-legend-type-proportional\">\n        {legendConfig.items.map(({ name, color, size }) => (\n          <li key={`legend-proportional-item-${name}`}>\n            <div\n              styleName=\"icon-proportional\"\n              style={{ backgroundColor: color, width: size, height: size }}\n            />\n            <span styleName=\"name\">{name}</span>\n          </li>\n        ))}\n      </ul>\n    );\n  }\n}\n\nexport default LegendTypeGradient;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport isEmpty from 'lodash/isEmpty';\nimport isEqual from 'lodash/isEqual';\n\nimport Spinner from 'components/spinner';\n\nimport { replace } from './utils';\nimport LegendItemTypeBasic from './legend-item-type-basic';\nimport LegendItemTypeChoropleth from './legend-item-type-choropleth';\nimport LegendItemTypeGradient from './legend-item-type-gradient';\nimport LegendItemTypeProportional from './legend-item-type-proportional';\nimport './styles.scss';\n\nclass LegendItemTypes extends PureComponent {\n  static propTypes = {\n    // Props\n    children: PropTypes.node,\n    activeLayer: PropTypes.object,\n  };\n\n  static defaultProps = {\n    // Props\n    children: [],\n    activeLayer: {},\n  };\n\n  state = {\n    activeLayer: {},\n    loading: false,\n  };\n\n  componentDidMount() {\n    const { activeLayer } = this.props;\n    const { legendConfig } = activeLayer || {};\n    const { params = {}, sqlParams = {} } = legendConfig || {};\n\n    const parsedConfig = replace(JSON.stringify(legendConfig), params, sqlParams);\n    const { url } = JSON.parse(parsedConfig);\n\n    if (url) {\n      this.fetchLegend(url);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const { activeLayer: prevActiveLayer } = prevProps;\n    const { legendConfig: prevLegendConfig } = prevActiveLayer;\n    const { params: prevParams = {}, sqlParams: prevSqlParams = {} } = prevLegendConfig;\n\n    const { activeLayer: nextActiveLayer } = this.props;\n    const { legendConfig: nextLegendConfig } = nextActiveLayer;\n    const { params: nextParams = {}, sqlParams: nextSqlParams = {} } = nextLegendConfig;\n\n    if (!isEqual(nextParams, prevParams) || !isEqual(nextSqlParams, prevSqlParams)) {\n      const stringifyConfig = replace(JSON.stringify(nextLegendConfig), nextParams, nextSqlParams);\n      const parsedConfig = JSON.parse(stringifyConfig);\n      const { url } = parsedConfig || {};\n\n      if (url) {\n        this.fetchLegend(url);\n      }\n    }\n  }\n\n  fetchLegend = (url) => {\n    const { activeLayer } = this.props;\n    const { legendConfig } = activeLayer || {};\n    const { dataParse } = legendConfig || {};\n    this.setState({ loading: true });\n\n    fetch(url)\n      .then((response) => {\n        if (response.ok) return response.json();\n      })\n      .then((response) => {\n        const parsedActiveLayer =\n          typeof dataParse === 'function' ? dataParse(activeLayer, response) : response;\n        this.setState({ activeLayer: parsedActiveLayer, loading: false });\n      })\n      .catch(() => {\n        this.setState({ loading: false });\n      });\n  };\n\n  render() {\n    const { children, activeLayer: propsActiveLayer } = this.props;\n    const { loading, activeLayer: stateActiveLayer } = this.state;\n    const activeLayer = !isEmpty(stateActiveLayer) ? stateActiveLayer : propsActiveLayer;\n\n    const { legendConfig } = activeLayer || {};\n    const { url } = legendConfig || {};\n    const shouldRender = !url || (url && !isEmpty(stateActiveLayer));\n\n    return (\n      <div styleName=\"c-legend-item-types\">\n        {url && loading && (\n          <Spinner\n            position=\"relative\"\n            style={{\n              box: { width: 20, height: 20 },\n            }}\n          />\n        )}\n\n        {shouldRender &&\n          !!React.Children.count(children) &&\n          React.Children.map(children, (child) =>\n            React.isValidElement(child) && typeof child.type !== 'string'\n              ? React.cloneElement(child, { ...this.props })\n              : child\n          )}\n\n        {/* If there is no children defined, let's use the components we have */}\n        {shouldRender && !React.Children.count(children) && <LegendItemTypeBasic {...this.props} />}\n        {shouldRender && !React.Children.count(children) && (\n          <LegendItemTypeChoropleth {...this.props} />\n        )}\n        {shouldRender && !React.Children.count(children) && (\n          <LegendItemTypeGradient {...this.props} />\n        )}\n        {shouldRender && !React.Children.count(children) && (\n          <LegendItemTypeProportional {...this.props} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default LegendItemTypes;\n\nexport {\n  LegendItemTypeBasic,\n  LegendItemTypeChoropleth,\n  LegendItemTypeGradient,\n  LegendItemTypeProportional,\n};\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport arrayMove from 'array-move';\n\n// Components\nimport Icon from 'components/icon';\nimport LegendList from './components/legend-list';\n\nimport './styles.scss';\n\nclass Legend extends PureComponent {\n  static propTypes = {\n    /** Title */\n    title: PropTypes.string,\n    /** Sortable */\n    sortable: PropTypes.bool,\n    /** Max width */\n    maxWidth: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    /** Max height */\n    maxHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    /** Should the legend be expanded by default? */\n    expanded: PropTypes.bool,\n    /** Should the legend be collapsable */\n    collapsable: PropTypes.bool,\n    /** `onChangeOrder = (layerGroupsIds) => {}`\n     * @arg {Array} layerGroupIds The new order\n     */\n    onChangeOrder: PropTypes.func,\n    /** Children for render */\n    children: PropTypes.node,\n  };\n\n  static defaultProps = {\n    title: 'Legend',\n    sortable: true,\n    expanded: true,\n    collapsable: true,\n    maxWidth: null,\n    maxHeight: null,\n    children: [],\n    onChangeOrder: (ids) => console.info(ids),\n  };\n\n  constructor(props) {\n    super(props);\n    const { expanded } = props;\n    this.state = { expanded };\n  }\n\n  /**\n   * UI EVENTS\n   * onToggleLegend\n   * onSortEnd\n   */\n  onToggleLegend = (bool) => {\n    this.setState({ expanded: bool });\n  };\n\n  onSortEnd = ({ oldIndex, newIndex }) => {\n    const { onChangeOrder, children } = this.props;\n    const layers = [...children.map((c) => c.props.layerGroup.dataset)];\n    const layersDatasets = arrayMove(layers, oldIndex, newIndex);\n\n    onChangeOrder(layersDatasets);\n  };\n\n  render() {\n    const { title, sortable, collapsable, maxWidth, maxHeight, children } = this.props;\n\n    const { expanded } = this.state;\n\n    if (!children || !React.Children.count(children)) {\n      return null;\n    }\n\n    return (\n      <div styleName=\"c-legend-map\" style={{ maxWidth }}>\n        {/* LEGEND OPENED */}\n        <div styleName={`open-legend ${classnames({ '-active': expanded })}`} style={{ maxHeight }}>\n          {/* Toggle button */}\n          {collapsable && (\n            <button\n              type=\"button\"\n              styleName=\"toggle-legend\"\n              onClick={() => this.onToggleLegend(false)}\n            >\n              <Icon name=\"icon-arrow-down\" className=\"-small\" />\n            </button>\n          )}\n\n          {expanded && (\n            <LegendList\n              helperClass=\"c-legend-item -sortable\"\n              onSortStart={\n                (_, event) => event.preventDefault() // It fixes user select in Safari and IE\n              }\n              onSortEnd={this.onSortEnd}\n              axis=\"y\"\n              lockAxis=\"y\"\n              lockToContainerEdges\n              lockOffset=\"50%\"\n              useDragHandle\n              sortable={sortable}\n            >\n              {React.Children.map(children, (child, index) =>\n                React.isValidElement(child) && child.type === 'LegendItemList'\n                  ? React.cloneElement(child, { sortable, index })\n                  : child\n              )}\n            </LegendList>\n          )}\n        </div>\n\n        {/* LEGEND CLOSED */}\n        <button\n          type=\"button\"\n          styleName={`close-legend ${classnames({ '-active': !expanded })}`}\n          onClick={() => this.onToggleLegend(true)}\n        >\n          <h1 styleName=\"legend-title\">\n            {title}\n\n            {/* Toggle button */}\n            <div styleName=\"toggle-legend\">\n              <Icon name=\"icon-arrow-up\" className=\"-small\" />\n            </div>\n          </h1>\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default Legend;\nexport { default as LegendListItem } from './components/legend-list-item';\nexport {\n  default as LegendItemToolbar,\n  LegendItemButtonBBox,\n  LegendItemButtonLayers,\n  LegendItemButtonOpacity,\n  LegendItemButtonVisibility,\n  LegendItemButtonInfo,\n  LegendItemButtonRemove,\n} from './components/legend-item-toolbar';\n\nexport {\n  default as LegendItemTypes,\n  LegendItemTypeBasic,\n  LegendItemTypeChoropleth,\n  LegendItemTypeGradient,\n  LegendItemTypeProportional,\n} from './components/legend-item-types';\n\n// export { default as LegendItemTimeline } from './components/legend-item-timeline';\n","import dayjs from 'dayjs';\n\n/**\n * Translate Moment units into DayJS units\n */\nconst getDayJsInterval = (interval) => {\n  // Shorthand units don't have to be translated\n  const momentToDayJSUnit = {\n    years: 'year',\n    quarters: 'quarter',\n    months: 'month',\n    weeks: 'week',\n    days: 'day',\n    hours: 'hour',\n    minutes: 'minute',\n    seconds: 'second',\n    milliseconds: 'millisecond',\n  };\n\n  return momentToDayJSUnit[interval] || interval;\n};\n\nexport const addToDate = (date, count, interval = 'days', toEnd) => {\n  const d = dayjs(date);\n\n  return toEnd\n    ? d.add(count, getDayJsInterval(interval)).endOf(getDayJsInterval(interval))\n    : d.add(count, getDayJsInterval(interval));\n};\n\nexport const formatDate = (date, format = 'YYYY-MM-DD') => {\n  return dayjs(date).format(format);\n};\n\nexport const formatDatePretty = (date, dateFormat = 'YYYY-MM-DD') => {\n  const d = dayjs(date);\n  const hasDays = dateFormat.includes('DD');\n  const hasMonths = dateFormat.includes('MM');\n\n  const months = [\n    'JAN',\n    'FEB',\n    'MAR',\n    'APR',\n    'MAY',\n    'JUN',\n    'JUL',\n    'AUG',\n    'SEPT',\n    'OCT',\n    'NOV',\n    'DEC',\n  ];\n  const day = d.format('DD');\n  const month = d.month();\n  const year = d.year();\n\n  return `${hasDays ? `${day} ` : ''}${hasMonths ? `${months[month]} ` : ''}${year}`;\n};\n\n// startDate and endDate are string dates\nexport const dateDiff = (startDate, endDate, interval) => {\n  const diff = dayjs(endDate).diff(dayjs(startDate), getDayJsInterval(interval));\n\n  return diff * -1;\n};\n\nexport const getTicks = (timelineConfig = {}) => {\n  const { minDate, maxDate, interval, marks, dateFormat } = timelineConfig;\n\n  // If user defines their own markers let's parse them if he pass a date as a value\n  if (marks) {\n    const newMarks = Object.keys(marks).reduce((acc, m) => {\n      if (typeof m === 'string') {\n        const key = dayjs(m).diff(dayjs(minDate), getDayJsInterval(interval));\n\n        return {\n          ...acc,\n          [key]: marks[m],\n        };\n      }\n\n      return {\n        ...acc,\n        [m]: marks[m],\n      };\n    }, {});\n\n    return newMarks;\n  }\n\n  // Otherwise, let's add default marks at the begginig and the end\n  const minMark = 0;\n  const maxMark = dayjs(maxDate).diff(dayjs(minDate), getDayJsInterval(interval));\n\n  const newMarks = {\n    [minMark]: {\n      label: dayjs(minDate).format(dateFormat),\n    },\n    [maxMark]: {\n      label: dayjs(maxDate).format(dateFormat),\n    },\n  };\n\n  return newMarks;\n};\n\n// startDate and endDate are string dates\nexport const gradientConverter = (gradient, minDate, interval) =>\n  Object.keys(gradient).reduce(\n    (acc, val) => ({\n      ...acc,\n      [dateDiff(val, minDate, interval)]: gradient[val],\n    }),\n    {}\n  );\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport isEqual from 'lodash/isEqual';\nimport classnames from 'classnames';\n\nimport Timestep from 'components/timestep';\n\nimport {\n  addToDate,\n  dateDiff,\n  gradientConverter,\n  formatDatePretty,\n  formatDate,\n  getTicks,\n} from './utils';\n\nimport './styles.scss';\n\nexport class TimestepContainer extends PureComponent {\n  timelineParams = null;\n\n  static propTypes = {\n    defaultStyles: PropTypes.shape({}),\n    activeLayer: PropTypes.shape({}),\n    handleChange: PropTypes.func.isRequired,\n  };\n\n  static defaultProps = { defaultStyles: {}, activeLayer: {} };\n\n  constructor(props) {\n    super(props);\n    const { activeLayer } = props;\n    const { timelineParams } = activeLayer;\n\n    this.timelineParams = timelineParams;\n  }\n\n  componentDidUpdate(prevProps) {\n    const { activeLayer } = this.props;\n    const { activeLayer: prevActiveLayer } = prevProps;\n\n    const { timelineParams } = activeLayer;\n    const { timelineParams: prevTimelineParams } = prevActiveLayer;\n\n    // Should we use timelineParams directly from params instead of doing this? I think so\n    if (!isEqual(timelineParams, prevTimelineParams)) {\n      this.timelineParams = timelineParams;\n      this.forceUpdate();\n    }\n  }\n\n  getTrackStyle = () => {\n    const { minDate, interval, trackStyle } = this.timelineParams;\n\n    if (Array.isArray(trackStyle)) {\n      return trackStyle.map((t) => {\n        const { gradient } = t || {};\n\n        if (!gradient) return t;\n\n        const styles = {\n          ...t,\n          gradient: gradientConverter(gradient, minDate, interval),\n        };\n\n        return styles;\n      });\n    }\n\n    const { gradient } = trackStyle || {};\n\n    if (gradient) {\n      return {\n        ...trackStyle,\n        gradient: gradientConverter(gradient, minDate, interval),\n      };\n    }\n\n    return trackStyle;\n  };\n\n  handleOnAfterChange = (range) => {\n    const { activeLayer, handleChange } = this.props;\n    const formattedRange = this.formatRange([range[0], range[1], range[2]]);\n\n    handleChange(formattedRange, activeLayer);\n  };\n\n  formatRange = (range) => {\n    const { minDate, interval } = this.timelineParams;\n    return range.map((r, i) => {\n      // if date is not the start date we should select the end of the interval\n      const toEnd = i !== 0;\n\n      return formatDate(addToDate(minDate, r, interval, toEnd));\n    });\n  };\n\n  formatValue = (value) => {\n    const { minDate, dateFormat, interval } = this.timelineParams;\n    return formatDatePretty(addToDate(minDate, value, interval), dateFormat);\n  };\n\n  render() {\n    if (!this.timelineParams) return null;\n    const { defaultStyles } = this.props;\n    const {\n      marks,\n      maxDate,\n      maxAbsoluteDate,\n      minDate,\n      minAbsoluteDate,\n      interval,\n      startDate,\n      endDate,\n      trimEndDate,\n      canPlay,\n    } = this.timelineParams;\n\n    return (\n      <div\n        styleName={classnames({\n          'c-legend-timestep': true,\n          '-can-play': canPlay,\n        })}\n      >\n        <Timestep\n          {...this.props}\n          {...defaultStyles}\n          {...this.timelineParams}\n          trackStyle={this.getTrackStyle()}\n          min={0}\n          minAbs={dateDiff(minAbsoluteDate || minDate, minDate, interval, false)}\n          max={dateDiff(maxDate, minDate, interval)}\n          maxAbs={dateDiff(maxAbsoluteDate || maxDate, minDate, interval)}\n          start={dateDiff(startDate, minDate, interval)}\n          end={dateDiff(endDate, minDate, interval)}\n          trim={dateDiff(trimEndDate, minDate, interval)}\n          marks={marks || getTicks(this.timelineParams)}\n          formatValue={this.formatValue}\n          handleOnAfterChange={this.handleOnAfterChange}\n        />\n      </div>\n    );\n  }\n}\n\nexport default TimestepContainer;\n"],"names":["Icon","props","name","className","style","classNames","classnames","React","PureComponent","PropTypes","string","object","Icons","position","width","height","overflow","Tooltip","children","RCTooltip","node","STYLES","box","circle","fill","stroke","strokeWidth","strokeMiterlimit","Spinner","customClass","customClassNames","boxStyles","circleStyles","oneOf","shape","defaultMarkStyle","transform","msTransform","getStyledMarks","marks","keys","Object","map","key","mark","markIsObject","isValidElement","label","reduce","res","index","Slider","formatValue","showTooltip","value","dragging","restProps","formattedValue","tooltipVisible","SliderTooltip","color","Handle","range","handleStyle","rest","Component","Range","RCSlider","handleNum","Array","isArray","length","handleStyles","backgroundColor","marginLeft","marginTop","borderRadius","border","zIndex","pointerEvents","touchAction","externalClass","renderHandle","settings","oneOfType","array","number","bool","trackStyle","isRequired","func","railStyle","dotStyle","pushable","boxShadow","visibility","Timestep","state","start","end","trim","incrementTimeline","setState","clearInterval","interval","speed","step","max","maxAbs","maxCurrent","setTimeout","newEnd","handleResetTimeline","handleOnChange","handleOnAfterChange","loop","stopTimeline","startTimeline","playing","minProp","min","maxProp","minAbs","minGap","maxGap","newRange","checkRange","handleOnPlay","statePlaying","p","prevProps","prevState","stateStart","stateEnd","stateTrim","prevStatePlaying","prevStateStart","prevStateEnd","prevStateTrim","prevPropsPlaying","prevPropsStart","prevPropsEnd","prevPropsTrim","prevPropsMinAbs","prevPropsMaxAbs","diff","diff2","stringArr","t","i","gradient","stringKeys","filter","g","j","next","di","first","perc","findIndex","ix","last","background","join","toString","iconStatus","handleTogglePlay","canPlay","PlayButton","renderPlay","getValue","getTrackStyle","Infinity","undefined","window","L","MapPopup","latlng","removePopup","content","buildPopup","popup","setLatLng","setContent","openOn","popupComponent","document","createElement","render","Children","child","type","cloneElement","remove","maxWidth","minWidth","onReady","prevLatLng","prevData","data","nextLatLng","nextData","isEqual","setPopup","updatePopup","MapControls","c","ZoomControl","zoom","getZoom","maxZoom","getMaxZoom","setZoom","minZoom","getMinZoom","on","off","componentClass","zoomInClass","zoomOutClass","increaseZoom","decreaseZoom","originalInitTile","GridLayer","prototype","_initTile","include","tile","call","tileSize","getTileSize","x","y","Maps","mapOptions","mapNode","defaultProps","center","setView","basemap","basemapLayer","tileLayer","url","options","addTo","setZIndex","labelLayer","bounds","bbox","mapBounds","fitBounds","interactionEnabled","scrollZoomEnabled","setMap","setBasemap","setLabel","setBounds","setEvents","disable","touchZoom","doubleClickZoom","scrollWheelZoom","boxZoom","keyboard","forceUpdate","prevBasemap","prevLabel","prevBounds","prevEvents","events","prevMapOptions","nextBasemap","nextLabel","nextBounds","nextEvents","nextMapOptions","setMapOptions","removeEvents","forEach","e","zoomControl","attribution","mapWasDragEnabled","mapWasTapEnabled","el","types","fn","context","split","DomEvent","getRangeEvent","rangeInput","cancelMapDrag","_map","enabled","tap","uncancelMapDrag","_refocusOnMap","enable","asArray","arg","noop","Control","SideBySide","extend","thumbSize","padding","initialize","leftLayers","rightLayers","setLeftLayers","setRightLayers","setOptions","getPosition","rangeValue","_range","offset","getSize","setPosition","includes","Evented","Mixin","Events","container","_container","DomUtil","create","_controlContainer","_divider","paddingLeft","paddingRight","_addEvents","_updateLayers","_leftLayer","getContainer","clip","_rightLayer","_removeEvents","_leftLayers","_rightLayers","_updateClip","nw","containerPointToLayerPoint","se","clipX","dividerX","left","fire","clipLeft","clipRight","prevLeft","prevRight","layer","hasLayer","Browser","touch","control","sideBySide","MapSideBySide","sideBySideControl","LegendList","target","id","scrolling","timeout","clearTimeout","sortable","onScroll","SortableContainer","LegendItemDrag","SortableHandle","LegendListItem","layers","toolbar","title","activeLayer","find","l","active","dataset","arrayOf","SortableElement","layerGroup","LegendItemButtonBBox","visible","nextProps","tooltipOpened","icon","focusStyle","defaultStyle","tooltipText","layerConfig","v","onChangeBBox","LegendLayersTooltip","onChangeLayer","LegendItemButtonLayers","visibilityHover","visibilityClick","multiLayersActive","onTooltipVisibilityChange","sortBy","timeline","order","prevIndex","nextIndex","timelineLayers","getTimelineLayers","LegendOpacityTooltip","onChangeOpacity","opacity","prevOpacity","stateOpacity","prevStateOpacity","Math","round","onChange","LegendItemButtonOpacity","enabledStyle","disabledStyle","iconStyle","setHoverText","styles","tooltip","LegendItemButtonVisibility","iconShow","iconHide","showIcon","hideIcon","activeIcon","onChangeVisibility","LegendItemButtonInfo","onChangeInfo","LegendItemButtonRemove","onRemoveLayer","LegendItemToolbar","count","console","info","o","substitution","originalStr","params","str","replace","RegExp","concatenation","sql","compact","k","mappedValue","Number","isNaN","startsWith","sqlParams","LegendItem","iconName","size","boderRightWidth","boderLeftWidth","boderBottomWidth","borderBottomColor","getIconHtml","LegendTypeBasic","mode","legendConfig","items","item","it","borderBottom","LegendTypeChoropleth","LegendTypeGradient","itemTransparent","backgroundImage","LegendItemTypes","loading","dataParse","fetch","then","response","ok","json","parsedActiveLayer","catch","parsedConfig","JSON","stringify","parse","fetchLegend","prevActiveLayer","prevLegendConfig","prevParams","prevSqlParams","nextActiveLayer","nextLegendConfig","nextParams","nextSqlParams","stringifyConfig","propsActiveLayer","stateActiveLayer","isEmpty","shouldRender","LegendItemTypeBasic","LegendItemTypeChoropleth","LegendItemTypeGradient","LegendItemTypeProportional","Legend","expanded","oldIndex","newIndex","onChangeOrder","layersDatasets","arrayMove","collapsable","maxHeight","onToggleLegend","_","event","preventDefault","onSortEnd","ids","getDayJsInterval","momentToDayJSUnit","years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds","addToDate","date","toEnd","d","dayjs","add","endOf","formatDate","format","formatDatePretty","dateFormat","hasDays","hasMonths","day","month","year","dateDiff","startDate","endDate","getTicks","timelineConfig","minDate","maxDate","newMarks","acc","m","minMark","maxMark","gradientConverter","val","TimestepContainer","timelineParams","handleChange","formattedRange","formatRange","r","prevTimelineParams","defaultStyles","maxAbsoluteDate","minAbsoluteDate","trimEndDate"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAKMA;;;;;;;;;;;;;6BAaK;AAAA,wBAC4B,KAAKC,KADjC;AAAA,UACCC,IADD,eACCA,IADD;AAAA,UACOC,SADP,eACOA,SADP;AAAA,UACkBC,KADlB,eACkBA,KADlB;AAGP,UAAMC,UAAU,GAAGC,8BAAU,qBAAIH,SAAJ,EAAgB,CAAC,CAACA,SAAlB,EAA7B;AAEA,0BACEI;AAAwC,QAAA,KAAK,EAAEH,KAA/C;AAAA,sEAA0BC,UAA1B;AAAA,sBACEE;AAAK,QAAA,SAAS,aAAML,IAAN;AAAd,QADF,CADF;AAKD;;;;EAvBgBK,yBAAK,CAACC;;gBAAnBR,mBACe;AACjBE,EAAAA,IAAI,EAAEO,6BAAS,CAACC,MADC;AAEjBP,EAAAA,SAAS,EAAEM,6BAAS,CAACC,MAFJ;AAGjBN,EAAAA,KAAK,EAAEK,6BAAS,CAACE;AAHA;;gBADfX,sBAOkB;AACpBE,EAAAA,IAAI,EAAE,EADc;AAEpBC,EAAAA,SAAS,EAAE,EAFS;AAGpBC,EAAAA,KAAK,EAAE;AAHa,OCVlBQ,KAAK,GAAG,SAARA,KAAQ;AAAA,sBACZL;AAAK,mBAAY,MAAjB;AAAwB,IAAA,KAAK,EAAE;AAAEM,MAAAA,QAAQ,EAAE,UAAZ;AAAwBC,MAAAA,KAAK,EAAE,CAA/B;AAAkCC,MAAAA,MAAM,EAAE,CAA1C;AAA6CC,MAAAA,QAAQ,EAAE;AAAvD;AAA/B,kBACET,mEACEA;AAAQ,IAAA,EAAE,EAAC,YAAX;AAAwB,IAAA,OAAO,EAAC;AAAhC,kBACEA,+DADF,eAEEA;AAAM,IAAA,CAAC,EAAC;AAAR,IAFF,eAGEA;AAAM,IAAA,CAAC,EAAC;AAAR,IAHF,CADF,eAMEA;AAAQ,IAAA,EAAE,EAAC,WAAX;AAAuB,IAAA,OAAO,EAAC;AAA/B,kBACEA,8DADF,eAEEA;AAAM,IAAA,CAAC,EAAC;AAAR,IAFF,CANF,eAUEA;AAAQ,IAAA,EAAE,EAAC,YAAX;AAAwB,IAAA,OAAO,EAAC;AAAhC,kBACEA,+DADF,eAEEA;AAAM,IAAA,CAAC,EAAC;AAAR,IAFF,CAVF,eAcEA;AAAQ,IAAA,EAAE,EAAC,aAAX;AAAyB,IAAA,OAAO,EAAC;AAAjC,kBACEA,gEADF,eAEEA;AAAM,IAAA,CAAC,EAAC;AAAR,IAFF,CAdF,eAkBEA;AAAQ,IAAA,EAAE,EAAC,cAAX;AAA0B,IAAA,OAAO,EAAC;AAAlC,kBACEA,iEADF,eAEEA;AAAM,IAAA,CAAC,EAAC;AAAR,IAFF,CAlBF,eAsBEA;AAAQ,IAAA,EAAE,EAAC,WAAX;AAAuB,IAAA,OAAO,EAAC;AAA/B,kBACEA,8DADF,eAEEA;AAAM,IAAA,CAAC,EAAC;AAAR,IAFF,CAtBF,eA0BEA;AAAQ,IAAA,EAAE,EAAC,WAAX;AAAuB,IAAA,OAAO,EAAC;AAA/B,kBACEA,8DADF,eAEEA;AAAM,IAAA,CAAC,EAAC;AAAR,IAFF,CA1BF,eA8BEA;AAAQ,IAAA,EAAE,EAAC,iBAAX;AAA6B,IAAA,OAAO,EAAC;AAArC,kBACEA,oEADF,eAEEA;AAAM,IAAA,CAAC,EAAC;AAAR,IAFF,CA9BF,eAkCEA;AAAQ,IAAA,EAAE,EAAC,eAAX;AAA2B,IAAA,OAAO,EAAC;AAAnC,kBACEA,kEADF,eAEEA;AAAM,IAAA,CAAC,EAAC;AAAR,IAFF,CAlCF,eAsCEA;AAAQ,IAAA,EAAE,EAAC,WAAX;AAAuB,IAAA,OAAO,EAAC;AAA/B,kBACEA,8DADF,eAEEA;AAAM,IAAA,CAAC,EAAC;AAAR,IAFF,CAtCF,eA0CEA;AAAQ,IAAA,EAAE,EAAC,gBAAX;AAA4B,IAAA,OAAO,EAAC;AAApC,kBACEA,mEADF,eAEEA;AAAM,IAAA,CAAC,EAAC;AAAR,IAFF,eAGEA;AAAM,IAAA,CAAC,EAAC;AAAR,IAHF,eAIEA;AAAM,IAAA,CAAC,EAAC;AAAR,IAJF,eAKEA;AAAM,IAAA,CAAC,EAAC;AAAR,IALF,eAMEA;AAAM,IAAA,CAAC,EAAC;AAAR,IANF,eAOEA;AAAM,IAAA,CAAC,EAAC;AAAR,IAPF,CA1CF,eAmDEA;AAAQ,IAAA,EAAE,EAAC,YAAX;AAAwB,IAAA,OAAO,EAAC;AAAhC,kBACEA,+DADF,eAEEA;AAAM,IAAA,CAAC,EAAC;AAAR,IAFF,CAnDF,eAuDEA;AAAQ,IAAA,EAAE,EAAC,WAAX;AAAuB,IAAA,OAAO,EAAC;AAA/B,kBACEA,8DADF,eAEEA;AAAM,IAAA,CAAC,EAAC;AAAR,IAFF,CAvDF,CADF,CADY;AAAA,MCGDU,OAAb;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,6BASW;AAAA,UACCC,QADD,GACc,KAAKjB,KADnB,CACCiB,QADD;AAEP,0BAAOX,wCAACY,6BAAD,EAAe,KAAKlB,KAApB,EAA4BiB,QAA5B,CAAP;AACD;AAZH;;AAAA;AAAA,EAA6BX,yBAAK,CAACC,aAAnC;;gBAAaS,sBACQ;AACjBC,EAAAA,QAAQ,EAAET,6BAAS,CAACW;AADH;;gBADRH,yBAKW;AACpBC,EAAAA,QAAQ,EAAE;AADU;;;;;;;;;;;;;;ACJxB,IAAMG,MAAM,GAAG;AACbC,EAAAA,GAAG,EAAE;AACHR,IAAAA,KAAK,EAAE,EADJ;AAEHC,IAAAA,MAAM,EAAE;AAFL,GADQ;AAKbQ,EAAAA,MAAM,EAAE;AACNC,IAAAA,IAAI,EAAE,MADA;AAENC,IAAAA,MAAM,EAAE,MAFF;AAGNC,IAAAA,WAAW,EAAE,CAHP;AAINC,IAAAA,gBAAgB,EAAE;AAJZ;AALK,CAAf;IAaaC,OAAb;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,6BAqBW;AAAA,wBACkC,KAAK3B,KADvC;AAAA,UACCY,QADD,eACCA,QADD;AAAA,UACWgB,WADX,eACWA,WADX;AAAA,UACwBzB,KADxB,eACwBA,KADxB;AAEP,UAAMC,UAAU,GAAGC,8BAAU;AAC3B,qBAAa;AADc,oBAEtBO,QAFsB,GAET,IAFS,EAA7B;AAKA,UAAMiB,gBAAgB,GAAGxB,8BAAU;AACjC,qBAAa;AADoB,SAEhCuB,WAFgC,EAElB,CAAC,CAACA,WAFgB,EAAnC;;AAKA,UAAME,SAAS,qCAAQV,MAAM,CAACC,GAAf,GAAuBlB,KAAK,CAACkB,GAA7B,CAAf;;AACA,UAAMU,YAAY,qCAAQX,MAAM,CAACE,MAAf,GAA0BnB,KAAK,CAACmB,MAAhC,CAAlB;;AAEA,0BACEhB;AAAA,oBAAuCuB,gBAAvC,GAAuCA,gBAAvC,iDAAgBzB,UAAhB;AAAA,sBACEE;AAAK,QAAA,SAAS,EAAC,yBAAf;AAA6B,QAAA,KAAK,EAAEwB;AAApC,sBACExB;AAAK,QAAA,SAAS,EAAC,0BAAf;AAA8B,QAAA,OAAO,EAAC;AAAtC,sBACEA,+DAAYyB,YAAZ;AAA0B,QAAA,SAAS,EAAC,4BAAD,WAAvBA,YAAuB,GAAvBA,YAAuB,uBAAnC;AAAqD,QAAA,EAAE,EAAE,EAAzD;AAA6D,QAAA,EAAE,EAAE,EAAjE;AAAqE,QAAA,CAAC,EAAE;AAAxE,SADF,CADF,CADF,CADF;AASD;AA7CH;;AAAA;AAAA,EAA6BxB,mBAA7B;;gBAAaoB,sBACQ;AACjBf,EAAAA,QAAQ,EAAEJ,6BAAS,CAACwB,KAAV,CAAgB,CAAC,UAAD,EAAa,UAAb,EAAyB,OAAzB,CAAhB,CADO;AAEjB9B,EAAAA,SAAS,EAAEM,6BAAS,CAACC,MAFJ;AAGjBmB,EAAAA,WAAW,EAAEpB,6BAAS,CAACC,MAHN;AAIjBN,EAAAA,KAAK,EAAEK,6BAAS,CAACyB,KAAV,CAAgB;AACrBZ,IAAAA,GAAG,EAAEb,6BAAS,CAACE,MADM;AAErBY,IAAAA,MAAM,EAAEd,6BAAS,CAACE;AAFG,GAAhB;AAJU;;gBADRiB,yBAWW;AACpBf,EAAAA,QAAQ,EAAE,UADU;AAEpBV,EAAAA,SAAS,EAAE,IAFS;AAGpB0B,EAAAA,WAAW,EAAE,IAHO;AAIpBzB,EAAAA,KAAK,EAAE;AACLkB,IAAAA,GAAG,EAAE,EADA;AAELC,IAAAA,MAAM,EAAE;AAFH;AAJa,GC3BxB;AACA;;AACA,IAAMY,gBAAgB,GAAG;AACvBC,EAAAA,SAAS,EAAE,MADY;AAEvBC,EAAAA,WAAW,EAAE;AAFU,CAAzB;AAKO,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,KAAD,EAAW;AACvC,MAAMC,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAYD,KAAZ,CAAb;AACA,SAAOC,IAAI,CACRE,GADI,CACA,UAACC,GAAD,EAAS;AACZ,QAAMC,IAAI,GAAGL,KAAK,CAACI,GAAD,CAAlB;AACA,QAAME,YAAY,GAAG,QAAOD,IAAP,MAAgB,QAAhB,IAA4B,eAACE,oBAAc,CAACF,IAAD,CAAhE;;AAEA,QAAIC,YAAJ,EAAkB;AAChB;AAASzC,QAAAA,KAAK,EAAE+B;AAAhB,SAAqCS,IAArC;AACD;;AAED,WAAO;AAAEG,MAAAA,KAAK,EAAEH,IAAT;AAAexC,MAAAA,KAAK,EAAE+B;AAAtB,KAAP;AACD,GAVI,EAWJa,MAXI,CAWG,UAACC,GAAD,EAAML,IAAN,EAAYM,KAAZ;AAAA,6CAA4BD,GAA5B,2BAAkCT,IAAI,CAACU,KAAD,CAAtC,EAAgDN,IAAhD;AAAA,GAXH,EAW4D,EAX5D,CAAP;AAYD,CAdM,KCCMO,MAAb;AAAA;;AAAA;;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA,mEAsCiB,UAAClD,KAAD,EAAW;AAAA,wBACa,MAAKA,KADlB;AAAA,UAChBmD,WADgB,eAChBA,WADgB;AAAA,UACHC,WADG,eACHA,WADG;;AAAA,UAEhBC,KAFgB,GAEyBrD,KAFzB,CAEhBqD,KAFgB;AAAA,UAETC,QAFS,GAEyBtD,KAFzB,CAETsD,QAFS;AAAA,UAECL,KAFD,GAEyBjD,KAFzB,CAECiD,KAFD;AAAA,UAEWM,SAFX,4BAEyBvD,KAFzB;;AAGxB,UAAMwD,cAAc,GAAGL,WAAW,GAAGA,WAAW,CAACE,KAAD,CAAd,GAAwBA,KAA1D;AACA,UAAMI,cAAc,GAAGL,WAAW,GAAGA,WAAW,CAACH,KAAD,CAAd,GAAwB,KAA1D;AAEA,0BACE3C,wCAACoD,sBAAD;AACE,QAAA,GAAG,EAAET,KADP;AAEE,QAAA,OAAO,EAAEO,cAFX;AAGE,QAAA,gBAAgB,EAAC,uBAHnB;AAIE,QAAA,YAAY,EAAE;AAAEG,UAAAA,KAAK,EAAE;AAAT,SAJhB;AAKE,QAAA,SAAS,EAAC,KALZ;AAME,QAAA,eAAe,EAAE,CANnB;AAOE,QAAA,oBAAoB,MAPtB;AAQE,QAAA,OAAO,EAAE,CAAC,CAACL,QAAF,IAAc,CAAC,CAACG;AAR3B,sBAUEnD,wCAACsD,eAAD;AAAQ,QAAA,SAAS,EAAC,aAAlB;AAAgC,QAAA,KAAK,EAAEP;AAAvC,SAAkDE,SAAlD,EAVF,CADF;AAcD,KA1DH;;AAAA;AAAA;;AAAA;AAAA;AAAA,6BA4DW;AAAA,yBAC4D,KAAKvD,KADjE;AAAA,UACC4B,WADD,gBACCA,WADD;AAAA,UACciC,KADd,gBACcA,KADd;AAAA,UACqBC,WADrB,gBACqBA,WADrB;AAAA,UACkCT,KADlC,gBACkCA,KADlC;AAAA,UACyCf,KADzC,gBACyCA,KADzC;AAAA,UACmDyB,IADnD;;AAGP,UAAMC,SAAS,GAAGH,KAAK,GAAGI,cAAH,GAAWC,4BAAlC;AACA,UAAMC,SAAS,GAAGC,KAAK,CAACC,OAAN,CAAchB,KAAd,IAAuBA,KAAK,CAACiB,MAA7B,GAAsC,CAAxD;AACA,UAAMC,YAAY,GAAGhD,wBAAI,CAAC6C,KAAK,CAACD,SAAD,CAAN,EAAmB;AAC1CtD,QAAAA,KAAK,EAAE,KADmC;AAE1CC,QAAAA,MAAM,EAAE,MAFkC;AAG1C0D,QAAAA,eAAe,EAAE,SAHyB;AAI1CC,QAAAA,UAAU,EAAE,MAJ8B;AAK1CC,QAAAA,SAAS,EAAE,MAL+B;AAM1CC,QAAAA,YAAY,EAAE,CAN4B;AAO1CC,QAAAA,MAAM,EAAE,CAPkC;AAQ1CC,QAAAA,MAAM,EAAE,CARkC;AAS1CC,QAAAA,aAAa,EAAE,MAT2B;AAU1CC,QAAAA,WAAW,EAAE;AAV6B,OAAnB,CAAzB;AAYAR,MAAAA,YAAY,CAAC,CAAD,CAAZ,GAAkBT,WAAlB;AACAS,MAAAA,YAAY,CAACJ,SAAS,GAAG,CAAb,CAAZ,GAA8BL,WAA9B;AAEA,UAAMkB,aAAa,GAAG3E,8BAAU,CAAC,mBAAD,sBAAyBuB,WAAzB,EAAuC,CAAC,CAACA,WAAzC,EAAhC;AAEA,0BACEtB;AAAK,QAAA,SAAS,EAAE0E;AAAhB,sBACE1E,wCAAC,SAAD;AACE,QAAA,MAAM,EAAE,KAAK2E,YADf;AAEE,QAAA,WAAW,EAAEV,YAFf;AAGE,QAAA,KAAK,EAAElB,KAHT;AAIE,QAAA,KAAK,EAAEf,KAAK,GAAGD,cAAc,CAACC,KAAD,CAAjB,GAA2BA;AAJzC,SAKMyB,IALN,EADF,CADF;AAWD;AA7FH;;AAAA;AAAA,EAA4BxD,mBAA5B;;gBAAa2C,qBACQ;AACjBtB,EAAAA,WAAW,EAAEpB,6BAAS,CAACC,MADN;AAEjByE,EAAAA,QAAQ,EAAE1E,6BAAS,CAACyB,KAAV,CAAgB,EAAhB,CAFO;AAGjBoB,EAAAA,KAAK,EAAE7C,6BAAS,CAAC2E,SAAV,CAAoB,CAAC3E,6BAAS,CAAC4E,KAAX,EAAkB5E,6BAAS,CAAC6E,MAA5B,CAApB,CAHU;AAIjB/B,EAAAA,QAAQ,EAAE9C,6BAAS,CAAC8E,IAJH;AAKjBrC,EAAAA,KAAK,EAAEzC,6BAAS,CAAC6E,MALA;AAMjBxB,EAAAA,KAAK,EAAErD,6BAAS,CAAC8E,IANA;AAOjBC,EAAAA,UAAU,EAAE/E,6BAAS,CAAC2E,SAAV,CAAoB,CAAC3E,6BAAS,CAAC4E,KAAX,EAAkB5E,6BAAS,CAACyB,KAAV,CAAgB,EAAhB,CAAlB,CAApB,EAA4DuD,UAPvD;AAQjB1B,EAAAA,WAAW,EAAEtD,6BAAS,CAAC2E,SAAV,CAAoB,CAAC3E,6BAAS,CAAC4E,KAAX,EAAkB5E,6BAAS,CAACyB,KAAV,CAAgB,EAAhB,CAAlB,CAApB,CARI;AASjBkB,EAAAA,WAAW,EAAE3C,6BAAS,CAACiF,IATN;AAUjBrC,EAAAA,WAAW,EAAE5C,6BAAS,CAACiF,IAVN;AAWjBC,EAAAA,SAAS,EAAElF,6BAAS,CAACyB,KAAV,CAAgB,EAAhB,CAXM;AAYjB0D,EAAAA,QAAQ,EAAEnF,6BAAS,CAACyB,KAAV,CAAgB,EAAhB,CAZO;AAajB2D,EAAAA,QAAQ,EAAEpF,6BAAS,CAAC2E,SAAV,CAAoB,CAAC3E,6BAAS,CAAC8E,IAAX,EAAiB9E,6BAAS,CAAC6E,MAA3B,CAApB;AAbO;;gBADRnC,wBAiBW;AACpBtB,EAAAA,WAAW,EAAE,IADO;AAEpBsD,EAAAA,QAAQ,EAAE,EAFU;AAGpB7B,EAAAA,KAAK,EAAE,CAAC,CAAD,CAHa;AAIpBC,EAAAA,QAAQ,EAAE,KAJU;AAKpBL,EAAAA,KAAK,EAAE,CALa;AAMpBY,EAAAA,KAAK,EAAE,KANa;AAOpBC,EAAAA,WAAW,EAAE;AACXU,IAAAA,eAAe,EAAE,SADN;AAEXG,IAAAA,YAAY,EAAE,MAFH;AAGXkB,IAAAA,SAAS,EAAE,iCAHA;AAIXjB,IAAAA,MAAM,EAAE,KAJG;AAKXC,IAAAA,MAAM,EAAE;AALG,GAPO;AAcpB1B,EAAAA,WAAW,EAAE,IAdO;AAepBC,EAAAA,WAAW,EAAE,IAfO;AAgBpBsC,EAAAA,SAAS,EAAE;AAAElB,IAAAA,eAAe,EAAE;AAAnB,GAhBS;AAiBpBmB,EAAAA,QAAQ,EAAE;AAAEG,IAAAA,UAAU,EAAE,QAAd;AAAwBlB,IAAAA,MAAM,EAAE;AAAhC,GAjBU;AAkBpBgB,EAAAA,QAAQ,EAAE;AAlBU;;;;;;;;;ICjBlBG;;;;;AAmEJ,oBAAY/F,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;;AADiB,oEAuKH,YAAM;AAAA,wBACS,MAAKgG,KADd;AAAA,UACZC,KADY,eACZA,KADY;AAAA,UACLC,GADK,eACLA,GADK;AAAA,UACAC,IADA,eACAA,IADA;;AAEpB,UAAID,GAAG,GAAGC,IAAV,EAAgB;AACd,cAAKC,iBAAL;AACD,OAFD,MAEO,IAAIF,GAAG,IAAIC,IAAX,EAAiB;AACtB,cAAKE,QAAL,CAAc;AAAEH,UAAAA,GAAG,EAAED;AAAP,SAAd,EAA8B,YAAM;AAClC,gBAAKG,iBAAL;AACD,SAFD;AAGD;AACF,KAhLkB;;AAAA,mEAkLJ,YAAM;AACnBE,MAAAA,aAAa,CAAC,MAAKC,QAAN,CAAb;AACD,KApLkB;;AAAA,wEAsLC,YAAM;AAAA,yBACK,MAAKP,KADV;AAAA,UAChBC,KADgB,gBAChBA,KADgB;AAAA,UACTC,GADS,gBACTA,GADS;AAAA,UACJC,IADI,gBACJA,IADI;AAAA,wBAEoB,MAAKnG,KAFzB;AAAA,UAEhBwG,KAFgB,eAEhBA,KAFgB;AAAA,UAETC,IAFS,eAETA,IAFS;AAAA,UAEH5C,KAFG,eAEHA,KAFG;AAAA,UAEI6C,GAFJ,eAEIA,GAFJ;AAAA,UAESC,MAFT,eAESA,MAFT;AAIxB,UAAMC,UAAU,GAAGF,GAAG,IAAIC,MAAP,GAAgBA,MAAhB,GAAyBD,GAA5C;AAEA,YAAKH,QAAL,GAAgBM,UAAU,CAAC,YAAM;AAC/B,YAAMC,MAAM,GAAGZ,GAAG,GAAGO,IAArB;;AAEA,YAAKK,MAAM,GAAGX,IAAT,IAAiBtC,KAAlB,IAA6B,CAACA,KAAD,IAAUiD,MAAM,IAAIF,UAArD,EAAkE;AAChE,gBAAKG,mBAAL;AACD,SAFD,MAEO;AACL,gBAAKC,cAAL,CAAoB,CAACf,KAAD,EAAQa,MAAR,EAAgBX,IAAhB,CAApB;;AACA,gBAAKc,mBAAL,CAAyB,CAAChB,KAAD,EAAQa,MAAR,EAAgBX,IAAhB,CAAzB;AACD;AACF,OATyB,EASvBK,KATuB,CAA1B;AAUD,KAtMkB;;AAAA,0EAwMG,YAAM;AAAA,UAClBU,IADkB,GACT,MAAKlH,KADI,CAClBkH,IADkB;AAAA,UAElBf,IAFkB,GAET,MAAKH,KAFI,CAElBG,IAFkB;;AAG1B,YAAKgB,YAAL;;AAEA,UAAID,IAAJ,EAAU;AACR,cAAKE,aAAL;AACD,OAFD,MAEO;AACL,cAAKf,QAAL,CAAc;AAAEgB,UAAAA,OAAO,EAAE,KAAX;AAAkBnB,UAAAA,GAAG,EAAEC;AAAvB,SAAd;AACD;AACF,KAlNkB;;AAAA,iEAoNN,UAACtC,KAAD,EAAW;AAAA,yBACgB,MAAKmC,KADrB;AAAA,UACdqB,OADc,gBACdA,OADc;AAAA,UACLpB,KADK,gBACLA,KADK;AAAA,UACEC,GADF,gBACEA,GADF;AAAA,UACOC,IADP,gBACOA,IADP;AAAA,yBAEiD,MAAKnG,KAFtD;AAAA,UAETsH,OAFS,gBAEdC,GAFc;AAAA,UAEKC,OAFL,gBAEAd,GAFA;AAAA,UAEce,MAFd,gBAEcA,MAFd;AAAA,UAEsBd,MAFtB,gBAEsBA,MAFtB;AAAA,UAE8Be,MAF9B,gBAE8BA,MAF9B;AAAA,UAEsCC,MAFtC,gBAEsCA,MAFtC;;AAItB,UAAI,CAACvD,KAAK,CAACC,OAAN,CAAcR,KAAd,CAAL,EAA2B;AACzB,eAAO,CAACoC,KAAD,EAAQpC,KAAR,EAAesC,IAAf,CAAP;AACD;;AAED,UAAIoB,GAAG,GAAG1D,KAAK,CAAC,CAAD,CAAL,IAAY4D,MAAZ,GAAqBA,MAArB,GAA8B5D,KAAK,CAAC,CAAD,CAA7C;AACA,UAAI6C,GAAG,GAAG7C,KAAK,CAAC,CAAD,CAAL,IAAY8C,MAAZ,GAAqBA,MAArB,GAA8B9C,KAAK,CAAC,CAAD,CAA7C,CATsB;;AAYtB,UAAI,CAACwD,OAAD,IAAYxD,KAAK,CAAC,CAAD,CAAL,KAAaoC,KAA7B,EAAoC;AAClC,YAAIyB,MAAM,IAAIhB,GAAG,GAAGa,GAAN,GAAYG,MAA1B,EAAkC;AAChC,cAAIhB,GAAG,KAAKC,MAAR,IAAkBD,GAAG,KAAKc,OAA9B,EAAuC;AACrCD,YAAAA,GAAG,GAAGb,GAAG,GAAGgB,MAAZ;AACD,WAFD,MAEO;AACLhB,YAAAA,GAAG,GAAGa,GAAG,GAAGG,MAAZ;AACD;AACF;;AAED,YAAIC,MAAJ,EAAY;AACVjB,UAAAA,GAAG,GAAGA,GAAG,GAAGa,GAAN,GAAYI,MAAZ,GAAqBJ,GAAG,GAAGI,MAA3B,GAAoCjB,GAA1C;AACD;;AAED,eAAO,CAACa,GAAD,EAAMb,GAAN,EAAWA,GAAX,CAAP;AACD,OA1BqB;;;AA6BtB,UAAI,CAACW,OAAD,IAAYxD,KAAK,CAAC,CAAD,CAAL,KAAaA,KAAK,CAAC,CAAD,CAA9B,IAAqCsC,IAAI,KAAKtC,KAAK,CAAC,CAAD,CAAvD,EAA4D;AAC1D,YAAI6D,MAAM,IAAIhB,GAAG,IAAIa,GAAG,GAAGG,MAAV,CAAH,GAAuB,CAArC,EAAwC;AACtC,cAAIH,GAAG,KAAKE,MAAR,IAAkBF,GAAG,KAAKD,OAA9B,EAAuC;AACrCZ,YAAAA,GAAG,GAAGa,GAAG,GAAGG,MAAZ;AACD,WAFD,MAEO;AACLH,YAAAA,GAAG,GAAGb,GAAG,GAAGgB,MAAZ;AACD;AACF;;AAED,YAAIC,MAAJ,EAAY;AACVJ,UAAAA,GAAG,GAAGb,GAAG,IAAIa,GAAG,GAAGI,MAAV,CAAH,GAAuB,CAAvB,GAA2BjB,GAAG,GAAGiB,MAAjC,GAA0CJ,GAAhD;AACD;;AAED,eAAO,CAACA,GAAD,EAAMb,GAAN,EAAWA,GAAX,CAAP;AACD,OA3CqB;;;AA8CtB,UAAI,CAACW,OAAD,IAAYxD,KAAK,CAAC,CAAD,CAAL,KAAaA,KAAK,CAAC,CAAD,CAA9B,IAAqCqC,GAAG,KAAKrC,KAAK,CAAC,CAAD,CAAtD,EAA2D;AACzD6C,QAAAA,GAAG,GAAG7C,KAAK,CAAC,CAAD,CAAL,IAAY8C,MAAZ,GAAqBA,MAArB,GAA8B9C,KAAK,CAAC,CAAD,CAAzC;;AAEA,YAAI6D,MAAM,IAAIhB,GAAG,IAAIa,GAAG,GAAGG,MAAV,CAAH,GAAuB,CAArC,EAAwC;AACtC,cAAIH,GAAG,KAAKE,MAAR,IAAkBF,GAAG,KAAKD,OAA9B,EAAuC;AACrCZ,YAAAA,GAAG,GAAGa,GAAG,GAAGG,MAAZ;AACD,WAFD,MAEO;AACLH,YAAAA,GAAG,GAAGb,GAAG,GAAGgB,MAAZ;AACD;AACF;;AAED,YAAIC,MAAJ,EAAY;AACVJ,UAAAA,GAAG,GAAGb,GAAG,IAAIa,GAAG,GAAGI,MAAV,CAAH,GAAuB,CAAvB,GAA2BjB,GAAG,GAAGiB,MAAjC,GAA0CJ,GAAhD;AACD;;AAED,eAAO,CAACA,GAAD,EAAMb,GAAN,EAAWA,GAAX,CAAP;AACD,OA9DqB;;;AAiEtB,UAAI,CAACW,OAAD,IAAYlB,IAAI,KAAKtC,KAAK,CAAC,CAAD,CAA9B,EAAmC;AACjC,YAAI6D,MAAM,IAAIhB,GAAG,IAAIa,GAAG,GAAGG,MAAV,CAAH,GAAuB,CAArC,EAAwC;AACtC,cAAIH,GAAG,KAAKE,MAAR,IAAkBF,GAAG,KAAKD,OAA9B,EAAuC;AACrCZ,YAAAA,GAAG,GAAGa,GAAG,GAAGG,MAAZ;AACD,WAFD,MAEO;AACLH,YAAAA,GAAG,GAAGb,GAAG,GAAGgB,MAAZ;AACD;AACF;;AAED,YAAIC,MAAJ,EAAY;AACVJ,UAAAA,GAAG,GAAGb,GAAG,IAAIa,GAAG,GAAGI,MAAV,CAAH,GAAuB,CAAvB,GAA2BjB,GAAG,GAAGiB,MAAjC,GAA0CJ,GAAhD;AACD;;AAED,eAAO,CAACA,GAAD,EAAMb,GAAN,EAAWA,GAAX,CAAP;AACD;;AAED,aAAO7C,KAAP;AACD,KAtSkB;;AAAA,qEAwSF,UAACA,KAAD,EAAW;AAAA,UAClBmD,cADkB,GACC,MAAKhH,KADN,CAClBgH,cADkB;;AAE1B,UAAMY,QAAQ,GAAG,MAAKC,UAAL,CAAgBhE,KAAhB,CAAjB;;AAEA,YAAKwC,QAAL,CAAc;AACZJ,QAAAA,KAAK,EAAE2B,QAAQ,CAAC,CAAD,CADH;AAEZ1B,QAAAA,GAAG,EAAE0B,QAAQ,CAAC,CAAD,CAFD;AAGZzB,QAAAA,IAAI,EAAEyB,QAAQ,CAAC,CAAD;AAHF,OAAd;;AAMA,UAAIZ,cAAJ,EAAoBA,cAAc,CAACY,QAAD,CAAd;AACrB,KAnTkB;;AAAA,0EAsTG,UAAC/D,KAAD,EAAW;AAAA,UACvBoD,mBADuB,GACC,MAAKjH,KADN,CACvBiH,mBADuB;;AAE/B,UAAMW,QAAQ,GAAG,MAAKC,UAAL,CAAgBhE,KAAhB,CAAjB;;AAEA,UAAIoD,mBAAJ,EAAyBA,mBAAmB,CAACW,QAAD,CAAnB;AAC1B,KA3TkB;;AAAA,uEA6TA,YAAM;AAAA,UACfE,YADe,GACE,MAAK9H,KADP,CACf8H,YADe;AAAA,UAENC,YAFM,GAEW,MAAK/B,KAFhB,CAEfqB,OAFe;AAIvB,UAAMW,CAAC,GAAG,CAACD,YAAX;;AAEA,YAAK1B,QAAL,CAAc;AAAEgB,QAAAA,OAAO,EAAEW;AAAX,OAAd;;AAEA,UAAIF,YAAJ,EAAkBA,YAAY,CAACE,CAAD,CAAZ;AACnB,KAtUkB;;AAAA,uBAEqC,MAAKhI,KAF1C;AAAA,QAETqH,QAFS,gBAETA,OAFS;AAAA,QAEApB,MAFA,gBAEAA,KAFA;AAAA,QAEOC,IAFP,gBAEOA,GAFP;AAAA,QAEYC,KAFZ,gBAEYA,IAFZ;AAAA,QAEkBsB,OAFlB,gBAEkBA,MAFlB;AAAA,QAE0Bd,OAF1B,gBAE0BA,MAF1B;AAIjB,UAAKX,KAAL,GAAa;AACXqB,MAAAA,OAAO,EAAPA,QADW;AAEXpB,MAAAA,KAAK,EAAEA,MAAK,IAAIwB,OAAT,GAAkBA,OAAlB,GAA2BxB,MAFvB;AAGXC,MAAAA,GAAG,EAAEA,IAAG,IAAIS,OAAP,GAAgBA,OAAhB,GAAyBT,IAHnB;AAIXC,MAAAA,IAAI,EAAEA,KAAI,IAAIQ,OAAR,GAAiBA,OAAjB,GAA0BR;AAJrB,KAAb;AAJiB;AAUlB;;;;uCAEkB8B,WAAWC,WAAW;AAAA,yBAC8C,KAAKlC,KADnD;AAAA,UACtB+B,YADsB,gBAC/BV,OAD+B;AAAA,UACDc,UADC,gBACRlC,KADQ;AAAA,UACgBmC,QADhB,gBACWlC,GADX;AAAA,UACgCmC,SADhC,gBAC0BlC,IAD1B;AAAA,UAG5BmC,gBAH4B,GAOnCJ,SAPmC,CAGrCb,OAHqC;AAAA,UAI9BkB,cAJ8B,GAOnCL,SAPmC,CAIrCjC,KAJqC;AAAA,UAKhCuC,YALgC,GAOnCN,SAPmC,CAKrChC,GALqC;AAAA,UAM/BuC,aAN+B,GAOnCP,SAPmC,CAMrC/B,IANqC;AAAA,yBASe,KAAKnG,KATpB;AAAA,UAS/BqH,OAT+B,gBAS/BA,OAT+B;AAAA,UAStBpB,KATsB,gBAStBA,KATsB;AAAA,UASfC,GATe,gBASfA,GATe;AAAA,UASVC,IATU,gBASVA,IATU;AAAA,UASJsB,MATI,gBASJA,MATI;AAAA,UASId,MATJ,gBASIA,MATJ;AAAA,UAW5B+B,gBAX4B,GAiBnCT,SAjBmC,CAWrCZ,OAXqC;AAAA,UAY9BsB,cAZ8B,GAiBnCV,SAjBmC,CAYrChC,KAZqC;AAAA,UAahC2C,YAbgC,GAiBnCX,SAjBmC,CAarC/B,GAbqC;AAAA,UAc/B2C,aAd+B,GAiBnCZ,SAjBmC,CAcrC9B,IAdqC;AAAA,UAe7B2C,eAf6B,GAiBnCb,SAjBmC,CAerCR,MAfqC;AAAA,UAgB7BsB,eAhB6B,GAiBnCd,SAjBmC,CAgBrCtB,MAhBqC;;AAmBvC,UAAIU,OAAO,KAAKqB,gBAAhB,EAAkC;AAChC,aAAKrC,QAAL,CAAc;AAAEgB,UAAAA,OAAO,EAAPA;AAAF,SAAd,EADgC;AAEjC;;AAED,UAAIU,YAAY,IAAIA,YAAY,KAAKO,gBAArC,EAAuD;AACrD,aAAKlB,aAAL;AACD,OAFD,MAEO,IAAI,CAACW,YAAD,IAAiBA,YAAY,KAAKO,gBAAtC,EAAwD;AAC7D,aAAKnB,YAAL;AACD,OAFM,MAEA,IAAIY,YAAY,IAAIK,QAAQ,KAAKI,YAAjC,EAA+C;AACpD,aAAKpC,iBAAL;AACD;;AAED,UAAIH,KAAK,KAAK0C,cAAV,IAA4B1C,KAAK,KAAKkC,UAAtC,IAAoDI,cAAc,KAAKJ,UAA3E,EAAuF;AACrF,aAAK9B,QAAL,CAAc;AACZ;AACAJ,UAAAA,KAAK,EAAEA,KAAK,IAAIwB,MAAT,GAAkBA,MAAlB,GAA2BxB,KAFtB;AAGZC,UAAAA,GAAG,EAAEC,IAAI,IAAIQ,MAAR,GAAiBA,MAAjB,GAA0BR;AAHnB,SAAd;AAKD;;AAED,UAAID,GAAG,KAAK0C,YAAR,IAAwB1C,GAAG,KAAKkC,QAAhC,IAA4CI,YAAY,KAAKJ,QAAjE,EAA2E;AACzE,aAAK/B,QAAL,CAAc;AACZ;AACAH,UAAAA,GAAG,EAAEA,GAAG,IAAIS,MAAP,GAAgBA,MAAhB,GAAyBT;AAFlB,SAAd;AAID;;AAED,UAAIC,IAAI,KAAK0C,aAAT,IAA0B1C,IAAI,KAAKkC,SAAnC,IAAgDI,aAAa,KAAKJ,SAAtE,EAAiF;AAC/E,aAAKhC,QAAL,CAAc;AACZ;AACAF,UAAAA,IAAI,EAAJA,IAFY;AAGZD,UAAAA,GAAG,EAAEC,IAAI,IAAIQ,MAAR,GAAiBA,MAAjB,GAA0BR;AAHnB,SAAd;AAKD;;AAED,UAAIsB,MAAM,KAAKqB,eAAX,IAA8BnC,MAAM,KAAKoC,eAA7C,EAA8D;AAC5D,aAAK1C,QAAL,CAAc;AACZ;AACAJ,UAAAA,KAAK,EAAEA,KAAK,IAAIwB,MAAT,GAAkBA,MAAlB,GAA2BxB,KAFtB;AAGZE,UAAAA,IAAI,EAAEA,IAAI,IAAIQ,MAAR,GAAiBA,MAAjB,GAA0BR,IAHpB;AAIZD,UAAAA,GAAG,EAAEA,GAAG,IAAIS,MAAP,GAAgBA,MAAhB,GAAyBT;AAJlB,SAAd;AAMD;AACF;;;2CAEsB;AACrB,UAAI,KAAKK,QAAT,EAAmB,KAAKY,YAAL;AACpB;;;+BAEU;AAAA,yBACoB,KAAKnB,KADzB;AAAA,UACDC,KADC,gBACDA,KADC;AAAA,UACMC,GADN,gBACMA,GADN;AAAA,UACWC,IADX,gBACWA,IADX;AAAA,UAEDtC,KAFC,GAES,KAAK7D,KAFd,CAED6D,KAFC;;AAIT,UAAIA,KAAJ,EAAW;AACT,eAAO,CAACoC,KAAD,EAAQC,GAAR,EAAaC,IAAb,CAAP;AACD;;AAED,aAAOD,GAAP;AACD;;;oCAEe;AAAA,yBACe,KAAKF,KADpB;AAAA,UACNC,KADM,gBACNA,KADM;AAAA,UACCC,GADD,gBACCA,GADD;AAAA,UACMC,IADN,gBACMA,IADN;AAAA,UAENZ,UAFM,GAES,KAAKvF,KAFd,CAENuF,UAFM;;AAId,UAAInB,KAAK,CAACC,OAAN,CAAckB,UAAd,CAAJ,EAA+B;AAC7B,YAAMyD,IAAI,GAAG9C,GAAG,GAAGD,KAAnB;AACA,YAAMgD,KAAK,GAAG9C,IAAI,GAAGD,GAArB;AACA,YAAIgD,SAAS,GAAG,EAAhB;AAEA,eAAO3D,UAAU,CAAC9C,GAAX,CAAe,UAAC0G,CAAD,EAAIC,CAAJ,EAAU;AAAA,cACtBC,QADsB,GACTF,CADS,CACtBE,QADsB;;AAG9B,cAAIA,QAAJ,EAAc;AACZ,gBAAMC,UAAU,GAAG9G,MAAM,CAACD,IAAP,CAAY8G,QAAZ,CAAnB,CADY;;AAIZ,gBAAID,CAAC,KAAK,CAAV,EAAa;AACXF,cAAAA,SAAS,GAAGI,UAAU,CACnBC,MADS,CACF,UAACC,CAAD,EAAIC,CAAJ,EAAU;AAChB,oBAAMC,IAAI,GAAGJ,UAAU,CAACG,CAAC,GAAG,CAAL,CAAV,IAAqBD,CAAlC;AACA,oBAAMG,EAAE,GAAG1D,KAAK,IAAIuD,CAAC,GAAGE,IAAR,CAAhB;AAEA,uBAAOF,CAAC,IAAIG,EAAL,IAAWH,CAAC,IAAItD,GAAvB;AACD,eANS,EAQTzD,GARS,CAQL,UAAC+G,CAAD,EAAIC,CAAJ,EAAU;AACb,oBAAMG,KAAK,GAAGH,CAAC,KAAK,CAApB;AACA,oBAAMI,IAAI,GAAI,CAACL,CAAC,GAAGvD,KAAL,IAAc+C,IAAf,GAAuB,GAApC;AACA,oBAAM/F,KAAK,GAAGqG,UAAU,CAACQ,SAAX,CAAqB,UAACC,EAAD;AAAA,yBAAQA,EAAE,KAAKP,CAAf;AAAA,iBAArB,CAAd;;AAEA,oBAAII,KAAJ,EAAW;AACT,mCAAUP,QAAQ,CAACG,CAAD,CAAlB;AACD;;AACD,iCAAUH,QAAQ,CAACC,UAAU,CAACrG,KAAK,GAAG,CAAT,CAAX,CAAlB,cAA6C4G,IAA7C,gBAAuDR,QAAQ,CAACG,CAAD,CAA/D,cAAsEK,IAAtE;AACD,eAjBS,CAAZ;AAkBD,aAvBW;;;AA0BZ,gBAAIT,CAAC,KAAK,CAAV,EAAa;AACXF,cAAAA,SAAS,GAAGI,UAAU,CACnBC,MADS,CACF,UAACC,CAAD,EAAIC,CAAJ,EAAU;AAChB,oBAAMO,IAAI,GAAGV,UAAU,CAACG,CAAC,GAAG,CAAL,CAAV,IAAqBD,CAAlC;AACA,oBAAMG,EAAE,GAAGzD,GAAG,IAAIsD,CAAC,GAAGQ,IAAR,CAAd;AAEA,uBAAOR,CAAC,GAAGG,EAAJ,IAAUH,CAAC,IAAIrD,IAAtB;AACD,eANS,EAQT1D,GARS,CAQL,UAAC+G,CAAD,EAAIC,CAAJ,EAAU;AACb,oBAAMG,KAAK,GAAGH,CAAC,KAAK,CAApB;AACA,oBAAMI,IAAI,GAAI,CAACL,CAAC,GAAGtD,GAAL,IAAY+C,KAAb,GAAsB,GAAnC;AACA,oBAAMhG,KAAK,GAAGqG,UAAU,CAACQ,SAAX,CAAqB,UAACC,EAAD;AAAA,yBAAQA,EAAE,KAAKP,CAAf;AAAA,iBAArB,CAAd;;AAEA,oBAAII,KAAJ,EAAW;AACT,mCAAUP,QAAQ,CAACG,CAAD,CAAlB;AACD;;AAED,iCAAUH,QAAQ,CAACC,UAAU,CAACrG,KAAK,GAAG,CAAT,CAAX,CAAlB,cAA6C4G,IAA7C,gBAAuDR,QAAQ,CAACG,CAAD,CAA/D,cAAsEK,IAAtE;AACD,eAlBS,CAAZ;AAmBD;;AAED,qDACKV,CADL;AAEEc,cAAAA,UAAU,EACRf,SAAS,CAAC5E,MAAV,GAAmB,CAAnB,uCACiC4E,SAAS,CAACgB,IAAV,CAAe,GAAf,CADjC,SAEIhB,SAAS,CAACiB,QAAV;AALR;AAOD;;AAED,iBAAOhB,CAAP;AACD,SA7DM,CAAP;AA8DD;;AAED,aAAO5D,UAAP;AACD;;;iCAmKY;AAAA,UACMwC,YADN,GACuB,KAAK/B,KAD5B,CACHqB,OADG;AAGX,UAAM+C,UAAU,GAAG/J,8BAAU,CAAC;AAC5B,sBAAc0H,YADc;AAE5B,qBAAa,CAACA;AAFc,OAAD,CAA7B;AAKA,0BACEzH;AACE,QAAA,IAAI,EAAC,QADP;AAGE,QAAA,SAAS,GAAED,8BAAU,CAAC;AACpB,sBAAY0H;AADQ,SAAD,CAAZ,GAAE1H,8BAAU,CAAC;AACpB,sBAAY0H;AADQ,SAAD,CAAZ,uCAHX;AAME,QAAA,OAAO,EAAE,KAAKsC;AANhB,sBAQE/J,wCAAC,IAAD;AAAM,QAAA,IAAI,EAAE8J;AAAZ,QARF,CADF;AAYD;;;6BAEQ;AAAA,yBAcH,KAAKpK,KAdF;AAAA,UAELuH,GAFK,gBAELA,GAFK;AAAA,UAGLb,GAHK,gBAGLA,GAHK;AAAA,UAILpE,KAJK,gBAILA,KAJK;AAAA,UAKLa,WALK,gBAKLA,WALK;AAAA,UAMLsD,IANK,gBAMLA,IANK;AAAA,UAOL6D,OAPK,gBAOLA,OAPK;AAAA,UAQL1I,WARK,gBAQLA,WARK;AAAA,UASL8D,SATK,gBASLA,SATK;AAAA,UAUL5B,WAVK,gBAULA,WAVK;AAAA,UAWLD,KAXK,gBAWLA,KAXK;AAAA,UAYL+B,QAZK,gBAYLA,QAZK;AAAA,UAaL2E,UAbK,gBAaLA,UAbK;AAAA,UAgBClD,OAhBD,GAgBa,KAAKrB,KAhBlB,CAgBCqB,OAhBD;AAkBP,0BACE/G;AAA4B,QAAA,SAAS,GAAEsB,WAAF,GAAEA,WAAF;AAArC,SACG0I,OAAO,IAAI,CAACC,UAAZ,IAA0B,KAAKC,UAAL,EAD7B,EAEGF,OAAO,IAAI,CAAC,CAACC,UAAb,IAA2BA,UAF9B,eAIEjK;AAAA,qDAAgBD,8BAAU,CAAC,iBAAD,EAAoB;AAAE,sBAAYiK;AAAd,SAApB,CAA1B;AAAA,sBACEhK,wCAAC,MAAD;AACE,QAAA,KAAK,EAAEuD,KADT;AAEE,QAAA,KAAK,EAAEvB,KAFT;AAGE,QAAA,QAAQ,EAAE+E,OAHZ;AAIE,QAAA,GAAG,EAAEE,GAJP;AAKE,QAAA,GAAG,EAAEb,GALP;AAME,QAAA,KAAK,EAAE,KAAK+D,QAAL,EANT;AAOE,QAAA,IAAI,EAAEhE,IAPR;AAQE,QAAA,WAAW,EAAEtD,WARf;AASE,QAAA,SAAS,EAAEuC,SATb;AAUE,QAAA,UAAU,EAAE,KAAKgF,aAAL,EAVd;AAWE,QAAA,WAAW,EAAE5G,WAXf;AAYE,QAAA,WAAW,EAAE,qBAACb,KAAD;AAAA,iBAAWoE,OAAO,IAAIpE,KAAK,KAAK,CAAhC;AAAA,SAZf;AAaE,QAAA,QAAQ,EAAE2C,QAbZ;AAcE,QAAA,QAAQ,EAAE,KAAKoB,cAdjB;AAeE,QAAA,aAAa,EAAE,KAAKC;AAftB,QADF,CAJF,CADF;AA0BD;;;;EA7coB1G;;gBAAjBwF,uBACe;AACjBnE,EAAAA,WAAW,EAAEpB,6BAAS,CAACC,MADN;AAEjBoD,EAAAA,KAAK,EAAErD,6BAAS,CAAC8E,IAFA;AAGjBM,EAAAA,QAAQ,EAAEpF,6BAAS,CAAC2E,SAAV,CAAoB,CAAC3E,6BAAS,CAAC8E,IAAX,EAAiB9E,6BAAS,CAAC6E,MAA3B,CAApB,CAHO;AAIjBiF,EAAAA,OAAO,EAAE9J,6BAAS,CAAC8E,IAJF;AAKjBiC,EAAAA,GAAG,EAAE/G,6BAAS,CAAC6E,MAAV,CAAiBG,UALL;AAMjBiC,EAAAA,MAAM,EAAEjH,6BAAS,CAAC6E,MAND;AAOjBqB,EAAAA,GAAG,EAAElG,6BAAS,CAAC6E,MAAV,CAAiBG,UAPL;AAQjBmB,EAAAA,MAAM,EAAEnG,6BAAS,CAAC6E,MARD;AASjBY,EAAAA,KAAK,EAAEzF,6BAAS,CAAC6E,MAAV,CAAiBG,UATP;AAUjBU,EAAAA,GAAG,EAAE1F,6BAAS,CAAC6E,MAAV,CAAiBG,UAVL;AAWjBW,EAAAA,IAAI,EAAE3F,6BAAS,CAAC6E,MAXC;AAYjB/C,EAAAA,KAAK,EAAE9B,6BAAS,CAACyB,KAAV,CAAgB,EAAhB,EAAoBuD,UAZV;AAajBiB,EAAAA,IAAI,EAAEjG,6BAAS,CAAC6E,MAbC;AAcjBmB,EAAAA,KAAK,EAAEhG,6BAAS,CAAC6E,MAdA;AAejB6B,EAAAA,IAAI,EAAE1G,6BAAS,CAAC8E,IAfC;AAgBjBnC,EAAAA,WAAW,EAAE3C,6BAAS,CAACiF,IAAV,CAAeD,UAhBX;AAkBjBD,EAAAA,UAAU,EAAE/E,6BAAS,CAAC2E,SAAV,CAAoB,CAAC3E,6BAAS,CAAC4E,KAAX,EAAkB5E,6BAAS,CAACyB,KAAV,CAAgB,EAAhB,CAAlB,CAApB,CAlBK;AAmBjByD,EAAAA,SAAS,EAAElF,6BAAS,CAACyB,KAAV,CAAgB,EAAhB,CAnBM;AAoBjB6B,EAAAA,WAAW,EAAEtD,6BAAS,CAACyB,KAAV,CAAgB,EAAhB,CApBI;AAsBjBoF,EAAAA,OAAO,EAAE7G,6BAAS,CAAC8E,IAtBF;AAuBjBiF,EAAAA,UAAU,EAAE/J,6BAAS,CAACW,IAvBL;AAyBjB6F,EAAAA,cAAc,EAAExG,6BAAS,CAACiF,IAzBT;AA0BjBwB,EAAAA,mBAAmB,EAAEzG,6BAAS,CAACiF,IA1Bd;AA2BjBqC,EAAAA,YAAY,EAAEtH,6BAAS,CAACiF;AA3BP;;gBADfM,0BA+BkB;AACpBnE,EAAAA,WAAW,EAAE,IADO;AAEpBiC,EAAAA,KAAK,EAAE,IAFa;AAGpB+B,EAAAA,QAAQ,EAAE,CAHU;AAIpB0E,EAAAA,OAAO,EAAE,KAJW;AAMpBnE,EAAAA,IAAI,EAAE,IANc;AAQpBsB,EAAAA,MAAM,EAAE,CAACkD,QARW;AASpBhE,EAAAA,MAAM,EAAEgE,QATY;AAWpBlE,EAAAA,IAAI,EAAE,CAXc;AAYpBD,EAAAA,KAAK,EAAE,GAZa;AAapBU,EAAAA,IAAI,EAAE,KAbc;AAepB3B,EAAAA,UAAU,EAAE;AACVf,IAAAA,eAAe,EAAE,SADP;AAEVG,IAAAA,YAAY,EAAE;AAFJ,GAfQ;AAmBpBe,EAAAA,SAAS,EAAE;AAAElB,IAAAA,eAAe,EAAE;AAAnB,GAnBS;AAoBpBV,EAAAA,WAAW,EAAE;AACXU,IAAAA,eAAe,EAAE,SADN;AAEXG,IAAAA,YAAY,EAAE,MAFH;AAGXkB,IAAAA,SAAS,EAAE,iCAHA;AAIXjB,IAAAA,MAAM,EAAE,KAJG;AAKXC,IAAAA,MAAM,EAAE;AALG,GApBO;AA4BpBwC,EAAAA,OAAO,EAAEuD,SA5BW;AA6BpBL,EAAAA,UAAU,EAAE,IA7BQ;AA+BpBvD,EAAAA,cAAc,EAAE,IA/BI;AAgCpBC,EAAAA,mBAAmB,EAAE,IAhCD;AAiCpBa,EAAAA,YAAY,EAAE;AAjCM,cCpCV,OAAO+C,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC;IAA/CC,SAAAA;;IAEKC,QAAb;AAAA;;AAAA;;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA,+DAkDa,YAAM;AAAA,wBACS,MAAK/K,KADd;AAAA,UACPyC,GADO,eACPA,GADO;AAAA,UACFuI,MADE,eACFA,MADE;AAGf,UAAI,CAACA,MAAD,IAAW,CAACvI,GAAhB,EAAqB,MAAKwI,WAAL;;AAErB,UAAMC,OAAO,GAAG,MAAKC,UAAL,EAAhB;;AAEA,UAAIH,MAAM,IAAIvI,GAAd,EAAmB;AACjB,cAAK2I,KAAL,CAAWC,SAAX,CAAqBL,MAArB,EAA6BM,UAA7B,CAAwCJ,OAAxC,EAAiDK,MAAjD,CAAwD9I,GAAxD;AACD;AACF,KA5DH;;AAAA,iEA8De,YAAM;AAAA,UACTxB,QADS,GACI,MAAKjB,KADT,CACTiB,QADS;AAEjB,UAAMuK,cAAc,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAvB;AAEAC,MAAAA,eAAM,CACJrL,yBAAK,CAACsL,QAAN,CAAenJ,GAAf,CAAmBxB,QAAnB,EAA6B,UAAC4K,KAAD;AAAA,4BAC3BvL,yBAAK,CAACuC,cAAN,CAAqBgJ,KAArB,KAA+B,OAAOA,KAAK,CAACC,IAAb,KAAsB,QAArD,gBACIxL,yBAAK,CAACyL,YAAN,CAAmBF,KAAnB,oCACK,MAAK7L,KADV;AAEEoL,UAAAA,KAAK,EAAE,MAAKA;AAFd,WADJ,GAKIS,KANuB;AAAA,OAA7B,CADI,EASJL,cATI,CAAN;AAWA,aAAOA,cAAP;AACD,KA9EH;;AAAA,kEAgFgB,YAAM;AAClB,YAAKJ,KAAL,CAAWE,UAAX,CAAsB,MAAKH,UAAL,EAAtB;AACD,KAlFH;;AAAA,kEAoFgB,YAAM;AAClB,UAAI,MAAKC,KAAT,EAAgB;AACd,cAAKA,KAAL,CAAWY,MAAX;AACD;AACF,KAxFH;;AAAA;AAAA;;AAAA;AAAA;AAAA,wCAqBsB;AAClB,UAAI,OAAOlB,CAAP,KAAa,WAAjB,EAA8B;AAC5B;AACD;;AAED,WAAKM,KAAL,GACE,KAAKA,KAAL,IACAN,CAAC,CAACM,KAAF,CAAQ;AACNa,QAAAA,QAAQ,EAAE,GADJ;AAENC,QAAAA,QAAQ,EAAE;AAFJ,OAAR,CAFF;AAOA,WAAKlM,KAAL,CAAWmM,OAAX,CAAmB,KAAKf,KAAxB;AACD;AAlCH;AAAA;AAAA,uCAoCqBnD,SApCrB,EAoCgC;AAAA,UACZmE,UADY,GACmBnE,SADnB,CACpB+C,MADoB;AAAA,UACMqB,QADN,GACmBpE,SADnB,CACAqE,IADA;AAAA,yBAGmB,KAAKtM,KAHxB;AAAA,UAGZuM,UAHY,gBAGpBvB,MAHoB;AAAA,UAGMwB,QAHN,gBAGAF,IAHA;;AAK5B,UAAI,CAACG,2BAAO,CAACL,UAAD,EAAaG,UAAb,CAAZ,EAAsC;AACpC,aAAKG,QAAL;AACD;;AAED,UAAI,CAACD,2BAAO,CAACJ,QAAD,EAAWG,QAAX,CAAR,IAAgCJ,UAApC,EAAgD;AAC9C,aAAKO,WAAL;AACD;AACF;AAhDH;AAAA;AAAA,6BA0FW;AACP,aAAO,IAAP;AACD;AA5FH;;AAAA;AAAA,EAA8B3I,eAA9B;;gBAAa+G,uBACQ;AACjB9J,EAAAA,QAAQ,EAAET,6BAAS,CAACW,IAAV,CAAeqE,UADR;;AAEjB;AACA/C,EAAAA,GAAG,EAAEjC,6BAAS,CAACE,MAAV,CAAiB8E,UAHL;;AAIjB;AACAwF,EAAAA,MAAM,EAAExK,6BAAS,CAACE,MALD;;AAMjB;AACA4L,EAAAA,IAAI,EAAE9L,6BAAS,CAACE,MAPC;;AAQjB;AACJ;AACA;AACIyL,EAAAA,OAAO,EAAE3L,6BAAS,CAACiF;AAXF;;gBADRsF,0BAeW;AACpBC,EAAAA,MAAM,EAAE,EADY;AAEpBsB,EAAAA,IAAI,EAAE,EAFc;AAGpBH,EAAAA,OAAO,EAAE,mBAAM;AAHK,OClBlBS;;;;;;;;;;;;;6BASK;AAAA,wBAC2B,KAAK5M,KADhC;AAAA,UACC4B,WADD,eACCA,WADD;AAAA,UACcX,QADd,eACcA,QADd;AAEP,UAAM+D,aAAa,GAAG3E,8BAAU,qBAAIuB,WAAJ,EAAkB,CAAC,CAACA,WAApB,EAAhC;AAEA,0BACEtB;AAAgC,QAAA,SAAS,GAAE0E,aAAF,GAAEA,aAAF;AAAzC,sBACE1E;AAAI,QAAA,SAAS,EAAC;AAAd,SACGA,yBAAK,CAACsL,QAAN,CAAenJ,GAAf,CACCxB,QADD,EAEC,UAAC4L,CAAD,EAAIzD,CAAJ;AAAA,4BACE9I,yBAAK,CAACuC,cAAN,CAAqBgK,CAArB,kBACEvM;AAAI,UAAA,SAAS,EAAC,oCAAd;AAAuC,UAAA,GAAG,EAAE8I;AAA5C,wBACG9I,yBAAK,CAACyL,YAAN,CAAmBc,CAAnB,CADH,CAFJ;AAAA,OAFD,CADH,CADF,CADF;AAeD;;;;EA5BuBtM;;gBAApBqM,0BACe;AACjB3L,EAAAA,QAAQ,EAAET,6BAAS,CAACW,IAAV,CAAeqE,UADR;;AAEjB;AACA5D,EAAAA,WAAW,EAAEpB,6BAAS,CAACC;AAHN;;gBADfmM,6BAOkB;AAAEhL,EAAAA,WAAW,EAAE;AAAf;;;;;;;;ICNlBkL;;;;;;;;;;;;;;;;4DAYI;AAAEC,MAAAA,IAAI,EAAE,MAAK/M,KAAL,CAAWyC,GAAX,CAAeuK,OAAf;AAAR;;8DAUE,YAAM;AACd,YAAK3G,QAAL,CAAc;AAAE0G,QAAAA,IAAI,EAAE,MAAK/M,KAAL,CAAWyC,GAAX,CAAeuK,OAAf;AAAR,OAAd;AACD;;mEAEc,YAAM;AACnB,UAAMD,IAAI,GAAG,MAAK/M,KAAL,CAAWyC,GAAX,CAAeuK,OAAf,EAAb;;AACA,UAAMC,OAAO,GAAG,MAAKjN,KAAL,CAAWyC,GAAX,CAAeyK,UAAf,EAAhB;;AAEA,YAAK7G,QAAL,CAAc;AAAE0G,QAAAA,IAAI,EAAEA,IAAI,KAAKE,OAAT,GAAmBF,IAAnB,GAA0BA,IAAI,GAAG;AAAzC,OAAd,EAA4D,YAAM;AAChE,cAAK/M,KAAL,CAAWyC,GAAX,CAAe0K,OAAf,CAAuB,MAAKnH,KAAL,CAAW+G,IAAlC;AACD,OAFD;AAGD;;mEAEc,YAAM;AACnB,UAAMA,IAAI,GAAG,MAAK/M,KAAL,CAAWyC,GAAX,CAAeuK,OAAf,EAAb;;AACA,UAAMI,OAAO,GAAG,MAAKpN,KAAL,CAAWyC,GAAX,CAAe4K,UAAf,EAAhB;;AAEA,YAAKhH,QAAL,CAAc;AAAE0G,QAAAA,IAAI,EAAEA,IAAI,KAAKK,OAAT,GAAmBL,IAAnB,GAA0BA,IAAI,GAAG;AAAzC,OAAd,EAA4D,YAAM;AAChE,cAAK/M,KAAL,CAAWyC,GAAX,CAAe0K,OAAf,CAAuB,MAAKnH,KAAL,CAAW+G,IAAlC;AACD,OAFD;AAGD;;;;;;;yCA5BoB;AACnB,WAAK/M,KAAL,CAAWyC,GAAX,CAAe6K,EAAf,CAAkB,SAAlB,EAA6B,KAAKN,OAAlC;AACD;;;2CAEsB;AACrB,WAAKhN,KAAL,CAAWyC,GAAX,CAAe8K,GAAf,CAAmB,SAAnB,EAA8B,KAAKP,OAAnC;AACD;;;6BAwBQ;AAAA,wBAC4B,KAAKhN,KADjC;AAAA,UACCE,SADD,eACCA,SADD;AAAA,UACY0B,WADZ,eACYA,WADZ;AAAA,UAECmL,IAFD,GAEU,KAAK/G,KAFf,CAEC+G,IAFD;AAGP,UAAME,OAAO,GAAG,KAAKjN,KAAL,CAAWyC,GAAX,CAAeyK,UAAf,EAAhB;AACA,UAAME,OAAO,GAAG,KAAKpN,KAAL,CAAWyC,GAAX,CAAe4K,UAAf,EAAhB;AAEA,UAAMG,cAAc,GAAGnN,8BAAU,CAAC,gBAAD,sBAAsBH,SAAtB,EAAkC,CAAC,CAACA,SAApC,EAAjC;AACA,UAAM8E,aAAa,GAAG3E,8BAAU,qBAAIuB,WAAJ,EAAkB,CAAC,CAACA,WAApB,EAAhC;AACA,UAAM6L,WAAW,GAAGpN,8BAAU,CAAC,kBAAD,EAAqB;AAAE,qBAAa0M,IAAI,KAAKE;AAAxB,OAArB,CAA9B;AACA,UAAMS,YAAY,GAAGrN,8BAAU,CAAC,kBAAD,EAAqB;AAAE,qBAAa0M,IAAI,KAAKK;AAAxB,OAArB,CAA/B;AAEA,0BACE9M;AAAA,oBAA2C0E,aAA3C,GAA2CA,aAA3C,iDAAgBwI,cAAhB;AAAA,sBACElN;AAEE,QAAA,IAAI,EAAC,QAFP;AAGE,QAAA,QAAQ,EAAEyM,IAAI,KAAKE,OAHrB;AAIE,QAAA,OAAO,EAAE,KAAKU,YAJhB;AAAA,qDACaF,WADb;AAAA,sBAMEnN,wCAAC,IAAD;AAAM,QAAA,IAAI,EAAC;AAAX,QANF,CADF,eASEA;AAEE,QAAA,IAAI,EAAC,QAFP;AAGE,QAAA,QAAQ,EAAEyM,IAAI,KAAKK,OAHrB;AAIE,QAAA,OAAO,EAAE,KAAKQ,YAJhB;AAAA,qDACaF,YADb;AAAA,sBAMEpN,wCAAC,IAAD;AAAM,QAAA,IAAI,EAAC;AAAX,QANF,CATF,CADF;AAoBD;;;;EA3EuBC;;gBAApBuM,0BACe;AACjBrK,EAAAA,GAAG,EAAEjC,6BAAS,CAACE,MAAV,CAAiB8E,UADL;AAEjBtF,EAAAA,SAAS,EAAEM,6BAAS,CAACC,MAFJ;AAGjBmB,EAAAA,WAAW,EAAEpB,6BAAS,CAACC;AAHN;;gBADfqM,6BAOkB;AACpB5M,EAAAA,SAAS,EAAE,IADS;AAEpB0B,EAAAA,WAAW,EAAE;AAFO,gBCPV,OAAOiJ,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC;IAA/CC,aAAAA;;AAER,IAAI,OAAOD,MAAP,KAAkB,WAAtB,EAAmC;AACjC;AACF;AACA;AACA;AACA;;AACE;AACC,eAAY;AACX,QAAMgD,gBAAgB,GAAG/C,GAAC,IAAIA,GAAC,CAACgD,SAAF,CAAYC,SAAZ,CAAsBC,SAApD;AACAlD,IAAAA,GAAC,IAAIA,GAAC,CAACgD,SAAF,CAAYG,OAAZ,CAAoB;AACvBD,MAAAA,SADuB,qBACbE,IADa,EACP;AACdL,QAAAA,gBAAgB,CAACM,IAAjB,CAAsB,IAAtB,EAA4BD,IAA5B;AACA,YAAME,QAAQ,GAAG,KAAKC,WAAL,EAAjB;AACAH,QAAAA,IAAI,CAAC/N,KAAL,CAAWU,KAAX,aAAsBuN,QAAQ,CAACE,CAAT,GAAa,CAAnC;AACAJ,QAAAA,IAAI,CAAC/N,KAAL,CAAWW,MAAX,aAAuBsN,QAAQ,CAACG,CAAT,GAAa,CAApC;AACD;AANsB,KAApB,CAAL;AAQD,GAVA,GAAD;AAWA;;AACD;;IAEKC;;;;;;;;;;;;;;;;6DACK;;6DA6JA,YAAM;AAAA,UACLC,UADK,GACU,MAAKzO,KADf,CACLyO,UADK;AAEb,YAAKhM,GAAL,GAAWqI,GAAC,CAACrI,GAAF,CAAM,MAAKiM,OAAX,oCAAyBF,IAAI,CAACG,YAAL,CAAkBF,UAA3C,GAA0DA,UAA1D,EAAX;AACD;;oEAEe,YAAM;AAAA,kCAGhB,MAAKzO,KAHW,CAElByO,UAFkB;AAAA,UAEJG,MAFI,yBAEJA,MAFI;AAAA,UAEI7B,IAFJ,yBAEIA,IAFJ;;AAIpB,YAAKtK,GAAL,CAASoM,OAAT,oBAAsBD,MAAtB,GAAgC7B,IAAhC;AACD;;iEAEY,YAAM;AAAA,UACT+B,OADS,GACG,MAAK9O,KADR,CACT8O,OADS;AAGjB,UAAI,MAAKC,YAAT,EAAuB,MAAKA,YAAL,CAAkB/C,MAAlB;AAEvB,YAAK+C,YAAL,GAAoBjE,GAAC,CAACkE,SAAF,CAAYF,OAAO,CAACG,GAApB,EAAyBH,OAAO,CAACI,OAAjC,EAA0CC,KAA1C,CAAgD,MAAK1M,GAArD,EAA0D2M,SAA1D,CAAoE,CAApE,CAApB;AACD;;+DAEU,YAAM;AAAA,UACPtM,KADO,GACG,MAAK9C,KADR,CACP8C,KADO;AAGf,UAAI,MAAKuM,UAAT,EAAqB,MAAKA,UAAL,CAAgBrD,MAAhB;AAErB,YAAKqD,UAAL,GAAkBvE,GAAC,CAACkE,SAAF,CAAYlM,KAAK,CAACmM,GAAlB,EAAuBnM,KAAK,CAACoM,OAA7B,EAAsCC,KAAtC,CAA4C,MAAK1M,GAAjD,EAAsD2M,SAAtD,CAAgE,IAAhE,CAAlB;AACD;;gEAEW,YAAM;AAAA,UACRE,MADQ,GACG,MAAKtP,KADR,CACRsP,MADQ;AAAA,UAERC,IAFQ,GAEUD,MAFV,CAERC,IAFQ;AAAA,UAEFL,OAFE,GAEUI,MAFV,CAEFJ,OAFE;;AAIhB,UAAIK,IAAJ,EAAU;AACR,YAAMC,SAAS,GAAG,CAChB,CAACD,IAAI,CAAC,CAAD,CAAL,EAAUA,IAAI,CAAC,CAAD,CAAd,CADgB,EAEhB,CAACA,IAAI,CAAC,CAAD,CAAL,EAAUA,IAAI,CAAC,CAAD,CAAd,CAFgB,CAAlB;;AAKA,cAAK9M,GAAL,CAASgN,SAAT,CAAmBD,SAAnB,EAA8BN,OAA9B;AACD;AACF;;;;;;;wCA1HmB;AAClB,UAAI,OAAOpE,GAAP,KAAa,WAAb,IAA4B,CAAC,KAAK4D,OAAtC,EAA+C;AAC7C;AACD;;AAHiB,wBAKyC,KAAK1O,KAL9C;AAAA,UAKV0P,kBALU,eAKVA,kBALU;AAAA,UAKUC,iBALV,eAKUA,iBALV;AAAA,UAK6BxD,OAL7B,eAK6BA,OAL7B;AAOlB,WAAKyD,MAAL;AAEA,WAAKC,UAAL;AACA,WAAKC,QAAL;AAEA,WAAKC,SAAL;AAEA,WAAKC,SAAL;;AAEA,UAAI,CAACN,kBAAL,EAAyB;AACvB,aAAKjN,GAAL,CAASa,QAAT,CAAkB2M,OAAlB;AACA,aAAKxN,GAAL,CAASyN,SAAT,CAAmBD,OAAnB;AACA,aAAKxN,GAAL,CAAS0N,eAAT,CAAyBF,OAAzB;AACA,aAAKxN,GAAL,CAAS2N,eAAT,CAAyBH,OAAzB;AACA,aAAKxN,GAAL,CAAS4N,OAAT,CAAiBJ,OAAjB;AACA,aAAKxN,GAAL,CAAS6N,QAAT,CAAkBL,OAAlB;AACD;;AAED,UAAI,CAACN,iBAAL,EAAwB;AACtB,aAAKlN,GAAL,CAAS2N,eAAT,CAAyBH,OAAzB;AACD;;AAED9D,MAAAA,OAAO,CAAC,KAAK1J,GAAN,CAAP,CA7BkB;;AAgClB,WAAK8N,WAAL;AACD;;;uCAEkBtI,WAAW;AAAA,UAEjBuI,WAFiB,GAOxBvI,SAPwB,CAE1B6G,OAF0B;AAAA,UAGnB2B,SAHmB,GAOxBxI,SAPwB,CAG1BnF,KAH0B;AAAA,UAIlB4N,UAJkB,GAOxBzI,SAPwB,CAI1BqH,MAJ0B;AAAA,UAKlBqB,UALkB,GAOxB1I,SAPwB,CAK1B2I,MAL0B;AAAA,UAMdC,cANc,GAOxB5I,SAPwB,CAM1BwG,UAN0B;AAAA,yBAexB,KAAKzO,KAfmB;AAAA,UAUjB8Q,WAViB,gBAU1BhC,OAV0B;AAAA,UAWnBiC,SAXmB,gBAW1BjO,KAX0B;AAAA,UAYlBkO,UAZkB,gBAY1B1B,MAZ0B;AAAA,UAalB2B,UAbkB,gBAa1BL,MAb0B;AAAA,UAcdM,cAdc,gBAc1BzC,UAd0B;;AAkB5B,UAAI,CAAChC,2BAAO,CAAC+D,WAAD,EAAcM,WAAd,CAAZ,EAAwC;AACtC,aAAKjB,UAAL;AACD,OApB2B;;;AAuB5B,UAAI,CAACpD,2BAAO,CAACgE,SAAD,EAAYM,SAAZ,CAAZ,EAAoC;AAClC,aAAKjB,QAAL;AACD,OAzB2B;;;AA4B5B,UAAI,CAACrD,2BAAO,CAACiE,UAAD,EAAaM,UAAb,CAAZ,EAAsC;AACpC,aAAKjB,SAAL;AACD,OA9B2B;;;AAiC5B,UAAI,CAACtD,2BAAO,CAACkE,UAAD,EAAaM,UAAb,CAAZ,EAAsC;AACpC,aAAKjB,SAAL;AACD,OAnC2B;;;AAsC5B,UAAI,CAACvD,2BAAO,CAACoE,cAAD,EAAiBK,cAAjB,CAAZ,EAA8C;AAC5C,aAAKC,aAAL;AACD;AACF;;;2CAEsB;AACrB,WAAKC,YAAL;AACD;;;gCA4CW;AAAA;;AAAA,UACFR,MADE,GACS,KAAK5Q,KADd,CACF4Q,MADE;AAGV,WAAKQ,YAAL;AAEA5O,MAAAA,MAAM,CAACD,IAAP,CAAYqO,MAAZ,EAAoBS,OAApB,CAA4B,UAAC3O,GAAD,EAAS;AACnC,QAAA,MAAI,CAACkO,MAAL,CAAYlO,GAAZ,IAAmB,UAAC4O,CAAD,EAAO;AACxBV,UAAAA,MAAM,CAAClO,GAAD,CAAN,CAAY4O,CAAZ,EAAe,MAAI,CAAC7O,GAApB;AACD,SAFD;;AAIA,QAAA,MAAI,CAACA,GAAL,CAAS6K,EAAT,CAAY5K,GAAZ,EAAiB,MAAI,CAACkO,MAAL,CAAYlO,GAAZ,CAAjB;AACD,OAND;AAOD;;;mCAEc;AAAA;;AACbF,MAAAA,MAAM,CAACD,IAAP,CAAY,KAAKqO,MAAjB,EAAyBS,OAAzB,CAAiC,UAAC3O,GAAD,EAAS;AACxC,QAAA,MAAI,CAACD,GAAL,CAAS8K,GAAT,CAAa7K,GAAb,EAAkB,MAAI,CAACkO,MAAL,CAAYlO,GAAZ,CAAlB;AACD,OAFD;AAGD;;;6BAEQ;AAAA;;AAAA,yBAC2B,KAAK1C,KADhC;AAAA,UACC4B,WADD,gBACCA,WADD;AAAA,UACcX,QADd,gBACcA,QADd;AAEP,UAAM+D,aAAa,GAAG3E,8BAAU,qBAAIuB,WAAJ,EAAkB,CAAC,CAACA,WAApB,EAAhC;AAEA,0BACEtB;AAAuB,QAAA,SAAS,GAAE0E,aAAF,GAAEA,aAAF;AAAhC,sBACE1E;AACE,QAAA,GAAG,EAAE,aAACa,IAAD,EAAU;AACb,UAAA,MAAI,CAACuN,OAAL,GAAevN,IAAf;AACD,SAHH;AAIE,QAAA,SAAS,EAAC;AAJZ,QADF,EAQG,CAAC,CAAC,KAAKsB,GAAP,IAAc,OAAOxB,QAAP,KAAoB,UAAlC,IAAgDA,QAAQ,CAAC,KAAKwB,GAAN,CAR3D,CADF;AAYD;;;;EA5OgBuB;;gBAAbwK,mBAGe;AACjB;AACAvN,EAAAA,QAAQ,EAAET,6BAAS,CAACiF,IAFH;;AAGjB;AACA7D,EAAAA,WAAW,EAAEpB,6BAAS,CAACC,MAJN;;AAKjB;AACJ;AACA;AACIgO,EAAAA,UAAU,EAAEjO,6BAAS,CAACE,MARL;;AASjB;AACJ;AACA;AACIoO,EAAAA,OAAO,EAAEtO,6BAAS,CAACE,MAZF;;AAajB;AACJ;AACA;AACIoC,EAAAA,KAAK,EAAEtC,6BAAS,CAACE,MAhBA;;AAiBjB;AACJ;AACA;AACI4O,EAAAA,MAAM,EAAE9O,6BAAS,CAACE,MApBD;;AAqBjB;AACJ;AACA;AACA;AACA;AACA;AACIkQ,EAAAA,MAAM,EAAEpQ,6BAAS,CAACE,MA3BD;;AA4BjB;AACAgP,EAAAA,kBAAkB,EAAElP,6BAAS,CAAC8E,IA7Bb;;AA8BjB;AACAqK,EAAAA,iBAAiB,EAAEnP,6BAAS,CAAC8E,IA/BZ;;AAgCjB;AACJ;AACA;AACA;AACI6G,EAAAA,OAAO,EAAE3L,6BAAS,CAACiF;AApCF;;gBAHf+I,sBA0CkB;AACpBvN,EAAAA,QAAQ,EAAE,IADU;AAEpBW,EAAAA,WAAW,EAAE,IAFO;AAGpB6M,EAAAA,UAAU,EAAE;AACV8C,IAAAA,WAAW,EAAE,KADH;AAEV3C,IAAAA,MAAM,EAAE,CAAC,EAAD,EAAK,EAAL,CAFE;AAGV7B,IAAAA,IAAI,EAAE,CAHI;AAIVE,IAAAA,OAAO,EAAE,EAJC;AAKVG,IAAAA,OAAO,EAAE;AALC,GAHQ;AAUpB0B,EAAAA,OAAO,EAAE;AACPG,IAAAA,GAAG,EAAE,iEADE;AAEPC,IAAAA,OAAO,EAAE;AACPjC,MAAAA,OAAO,EAAE,EADF;AAEPuE,MAAAA,WAAW,EAAE;AAFN;AAFF,GAVW;AAiBpB1O,EAAAA,KAAK,EAAE;AACLmM,IAAAA,GAAG,EAAE,oEADA;AAELC,IAAAA,OAAO,EAAE;AACPjC,MAAAA,OAAO,EAAE,EADF;AAEPuE,MAAAA,WAAW,EAAE;AAFN;AAFJ,GAjBa;AAwBpBlC,EAAAA,MAAM,EAAE;AACNC,IAAAA,IAAI,EAAE,IADA;AAENL,IAAAA,OAAO,EAAE,EAFH;;AAAA,GAxBY;AA4BpB0B,EAAAA,MAAM,EAAE,EA5BY;AA6BpBlB,EAAAA,kBAAkB,EAAE,IA7BA;AA8BpBC,EAAAA,iBAAiB,EAAE,IA9BC;AA+BpBxD,EAAAA,OAAO,EAAE,mBAAM;AA/BK,gBCvEV,OAAOtB,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC;IAA/CC,aAAAA;;CAEU,YAAM;AACtB,MAAI,OAAOA,GAAP,KAAa,WAAjB,EAA8B;AAC5B,WAAO,KAAP;AACD;;AAED,MAAI2G,iBAAJ;AACA,MAAIC,gBAAJ,CANsB;;AAStB,WAASpE,EAAT,CAAYqE,EAAZ,EAAgBC,KAAhB,EAAuBC,EAAvB,EAA2BC,OAA3B,EAAoC;AAClCF,IAAAA,KAAK,CAACG,KAAN,CAAY,GAAZ,EAAiBV,OAAjB,CAAyB,UAACvF,IAAD,EAAU;AACjChB,MAAAA,GAAC,CAACkH,QAAF,CAAW1E,EAAX,CAAcqE,EAAd,EAAkB7F,IAAlB,EAAwB+F,EAAxB,EAA4BC,OAA5B;AACD,KAFD;AAGD,GAbqB;;;AAgBtB,WAASvE,GAAT,CAAaoE,EAAb,EAAiBC,KAAjB,EAAwBC,EAAxB,EAA4BC,OAA5B,EAAqC;AACnCF,IAAAA,KAAK,CAACG,KAAN,CAAY,GAAZ,EAAiBV,OAAjB,CAAyB,UAACvF,IAAD,EAAU;AACjChB,MAAAA,GAAC,CAACkH,QAAF,CAAWzE,GAAX,CAAeoE,EAAf,EAAmB7F,IAAnB,EAAyB+F,EAAzB,EAA6BC,OAA7B;AACD,KAFD;AAGD;;AAED,WAASG,aAAT,CAAuBC,UAAvB,EAAmC;AACjC,WAAO,aAAaA,UAAb,GAA0B,OAA1B,GAAoC,QAA3C;AACD;;AAED,WAASC,aAAT,GAAyB;AACvBV,IAAAA,iBAAiB,GAAG,KAAKW,IAAL,CAAU9O,QAAV,CAAmB+O,OAAnB,EAApB;AACAX,IAAAA,gBAAgB,GAAG,KAAKU,IAAL,CAAUE,GAAV,IAAiB,KAAKF,IAAL,CAAUE,GAAV,CAAcD,OAAd,EAApC;;AACA,SAAKD,IAAL,CAAU9O,QAAV,CAAmB2M,OAAnB;;AACA,SAAKmC,IAAL,CAAUE,GAAV,IAAiB,KAAKF,IAAL,CAAUE,GAAV,CAAcrC,OAAd,EAAjB;AACD;;AAED,WAASsC,eAAT,CAAyBjB,CAAzB,EAA4B;AAC1B,SAAKkB,aAAL,CAAmBlB,CAAnB;;AACA,QAAIG,iBAAJ,EAAuB;AACrB,WAAKW,IAAL,CAAU9O,QAAV,CAAmBmP,MAAnB;AACD;;AACD,QAAIf,gBAAJ,EAAsB;AACpB,WAAKU,IAAL,CAAUE,GAAV,CAAcG,MAAd;AACD;AACF,GAzCqB;;;AA4CtB,WAASC,OAAT,CAAiBC,GAAjB,EAAsB;AACpB,WAAOA,GAAG,KAAK,WAAR,GAAsB,EAAtB,GAA2BvO,KAAK,CAACC,OAAN,CAAcsO,GAAd,IAAqBA,GAArB,GAA2B,CAACA,GAAD,CAA7D;AACD;;AAED,WAASC,IAAT,GAAgB;;AAEhB9H,EAAAA,GAAC,CAAC+H,OAAF,CAAUC,UAAV,GAAuBhI,GAAC,CAAC+H,OAAF,CAAUE,MAAV,CAAiB;AACtC7D,IAAAA,OAAO,EAAE;AACP8D,MAAAA,SAAS,EAAE,EADJ;AAEPC,MAAAA,OAAO,EAAE;AAFF,KAD6B;AAMtCC,IAAAA,UANsC,sBAM3BC,UAN2B,EAMfC,WANe,EAMFlE,OANE,EAMO;AAC3C,WAAKmE,aAAL,CAAmBF,UAAnB;AACA,WAAKG,cAAL,CAAoBF,WAApB;AACAtI,MAAAA,GAAC,CAACyI,UAAF,CAAa,IAAb,EAAmBrE,OAAnB;AACD,KAVqC;AAYtCsE,IAAAA,WAZsC,yBAYxB;AACZ,UAAMC,UAAU,GAAG,KAAKC,MAAL,CAAYrQ,KAA/B;AACA,UAAMsQ,MAAM,GAAG,CAAC,MAAMF,UAAP,KAAsB,IAAI,KAAKvE,OAAL,CAAa+D,OAAjB,GAA2B,KAAK/D,OAAL,CAAa8D,SAA9D,CAAf;AACA,aAAO,KAAKZ,IAAL,CAAUwB,OAAV,GAAoBtF,CAApB,GAAwBmF,UAAxB,GAAqCE,MAA5C;AACD,KAhBqC;AAkBtCE,IAAAA,WAAW,EAAEjB,IAlByB;AAoBtCkB,IAAAA,QAAQ,EAAEhJ,GAAC,CAACiJ,OAAF,CAAUhG,SAAV,IAAuBjD,GAAC,CAACkJ,KAAF,CAAQC,MApBH;AAsBtC9E,IAAAA,KAtBsC,iBAsBhC1M,GAtBgC,EAsB3B;AACT,WAAKuJ,MAAL;AACA,WAAKoG,IAAL,GAAY3P,GAAZ;AAEA,UAAMyR,SAAS,GAAI,KAAKC,UAAL,GAAkBrJ,GAAC,CAACsJ,OAAF,CAAUC,MAAV,CACnC,KADmC,EAEnC,aAFmC,EAGnC5R,GAAG,CAAC6R,iBAH+B,CAArC;AAMA,WAAKC,QAAL,GAAgBzJ,GAAC,CAACsJ,OAAF,CAAUC,MAAV,CAAiB,KAAjB,EAAwB,qBAAxB,EAA+CH,SAA/C,CAAhB;AACA,UAAMrQ,KAAK,GAAI,KAAK6P,MAAL,GAAc5I,GAAC,CAACsJ,OAAF,CAAUC,MAAV,CAAiB,OAAjB,EAA0B,mBAA1B,EAA+CH,SAA/C,CAA7B;AACArQ,MAAAA,KAAK,CAACiI,IAAN,GAAa,OAAb;AACAjI,MAAAA,KAAK,CAAC0D,GAAN,GAAY,CAAZ;AACA1D,MAAAA,KAAK,CAAC6C,GAAN,GAAY,CAAZ;AACA7C,MAAAA,KAAK,CAAC4C,IAAN,GAAa,KAAb;AACA5C,MAAAA,KAAK,CAACR,KAAN,GAAc,GAAd;AACAQ,MAAAA,KAAK,CAAC1D,KAAN,CAAYqU,WAAZ,GAA0B3Q,KAAK,CAAC1D,KAAN,CAAYsU,YAAZ,aAA8B,KAAKvF,OAAL,CAAa+D,OAA3C,OAA1B;;AACA,WAAKyB,UAAL;;AACA,WAAKC,aAAL;;AACA,aAAO,IAAP;AACD,KA3CqC;AA6CtC3I,IAAAA,MA7CsC,oBA6C7B;AACP,UAAI,CAAC,KAAKoG,IAAV,EAAgB;AACd,eAAO,IAAP;AACD;;AACD,UAAI,KAAKwC,UAAT,EAAqB;AACnB,aAAKA,UAAL,CAAgBC,YAAhB,GAA+B1U,KAA/B,CAAqC2U,IAArC,GAA4C,EAA5C;AACD;;AACD,UAAI,KAAKC,WAAT,EAAsB;AACpB,aAAKA,WAAL,CAAiBF,YAAjB,GAAgC1U,KAAhC,CAAsC2U,IAAtC,GAA6C,EAA7C;AACD;;AACD,WAAKE,aAAL;;AACAlK,MAAAA,GAAC,CAACsJ,OAAF,CAAUpI,MAAV,CAAiB,KAAKmI,UAAtB;AAEA,WAAK/B,IAAL,GAAY,IAAZ;AAEA,aAAO,IAAP;AACD,KA7DqC;AA+DtCiB,IAAAA,aA/DsC,yBA+DxBF,UA/DwB,EA+DZ;AACxB,WAAK8B,WAAL,GAAmBvC,OAAO,CAACS,UAAD,CAA1B;;AACA,WAAKwB,aAAL;;AACA,aAAO,IAAP;AACD,KAnEqC;AAqEtCrB,IAAAA,cArEsC,0BAqEvBF,WArEuB,EAqEV;AAC1B,WAAK8B,YAAL,GAAoBxC,OAAO,CAACU,WAAD,CAA3B;;AACA,WAAKuB,aAAL;;AACA,aAAO,IAAP;AACD,KAzEqC;AA2EtCQ,IAAAA,WA3EsC,yBA2ExB;AACZ,UAAM1S,GAAG,GAAG,KAAK2P,IAAjB;AACA,UAAMgD,EAAE,GAAG3S,GAAG,CAAC4S,0BAAJ,CAA+B,CAAC,CAAD,EAAI,CAAJ,CAA/B,CAAX;AACA,UAAMC,EAAE,GAAG7S,GAAG,CAAC4S,0BAAJ,CAA+B5S,GAAG,CAACmR,OAAJ,EAA/B,CAAX;AACA,UAAM2B,KAAK,GAAGH,EAAE,CAAC9G,CAAH,GAAO,KAAKkF,WAAL,EAArB;AACA,UAAMgC,QAAQ,GAAG,KAAKhC,WAAL,EAAjB;AAEA,WAAKe,QAAL,CAAcpU,KAAd,CAAoBsV,IAApB,aAA8BD,QAA9B;AACA,WAAKE,IAAL,CAAU,aAAV,EAAyB;AAAEpH,QAAAA,CAAC,EAAEkH;AAAL,OAAzB;AACA,UAAMG,QAAQ,kBAAW,CAACP,EAAE,CAAC7G,CAAJ,EAAOgH,KAAP,EAAcD,EAAE,CAAC/G,CAAjB,EAAoB6G,EAAE,CAAC9G,CAAvB,EAA0BpE,IAA1B,CAA+B,KAA/B,CAAX,QAAd;AACA,UAAM0L,SAAS,kBAAW,CAACR,EAAE,CAAC7G,CAAJ,EAAO+G,EAAE,CAAChH,CAAV,EAAagH,EAAE,CAAC/G,CAAhB,EAAmBgH,KAAnB,EAA0BrL,IAA1B,CAA+B,KAA/B,CAAX,QAAf;;AACA,UAAI,KAAK0K,UAAT,EAAqB;AACnB,aAAKA,UAAL,CAAgBC,YAAhB,GAA+B1U,KAA/B,CAAqC2U,IAArC,GAA4Ca,QAA5C;AACD;;AACD,UAAI,KAAKZ,WAAT,EAAsB;AACpB,aAAKA,WAAL,CAAiBF,YAAjB,GAAgC1U,KAAhC,CAAsC2U,IAAtC,GAA6Cc,SAA7C;AACD;AACF,KA5FqC;AA8FtCjB,IAAAA,aA9FsC,2BA8FtB;AAAA;;AACd,UAAI,CAAC,KAAKvC,IAAV,EAAgB;AACd,eAAO,IAAP;AACD;;AACD,UAAMyD,QAAQ,GAAG,KAAKjB,UAAtB;AACA,UAAMkB,SAAS,GAAG,KAAKf,WAAvB;AACA,WAAKH,UAAL,GAAkB,KAAKG,WAAL,GAAmB,IAArC;;AACA,WAAKE,WAAL,CAAiB5D,OAAjB,CAAyB,UAAC0E,KAAD,EAAW;AAClC,YAAI,KAAI,CAAC3D,IAAL,CAAU4D,QAAV,CAAmBD,KAAnB,CAAJ,EAA+B;AAC7B,UAAA,KAAI,CAACnB,UAAL,GAAkBmB,KAAlB;AACD;AACF,OAJD,EAIG,IAJH;;AAKA,WAAKb,YAAL,CAAkB7D,OAAlB,CAA0B,UAAC0E,KAAD,EAAW;AACnC,YAAI,KAAI,CAAC3D,IAAL,CAAU4D,QAAV,CAAmBD,KAAnB,CAAJ,EAA+B;AAC7B,UAAA,KAAI,CAAChB,WAAL,GAAmBgB,KAAnB;AACD;AACF,OAJD,EAIG,IAJH;;AAKA,UAAIF,QAAQ,KAAK,KAAKjB,UAAtB,EAAkC;AAChCiB,QAAAA,QAAQ,IAAI,KAAKH,IAAL,CAAU,iBAAV,EAA6B;AAAEK,UAAAA,KAAK,EAAEF;AAAT,SAA7B,CAAZ;AACA,aAAKjB,UAAL,IAAmB,KAAKc,IAAL,CAAU,cAAV,EAA0B;AAAEK,UAAAA,KAAK,EAAE,KAAKnB;AAAd,SAA1B,CAAnB;AACD;;AACD,UAAIkB,SAAS,KAAK,KAAKf,WAAvB,EAAoC;AAClCe,QAAAA,SAAS,IAAI,KAAKJ,IAAL,CAAU,kBAAV,EAA8B;AAAEK,UAAAA,KAAK,EAAED;AAAT,SAA9B,CAAb;AACA,aAAKf,WAAL,IAAoB,KAAKW,IAAL,CAAU,eAAV,EAA2B;AAAEK,UAAAA,KAAK,EAAE,KAAKhB;AAAd,SAA3B,CAApB;AACD;;AACD,WAAKI,WAAL;AACD,KAxHqC;AA0HtCT,IAAAA,UA1HsC,wBA0HzB;AACX,UAAI7Q,KAAK,GAAG,KAAK6P,MAAjB;AACA,UAAIjR,GAAG,GAAG,KAAK2P,IAAf;AACA,UAAI,CAAC3P,GAAD,IAAQ,CAACoB,KAAb,EAAoB;AACpBpB,MAAAA,GAAG,CAAC6K,EAAJ,CAAO,MAAP,EAAe,KAAK6H,WAApB,EAAiC,IAAjC;AACA1S,MAAAA,GAAG,CAAC6K,EAAJ,CAAO,sBAAP,EAA+B,KAAKqH,aAApC,EAAmD,IAAnD;AACArH,MAAAA,EAAE,CAACzJ,KAAD,EAAQoO,aAAa,CAACpO,KAAD,CAArB,EAA8B,KAAKsR,WAAnC,EAAgD,IAAhD,CAAF;AACA7H,MAAAA,EAAE,CAACzJ,KAAD,EAAQiH,GAAC,CAACmL,OAAF,CAAUC,KAAV,GAAkB,YAAlB,GAAiC,WAAzC,EAAsD/D,aAAtD,EAAqE,IAArE,CAAF;AACA7E,MAAAA,EAAE,CAACzJ,KAAD,EAAQiH,GAAC,CAACmL,OAAF,CAAUC,KAAV,GAAkB,UAAlB,GAA+B,SAAvC,EAAkD3D,eAAlD,EAAmE,IAAnE,CAAF;AACD,KAnIqC;AAqItCyC,IAAAA,aArIsC,2BAqItB;AACd,UAAMnR,KAAK,GAAG,KAAK6P,MAAnB;AACA,UAAMjR,GAAG,GAAG,KAAK2P,IAAjB;;AACA,UAAIvO,KAAJ,EAAW;AACT0J,QAAAA,GAAG,CAAC1J,KAAD,EAAQoO,aAAa,CAACpO,KAAD,CAArB,EAA8B,KAAKsR,WAAnC,EAAgD,IAAhD,CAAH;AACA5H,QAAAA,GAAG,CAAC1J,KAAD,EAAQiH,GAAC,CAACmL,OAAF,CAAUC,KAAV,GAAkB,YAAlB,GAAiC,WAAzC,EAAsD/D,aAAtD,EAAqE,IAArE,CAAH;AACA5E,QAAAA,GAAG,CAAC1J,KAAD,EAAQiH,GAAC,CAACmL,OAAF,CAAUC,KAAV,GAAkB,UAAlB,GAA+B,SAAvC,EAAkD3D,eAAlD,EAAmE,IAAnE,CAAH;AACD;;AACD,UAAI9P,GAAJ,EAAS;AACPA,QAAAA,GAAG,CAAC8K,GAAJ,CAAQ,sBAAR,EAAgC,KAAKoH,aAArC,EAAoD,IAApD;AACAlS,QAAAA,GAAG,CAAC8K,GAAJ,CAAQ,MAAR,EAAgB,KAAK4H,WAArB,EAAkC,IAAlC;AACD;AACF;AAjJqC,GAAjB,CAAvB;;AAoJArK,EAAAA,GAAC,CAACqL,OAAF,CAAUC,UAAV,GAAuB,UAACjD,UAAD,EAAaC,WAAb,EAA0BlE,OAA1B;AAAA,WACrB,IAAIpE,GAAC,CAAC+H,OAAF,CAAUC,UAAd,CAAyBK,UAAzB,EAAqCC,WAArC,EAAkDlE,OAAlD,CADqB;AAAA,GAAvB;;AAGA,SAAOpE,GAAC,CAAC+H,OAAF,CAAUC,UAAjB;AACD,CA1MgB,iBCKH,OAAOjI,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC;IAA/CC,aAAAA;;IAEKuL,aAAb;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,wCAUsB;AAAA,wBACO,KAAKrW,KADZ;AAAA,UACVyC,GADU,eACVA,GADU;AAAA,UACL0J,OADK,eACLA,OADK;;AAGlB,UACE,OAAOrB,GAAP,KAAa,WAAb,IACA,CAACrI,GADD,IAEA,CAACqI,GAAC,CAACqL,OAAF,CAAUC,UAFX,IAGA,OAAOtL,GAAC,CAACqL,OAAF,CAAUC,UAAjB,KAAgC,UAJlC,EAKE;AACA;AACD;;AAED,WAAKE,iBAAL,GAAyBxL,GAAC,CAACqL,OAAF,CAAUC,UAAV,EAAzB;AACA,WAAKE,iBAAL,CAAuBnH,KAAvB,CAA6B1M,GAA7B;AAEA,UAAI0J,OAAJ,EAAaA,OAAO,CAAC,KAAKmK,iBAAN,CAAP;AACd;AA1BH;AAAA;AAAA,6BA4BW;AACP,aAAO,IAAP;AACD;AA9BH;;AAAA;AAAA,EAAmChW,yBAAK,CAACC,aAAzC;;gBAAa8V,4BACQ;AACjB5T,EAAAA,GAAG,EAAEjC,6BAAS,CAACE,MAAV,CAAiB8E,UADL;;AAEjB;AACJ;AACA;AACA;AACI2G,EAAAA,OAAO,EAAE3L,6BAAS,CAACiF,IAAV,CAAeD;AANP,OCLf+Q;;;;;AAWJ,sBAAYvW,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;;AADiB,+DASR,UAACsR,CAAD,EAAO;AAChB,UAAIA,CAAC,CAACkF,MAAF,CAASC,EAAT,KAAgB,wBAApB,EAA8C;AAC5C,eAAO,KAAP;AACD;;AAHe,UAKRC,SALQ,GAKM,MAAK1Q,KALX,CAKR0Q,SALQ;;AAMhB,UAAI,MAAKC,OAAT,EAAkB;AAChB;AACAC,QAAAA,YAAY,CAAC,MAAKD,OAAN,CAAZ;AACD;;AAED,YAAKA,OAAL,GAAe9P,UAAU,CAAC,YAAM;AAC9B,cAAK8P,OAAL,GAAe,IAAf;;AACA,cAAKtQ,QAAL,CAAc;AACZqQ,UAAAA,SAAS,EAAE;AADC,SAAd;AAGD,OALwB,EAKtB,GALsB,CAAzB;;AAOA,UAAI,CAACA,SAAL,EAAgB;AACd,cAAKrQ,QAAL,CAAc;AACZqQ,UAAAA,SAAS,EAAE;AADC,SAAd;AAGD;AACF,KAhCkB;;AAEjB,UAAK1Q,KAAL,GAAa;AACX0Q,MAAAA,SAAS,EAAE;AADA,KAAb;AAIA,UAAKC,OAAL,GAAe,IAAf;AANiB;AAOlB;;;;6BA2BQ;AAAA,wBACwB,KAAK3W,KAD7B;AAAA,UACC6W,QADD,eACCA,QADD;AAAA,UACW5V,QADX,eACWA,QADX;AAAA,UAECyV,SAFD,GAEe,KAAK1Q,KAFpB,CAEC0Q,SAFD;AAIP,0BACEpW;AAAI,QAAA,EAAE,EAAC,wBAAP;AAAgC,QAAA,SAAS,EAAC,2BAA1C;AAA0D,QAAA,QAAQ,EAAE,KAAKwW;AAAzE,SACGxW,yBAAK,CAACsL,QAAN,CAAenJ,GAAf,CAAmBxB,QAAnB,EAA6B,UAAC4K,KAAD,EAAQ5I,KAAR;AAAA,4BAC5B3C,yBAAK,CAACyL,YAAN,CAAmBF,KAAnB,EAA0B;AACxBgL,UAAAA,QAAQ,EAARA,QADwB;AAExB5T,UAAAA,KAAK,EAALA,KAFwB;AAGxBmG,UAAAA,CAAC,EAAEnG,KAHqB;AAIxByT,UAAAA,SAAS,EAATA;AAJwB,SAA1B,CAD4B;AAAA,OAA7B,CADH,CADF;AAYD;;;;EA7DsBnW;;gBAAnBgW,yBACe;AACjBM,EAAAA,QAAQ,EAAErW,6BAAS,CAAC8E,IADH;AAEjBrE,EAAAA,QAAQ,EAAET,6BAAS,CAACW;AAFH;;gBADfoV,4BAMkB;AACpBM,EAAAA,QAAQ,EAAE,IADU;AAEpB5V,EAAAA,QAAQ,EAAE;AAFU;;AA0DxB,mBAAe8V,kCAAiB,CAACR,UAAD,CAAhC,CChEA,IAAMS,cAAc,GAAG,SAAjBA,cAAiB;AAAA,sBACrB1W;AAAM,IAAA,SAAS,EAAC;AAAhB,kBACEA,wCAAC,IAAD;AAAM,IAAA,IAAI,EAAC,gBAAX;AAA4B,IAAA,SAAS,EAAC;AAAtC,IADF,CADqB;AAAA,CAAvB;;AAMA,uBAAe2W,+BAAc,CAACD,cAAD,CAA7B;;;;;;;;;;;;;ICDME;;;;;;;;;;;;;6BAmBK;AAAA,wBAC0D,KAAKlX,KAD/D;AAAA,UACCmX,MADD,eACCA,MADD;AAAA,UACSN,QADT,eACSA,QADT;AAAA,UACmB5V,QADnB,eACmBA,QADnB;AAAA,UAC6BmW,OAD7B,eAC6BA,OAD7B;AAAA,UACsCC,KADtC,eACsCA,KADtC;AAAA,UACgDrX,KADhD;;AAEP,UAAMsX,WAAW,GAAGH,MAAM,CAACI,IAAP,CAAY,UAACC,CAAD;AAAA,eAAOA,CAAC,CAACC,MAAT;AAAA,OAAZ,KAAgCN,MAAM,CAAC,CAAD,CAA1D;AAEA,0BACE7W;AAAA,qDACaD,8BAAU,CAAC;AACpB,2BAAiB,IADG;AAEpB,uBAAawW;AAFO,SAAD,CADvB;AAAA,sBAMEvW;AAAA,qDACaD,8BAAU,CAAC;AACpB,mCAAyB,IADL;AAEpB,uBAAawW;AAFO,SAAD,CADvB;AAAA,SAMGA,QAAQ,iBAAIvW,wCAAC0W,gBAAD,OANf,eAQE1W;AAAK,QAAA,SAAS,EAAC;AAAf,sBACEA;AAAQ,QAAA,SAAS,EAAC;AAAlB,sBACEA,iEACGA,yBAAK,CAACuC,cAAN,CAAqBwU,KAArB,KAA+B,OAAOA,KAAK,CAACvL,IAAb,KAAsB,QAArD,gBACGxL,yBAAK,CAACyL,YAAN,CAAmBsL,KAAnB,oCAA+BrX,KAA/B;AAAsCmX,QAAAA,MAAM,EAANA,MAAtC;AAA8CG,QAAAA,WAAW,EAAXA;AAA9C,SADH,GAEGA,WAAW,IAAIA,WAAW,CAACrX,IAHjC,CADF,eAMGK,yBAAK,CAACuC,cAAN,CAAqBuU,OAArB,KACC,OAAOA,OAAO,CAACtL,IAAf,KAAwB,QADzB,iBAECxL,yBAAK,CAACyL,YAAN,CAAmBqL,OAAnB,oCAAiCpX,KAAjC;AAAwCmX,QAAAA,MAAM,EAANA,MAAxC;AAAgDG,QAAAA,WAAW,EAAXA;AAAhD,SARJ,CADF,EAYGhX,yBAAK,CAACsL,QAAN,CAAenJ,GAAf,CAAmBxB,QAAnB,EAA6B,UAAC4K,KAAD;AAAA,4BAC5BvL,yBAAK,CAACuC,cAAN,CAAqBgJ,KAArB,KAA+B,OAAOA,KAAK,CAACC,IAAb,KAAsB,QAArD,gBACIxL,yBAAK,CAACyL,YAAN,CAAmBF,KAAnB,EAA0B;AAAEsL,UAAAA,MAAM,EAANA,MAAF;AAAUG,UAAAA,WAAW,EAAXA;AAAV,SAA1B,CADJ,GAEIzL,KAHwB;AAAA,OAA7B,CAZH,CARF,CANF,CADF;AAoCD;;;;EA3D0BtL;;gBAAvB2W,6BACe;AACjBQ,EAAAA,OAAO,EAAElX,6BAAS,CAACC,MADF;AAEjB0W,EAAAA,MAAM,EAAE3W,6BAAS,CAACmX,OAAV,CAAkBnX,6BAAS,CAACyB,KAAV,CAAgB,EAAhB,CAAlB,CAFS;AAGjB4U,EAAAA,QAAQ,EAAErW,6BAAS,CAAC8E,IAHH;AAIjBrE,EAAAA,QAAQ,EAAET,6BAAS,CAACW,IAJH;AAKjBiW,EAAAA,OAAO,EAAE5W,6BAAS,CAACW,IALF;AAMjBkW,EAAAA,KAAK,EAAE7W,6BAAS,CAACW;AANA;;gBADf+V,gCAUkB;AACpBQ,EAAAA,OAAO,EAAE,EADW;AAEpBP,EAAAA,MAAM,EAAE,EAFY;AAGpBN,EAAAA,QAAQ,EAAE,IAHU;AAIpB5V,EAAAA,QAAQ,EAAE,EAJU;AAKpBmW,EAAAA,OAAO,EAAE,EALW;AAMpBC,EAAAA,KAAK,EAAE;AANa;;AAoDxB,YAAeO,gCAAe,CAAC;AAAA,MAAGC,UAAH,QAAGA,UAAH;AAAA,MAAkB7X,KAAlB;;AAAA,sBAC7BM,wCAAC,cAAD;AAAgB,IAAA,GAAG,EAAEN,KAAK,CAAC0X;AAA3B,KAAwCG,UAAxC,EAAwD7X,KAAxD,EAD6B;AAAA,CAAD,CAA9B,0PClEM8X;;;;;;;;;;;;;;;;4DAwBI;AACNC,MAAAA,OAAO,EAAE;AADH;;;;;;;8CAIkBC,WAAW;AAAA,UAC3BtB,SAD2B,GACbsB,SADa,CAC3BtB,SAD2B;;AAGnC,UAAIA,SAAJ,EAAe;AACb,aAAKrQ,QAAL,CAAc;AAAE0R,UAAAA,OAAO,EAAE;AAAX,SAAd;AACD;AACF;;;6BAEQ;AAAA;;AAAA,wBAC6E,KAAK/X,KADlF;AAAA,UACCsX,WADD,eACCA,WADD;AAAA,UACcW,aADd,eACcA,aADd;AAAA,UAC6BC,IAD7B,eAC6BA,IAD7B;AAAA,UACmCC,UADnC,eACmCA,UADnC;AAAA,UAC+CC,YAD/C,eAC+CA,YAD/C;AAAA,UAC6DC,WAD7D,eAC6DA,WAD7D;AAAA,UAECN,OAFD,GAEa,KAAK/R,KAFlB,CAEC+R,OAFD;;AAGP,UAAIT,WAAW,CAACgB,WAAZ,IAA2B,CAAChB,WAAW,CAACgB,WAAZ,CAAwB/I,IAAxD,EAA8D;AAC5D,eAAO,IAAP;AACD;;AAED,0BACEjP,wCAAC,OAAD;AACE,QAAA,OAAO,EAAE+X,WAAW,IAAI,eAD1B;AAEE,QAAA,gBAAgB,EAAC,uBAFnB;AAGE,QAAA,SAAS,EAAC,KAHZ;AAIE,QAAA,OAAO,EAAEJ,aAAa,GAAG,EAAH,GAAQ,OAJhC;AAKE,QAAA,eAAe,EAAE,CALnB;AAME,QAAA,oBAAoB,MANtB;AAOE,QAAA,eAAe,EAAE,yBAACM,CAAD;AAAA,iBAAO,MAAI,CAAClS,QAAL,CAAc;AAAE0R,YAAAA,OAAO,EAAEQ;AAAX,WAAd,CAAP;AAAA,SAPnB;AAQE,QAAA,OAAO,EAAER;AARX,sBAUEzX;AACE,QAAA,IAAI,EAAC,QADP;AAEE,QAAA,SAAS,EAAC,6BAFZ;AAGE,sBAAW,eAHb;AAIE,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACN,KAAL,CAAWwY,YAAX,CAAwBlB,WAAxB,CAAN;AAAA;AAJX,sBAMEhX,wCAAC,IAAD;AACE,QAAA,IAAI,EAAE4X,IAAI,IAAI,WADhB;AAEE,QAAA,SAAS,EAAC,QAFZ;AAGE,QAAA,KAAK,EAAEH,OAAO,GAAGI,UAAH,GAAgBC;AAHhC,QANF,CAVF,CADF;AAyBD;;;;EApEgC7X;;gBAA7BuX,mCACe;AACjBR,EAAAA,WAAW,EAAE9W,6BAAS,CAACE,MADN;AAEjBuX,EAAAA,aAAa,EAAEzX,6BAAS,CAAC8E,IAFR;AAGjB4S,EAAAA,IAAI,EAAE1X,6BAAS,CAACC,MAHC;AAIjB0X,EAAAA,UAAU,EAAE3X,6BAAS,CAACE,MAJL;AAKjB0X,EAAAA,YAAY,EAAE5X,6BAAS,CAACE,MALP;AAMjB2X,EAAAA,WAAW,EAAE7X,6BAAS,CAACC,MANN;AAOjBiW,EAAAA,SAAS,EAAElW,6BAAS,CAAC8E,IAPJ;AAQjBkT,EAAAA,YAAY,EAAEhY,6BAAS,CAACiF;AARP;;gBADfqS,sCAYkB;AACpBR,EAAAA,WAAW,EAAE,EADO;AAEpBY,EAAAA,IAAI,EAAE,EAFc;AAGpBC,EAAAA,UAAU,EAAE,EAHQ;AAIpBC,EAAAA,YAAY,EAAE,EAJM;AAKpBH,EAAAA,aAAa,EAAE,KALK;AAMpBI,EAAAA,WAAW,EAAE,EANO;AAOpB3B,EAAAA,SAAS,EAAE,KAPS;AASpB8B,EAAAA,YAAY,EAAE,wBAAM;AATA;;;;;;;;;ICblBC;;;;;;;;;;;;;6BAUK;AAAA;;AAAA,wBACyB,KAAKzY,KAD9B;AAAA,UACCmX,MADD,eACCA,MADD;AAAA,UACSG,WADT,eACSA,WADT;AAGP,0BACEhX;AAAK,QAAA,SAAS,EAAC;AAAf,gCAEEA;AAAI,QAAA,SAAS,EAAC;AAAd,SACG6W,MAAM,CAAC1U,GAAP,CAAW,UAAC+U,CAAD;AAAA,4BACVlX;AACE,UAAA,GAAG,EAAEkX,CAAC,CAACf,EADT;AAME,UAAA,OAAO,EAAE;AAAA,mBAAM,KAAI,CAACzW,KAAL,CAAW0Y,aAAX,CAAyBlB,CAAzB,CAAN;AAAA,WANX;AAAA,uDAEanX,8BAAU,CAAC;AACpB,gCAAoB,IADA;AAEpB,uBAAWmX,CAAC,CAACf,EAAF,KAASa,WAAW,CAACb;AAFZ,WAAD,CAFvB;AAAA,WAQGe,CAAC,CAACvX,IARL,CADU;AAAA,OAAX,CADH,CAFF,CADF;AAmBD;;;;EAhC+BM;;gBAA5BkY,kCACe;AACjB;AACAtB,EAAAA,MAAM,EAAE3W,6BAAS,CAAC4E,KAAV,CAAgBI,UAFP;AAGjB8R,EAAAA,WAAW,EAAE9W,6BAAS,CAACE,MAAV,CAAiB8E,UAHb;AAIjB;AACA;AACAkT,EAAAA,aAAa,EAAElY,6BAAS,CAACiF,IAAV,CAAeD;AANb,OCEfmT;;;;;;;;;;;;;;;;4DA6BI;AACNC,MAAAA,eAAe,EAAE,KADX;AAENC,MAAAA,eAAe,EAAE,KAFX;AAGNC,MAAAA,iBAAiB,EAAE,MAAK9Y,KAAL,CAAWoJ,CAAX,KAAiB,CAAjB,IAAsB,MAAKpJ,KAAL,CAAWmX,MAAX,CAAkB7S,MAAlB,GAA2B;AAH9D;;gFAeoB,UAACwB,UAAD,EAAgB;AAAA,UAClCiT,yBADkC,GACJ,MAAK/Y,KADD,CAClC+Y,yBADkC;AAAA,UAElCD,iBAFkC,GAEZ,MAAK9S,KAFO,CAElC8S,iBAFkC;;AAI1C,YAAKzS,QAAL;AACEuS,QAAAA,eAAe,EAAE,KADnB;AAEEC,QAAAA,eAAe,EAAE/S;AAFnB,SAGMgT,iBAAiB,IAAI;AACvBA,QAAAA,iBAAiB,EAAE;AADI,OAH3B;;AAQAC,MAAAA,yBAAyB,CAACjT,UAAD,CAAzB;AACD;;wEAMmB,YAAM;AAAA,UAChBqR,MADgB,GACL,MAAKnX,KADA,CAChBmX,MADgB;AAGxB,aAAO6B,0BAAM,CACX7B,MAAM,CAAC5N,MAAP,CAAc,UAACiO,CAAD;AAAA,eAAOA,CAAC,CAACc,WAAF,CAAcW,QAArB;AAAA,OAAd,CADW,EAEX,UAACzB,CAAD;AAAA,eAAOA,CAAC,CAACc,WAAF,CAAcY,KAArB;AAAA,OAFW,CAAb;AAID;;;;;;;8CAnCyBlB,WAAW;AAAA,wBACC,KAAKhY,KADN;AAAA,UAC3B0W,SAD2B,eAC3BA,SAD2B;AAAA,UACbyC,SADa,eAChB/P,CADgB;AAAA,UAExBgQ,SAFwB,GAEVpB,SAFU,CAE3B5O,CAF2B;;AAInC,UAAIsN,SAAS,IAAIyC,SAAS,KAAKC,SAA/B,EAA0C;AACxC,aAAKL,yBAAL,CAA+B,KAA/B;AACD;AACF;;;6BA8BQ;AAAA;;AAAA,yBAUH,KAAK/Y,KAVF;AAAA,UAELmX,MAFK,gBAELA,MAFK;AAAA,UAGLG,WAHK,gBAGLA,WAHK;AAAA,UAILY,IAJK,gBAILA,IAJK;AAAA,UAKLC,UALK,gBAKLA,UALK;AAAA,UAMLC,YANK,gBAMLA,YANK;AAAA,UAOLC,WAPK,gBAOLA,WAPK;AAAA,UAQLK,aARK,gBAQLA,aARK;AAAA,UASLT,aATK,gBASLA,aATK;AAAA,wBAWyD,KAAKjS,KAX9D;AAAA,UAWC6S,eAXD,eAWCA,eAXD;AAAA,UAWkBD,eAXlB,eAWkBA,eAXlB;AAAA,UAWmCE,iBAXnC,eAWmCA,iBAXnC;AAYP,UAAMO,cAAc,GAAG,KAAKC,iBAAL,EAAvB;;AAEA,UAAInC,MAAM,CAAC7S,MAAP,KAAkB,CAAlB,IAAuB+U,cAAc,CAAC/U,MAA1C,EAAkD;AAChD,eAAO,IAAP;AACD;;AAED,0BACEhE,wCAAC,OAAD;AACE,QAAA,OAAO,eACLA,wCAAC,mBAAD;AACE,UAAA,MAAM,EAAE6W,MADV;AAEE,UAAA,WAAW,EAAEG,WAFf;AAGE,UAAA,aAAa,EAAEoB;AAHjB,UAFJ;AAQE,QAAA,gBAAgB,EAAC,+BARnB;AASE,QAAA,SAAS,EAAC,KATZ;AAUE,QAAA,OAAO,EAAE,CAAC,OAAD,CAVX;AAWE,QAAA,OAAO,EAAEG,eAXX;AAYE,QAAA,eAAe,EAAE,KAAKE,yBAZxB;AAaE,QAAA,oBAAoB;AAbtB,sBAeEzY,wCAAC,OAAD;AACE,QAAA,OAAO,EAAEwY,iBAAiB,IAAK,CAACD,eAAD,IAAoBD,eADrD;AAEE,QAAA,OAAO,EAAEP,WAAW,cAAOlB,MAAM,CAAC7S,MAAd,YAFtB;AAGE,QAAA,gBAAgB,EAAC,uBAHnB;AAIE,QAAA,SAAS,EAAC,KAJZ;AAKE,QAAA,OAAO,EAAE2T,aAAa,GAAG,EAAH,GAAQ,OALhC;AAME,QAAA,eAAe,EAAE,yBAACnS,UAAD;AAAA,iBACf,MAAI,CAACO,QAAL,CAAc;AAAEuS,YAAAA,eAAe,EAAE9S,UAAnB;AAA+BgT,YAAAA,iBAAiB,EAAE;AAAlD,WAAd,CADe;AAAA,SANnB;AASE,QAAA,oBAAoB;AATtB,sBAWExY;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,SAAS,EAAC,gDAAhC;AAAyD,sBAAW;AAApE,sBACEA,wCAAC,IAAD;AACE,QAAA,IAAI,EAAE4X,IAAI,IAAI,aADhB;AAEE,QAAA,SAAS,EAAC,QAFZ;AAGE,QAAA,KAAK,EAAEU,eAAe,IAAIC,eAAnB,GAAqCV,UAArC,GAAkDC;AAH3D,QADF,CAXF,CAfF,CADF;AAqCD;;;;EA/HkC7X;;gBAA/BoY,qCACe;AACjBxB,EAAAA,MAAM,EAAE3W,6BAAS,CAAC4E,KADD;AAEjBkS,EAAAA,WAAW,EAAE9W,6BAAS,CAACE,MAFN;AAGjBwX,EAAAA,IAAI,EAAE1X,6BAAS,CAACC,MAHC;AAIjB0X,EAAAA,UAAU,EAAE3X,6BAAS,CAACE,MAJL;AAKjB0X,EAAAA,YAAY,EAAE5X,6BAAS,CAACE,MALP;AAMjB2X,EAAAA,WAAW,EAAE7X,6BAAS,CAACC,MANN;AAOjBwX,EAAAA,aAAa,EAAEzX,6BAAS,CAAC8E,IAPR;AAQjBoR,EAAAA,SAAS,EAAElW,6BAAS,CAAC8E,IARJ;AAUjBoT,EAAAA,aAAa,EAAElY,6BAAS,CAACiF,IAVR;AAWjBsT,EAAAA,yBAAyB,EAAEvY,6BAAS,CAACiF;AAXpB;;gBADfkT,wCAekB;AACpBxB,EAAAA,MAAM,EAAE,EADY;AAEpBG,EAAAA,WAAW,EAAE,EAFO;AAGpBY,EAAAA,IAAI,EAAE,EAHc;AAIpBC,EAAAA,UAAU,EAAE,EAJQ;AAKpBC,EAAAA,YAAY,EAAE,EALM;AAMpBH,EAAAA,aAAa,EAAE,KANK;AAOpBI,EAAAA,WAAW,EAAE,IAPO;AAQpB3B,EAAAA,SAAS,EAAE,KARS;AAUpBgC,EAAAA,aAAa,EAAE,yBAAM,EAVD;AAWpBK,EAAAA,yBAAyB,EAAE,qCAAM;AAXb,OClBlBQ;;;;;AAkBJ,gCAAYvZ,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;;AADiB,+DA0BR,UAACuY,CAAD,EAAO;AAAA,wBACyB,MAAKvY,KAD9B;AAAA,UACRsX,WADQ,eACRA,WADQ;AAAA,UACKkC,eADL,eACKA,eADL;AAEhBA,MAAAA,eAAe,CAAClC,WAAD,EAAciB,CAAd,CAAf;AACD,KA7BkB;;AAAA,gCAGY,MAAKvY,KAHjB,CAGTsX,WAHS;AAAA,QAGTA,YAHS,sCAGK,EAHL;;AAAA,QAITmC,OAJS,GAIGnC,YAJH,CAITmC,OAJS;AAMjB,UAAKzT,KAAL,GAAa;AACXyT,MAAAA,OAAO,EAAE,OAAOA,OAAP,KAAmB,WAAnB,GAAiCA,OAAjC,GAA2C;AADzC,KAAb;AANiB;AASlB;;;;uCAEkBxR,WAAWC,WAAW;AAAA,UAEtBuR,OAFsB,GAGnC,KAAKzZ,KAH8B,CAErCsX,WAFqC,CAEtBmC,OAFsB;AAAA,UAKbC,WALa,GAMnCzR,SANmC,CAKrCqP,WALqC,CAKtBmC,OALsB;AAAA,UAOtBE,YAPsB,GAOL,KAAK3T,KAPA,CAO/ByT,OAP+B;AAAA,UAQtBG,gBARsB,GAQD1R,SARC,CAQ/BuR,OAR+B;;AAUvC,UAAIA,OAAO,KAAKC,WAAZ,IAA2BC,YAAY,KAAKC,gBAAhD,EAAkE;AAChE,aAAKvT,QAAL,CAAc;AAAEoT,UAAAA,OAAO,EAAPA;AAAF,SAAd;AACD;AACF;;;6BAOQ;AAAA;AAAA;;AAAA,yBAC6B,KAAKzZ,KADlC;AAAA,UACCuH,GADD,gBACCA,GADD;AAAA,UACMb,GADN,gBACMA,GADN;AAAA,UACWD,IADX,gBACWA,IADX;AAAA,UACoB1C,IADpB;;AAAA,UAEC0V,OAFD,GAEa,KAAKzT,KAFlB,CAECyT,OAFD;AAIP,0BACEnZ;AACE,QAAA,SAAS,EAAC,kDADZ;AAEE,QAAA,GAAG,EAAE,aAACa,IAAD,EAAU;AACb,UAAA,MAAI,CAACwQ,EAAL,GAAUxQ,IAAV;AACD;AAJH,iCAOEb;AAAK,QAAA,SAAS,EAAC;AAAf,sBACEA,wCAAC,MAAD;AACE,QAAA,KAAK,oCACFiH,GADE,EACI,IADJ,yBAEFb,GAFE,EAEI,MAFJ,QADP;AAKE,QAAA,GAAG,EAAEa,GALP;AAME,QAAA,GAAG,EAAEb,GANP;AAOE,QAAA,IAAI,EAAED,IAPR;AAQE,QAAA,KAAK,EAAEgT,OART;AASE,QAAA,WAAW,EAAE,qBAAC5P,IAAD;AAAA,2BAAagQ,IAAI,CAACC,KAAL,CAAWjQ,IAAI,GAAG,GAAlB,CAAb;AAAA,SATf;AAUE,QAAA,QAAQ,EAAE,kBAACxG,KAAD;AAAA,iBAAW,MAAI,CAACgD,QAAL,CAAc;AAAEoT,YAAAA,OAAO,EAAEpW;AAAX,WAAd,CAAX;AAAA,SAVZ;AAWE,QAAA,aAAa,EAAE,KAAK0W,QAXtB;AAYE,QAAA,UAAU,EAAE;AACVvV,UAAAA,eAAe,EAAE,SADP;AAEVG,UAAAA,YAAY,EAAE;AAFJ;AAZd,SAgBMZ,IAhBN,EADF,CAPF,CADF;AA8BD;;;;EAnFgCxD;;gBAA7BgZ,mCACe;AACjB;AACAjC,EAAAA,WAAW,EAAE9W,6BAAS,CAACyB,KAAV,CAAgB,EAAhB,EAAoBuD,UAFhB;AAGjB+B,EAAAA,GAAG,EAAE/G,6BAAS,CAAC6E,MAHE;AAIjBqB,EAAAA,GAAG,EAAElG,6BAAS,CAAC6E,MAJE;AAKjBoB,EAAAA,IAAI,EAAEjG,6BAAS,CAAC6E,MALC;AAMjB;AACA;AACAmU,EAAAA,eAAe,EAAEhZ,6BAAS,CAACiF,IAAV,CAAeD;AARf;;gBADf+T,sCAYkB;AACpBhS,EAAAA,GAAG,EAAE,CADe;AAEpBb,EAAAA,GAAG,EAAE,CAFe;AAGpBD,EAAAA,IAAI,EAAE;AAHc;;;;;;;;;;;;ICTlBuT;;;;;;;;;;;;;;;;4DAqCI;AACNpB,MAAAA,eAAe,EAAE,KADX;AAENC,MAAAA,eAAe,EAAE;AAFX;;gFAaoB,UAACN,CAAD,EAAO;AAAA,wBACiB,MAAKvY,KADtB;AAAA,UACzB8F,UADyB,eACzBA,UADyB;AAAA,UACbiT,yBADa,eACbA,yBADa;;AAGjC,UAAIjT,UAAJ,EAAgB;AACd,cAAKO,QAAL,CAAc;AACZuS,UAAAA,eAAe,EAAE,KADL;AAEZC,UAAAA,eAAe,EAAEN;AAFL,SAAd;;AAKAQ,QAAAA,yBAAyB,CAACR,CAAD,CAAzB;AACD;AACF;;mEAEc,UAACF,WAAD,EAAcoB,OAAd,EAAuB3T,UAAvB,EAAsC;AACnD,UAAIuS,WAAJ,EAAiB,OAAOA,WAAP;AAEjB,UAAI,CAACvS,UAAL,EAAiB,OAAO,oBAAP;AAEjB,+BAAkB,OAAO2T,OAAP,KAAmB,WAAnB,cAAqCI,IAAI,CAACC,KAAL,CAAWL,OAAO,GAAG,GAArB,CAArC,UAAqE,EAAvF;AACD;;;;;;;8CA3ByBzB,WAAW;AAAA,UAC3BtB,SAD2B,GACbsB,SADa,CAC3BtB,SAD2B;;AAGnC,UAAIA,SAAJ,EAAe;AACb,aAAKqC,yBAAL,CAA+B,KAA/B;AACD;AACF;;;6BAuBQ;AAAA;;AAAA,yBAgBH,KAAK/Y,KAhBF;AAAA,UAELmX,MAFK,gBAELA,MAFK;AAAA,UAGLrR,UAHK,gBAGLA,UAHK;AAAA,UAILwR,WAJK,gBAILA,WAJK;AAAA,UAKLW,aALK,gBAKLA,aALK;AAAA,UAMLC,IANK,gBAMLA,IANK;AAAA,UAOLhY,SAPK,gBAOLA,SAPK;AAAA,UAQL+Z,YARK,gBAQLA,YARK;AAAA,UASL7B,YATK,gBASLA,YATK;AAAA,UAUL8B,aAVK,gBAULA,aAVK;AAAA,UAWL/B,UAXK,gBAWLA,UAXK;AAAA,UAYLE,WAZK,gBAYLA,WAZK;AAAA,uBAaL3B,SAbK;AAAA,cAcL8C,eAdK,gBAcLA,eAdK;AAAA,UAeFzV,IAfE;;AAAA,wBAkBsC,KAAKiC,KAlB3C;AAAA,UAkBC6S,eAlBD,eAkBCA,eAlBD;AAAA,UAkBkBD,eAlBlB,eAkBkBA,eAlBlB;AAAA,UAmBCa,OAnBD,GAmBanC,WAnBb,CAmBCmC,OAnBD;AAoBP,UAAIU,SAAS,GAAGrU,UAAU,GAAGsS,YAAH,GAAkB8B,aAA5C;;AACA,UAAIpU,UAAU,KAAK8S,eAAe,IAAIC,eAAxB,CAAd,EAAwD;AACtDsB,QAAAA,SAAS,GAAGhC,UAAZ;AACD;;AACD,UAAIrS,UAAU,IAAI2T,OAAO,GAAG,CAA5B,EAA+BU,SAAS,GAAGF,YAAZ;AAE/B,0BACE3Z,wCAAC,OAAD;AACE,QAAA,OAAO,EACLwF,UAAU,iBACRxF,wCAAC,oBAAD;AACE,UAAA,MAAM,EAAE6W,MADV;AAEE,UAAA,WAAW,EAAEG,WAFf;AAGE,UAAA,eAAe,EAAEkC;AAHnB,WAIMzV,IAJN,EAHN;AAWE,QAAA,OAAO,EAAE+B,UAAU,IAAI+S,eAXzB;AAYE,QAAA,gBAAgB,yBAAkBxY,8BAAU,CAAC;AAAE,sBAAYyF;AAAd,SAAD,CAA5B,cACd5F,SAAS,IAAI,EADC,CAZlB;AAeE,QAAA,SAAS,EAAC,KAfZ;AAgBE,QAAA,OAAO,EAAE,CAAC,OAAD,CAhBX;AAiBE,QAAA,eAAe,EAAE,KAAK6Y,yBAjBxB;AAkBE,QAAA,oBAAoB;AAlBtB,sBAoBEzY,wCAAC,OAAD;AACE,QAAA,OAAO,EAAEsY,eAAe,IAAI,CAACC,eAD/B;AAEE,QAAA,OAAO,EAAE,KAAKuB,YAAL,CAAkB/B,WAAlB,EAA+BoB,OAA/B,EAAwC3T,UAAxC,CAFX;AAGE,QAAA,gBAAgB,EAAC,uBAHnB;AAIE,QAAA,SAAS,EAAC,KAJZ;AAKE,QAAA,OAAO,EAAEmS,aAAa,GAAG,EAAH,GAAQ,OALhC;AAME,QAAA,eAAe,EAAE,yBAACM,CAAD;AAAA,iBAAO,MAAI,CAAClS,QAAL,CAAc;AAAEuS,YAAAA,eAAe,EAAEL;AAAnB,WAAd,CAAP;AAAA,SANnB;AAOE,QAAA,oBAAoB,MAPtB;AAQE,QAAA,KAAK,EAAE8B,MAAM,CAACC;AARhB,sBAUEha;AACE,QAAA,IAAI,EAAC,QADP;AAGE,sBAAW,gBAHb;AAAA,uFAEwCD,8BAAU,CAAC;AAAE,uBAAa,CAACyF;AAAhB,SAAD,CAFlD;AAAA,sBAKExF,wCAAC,IAAD;AAAM,QAAA,IAAI,EAAE4X,IAAI,IAAI,cAApB;AAAoC,QAAA,SAAS,EAAC,QAA9C;AAAuD,QAAA,KAAK,EAAEiC;AAA9D,QALF,CAVF,CApBF,CADF;AAyCD;;;;EA1ImC5Z;;gBAAhCyZ,sCACe;AACjB7C,EAAAA,MAAM,EAAE3W,6BAAS,CAACmX,OAAV,CAAkBnX,6BAAS,CAACyB,KAAV,CAAgB,EAAhB,CAAlB,CADS;AAEjBqV,EAAAA,WAAW,EAAE9W,6BAAS,CAACyB,KAAV,CAAgB,EAAhB,CAFI;AAGjB6D,EAAAA,UAAU,EAAEtF,6BAAS,CAAC8E,IAHL;AAIjB2S,EAAAA,aAAa,EAAEzX,6BAAS,CAAC8E,IAJR;AAKjB4S,EAAAA,IAAI,EAAE1X,6BAAS,CAACC,MALC;AAMjBP,EAAAA,SAAS,EAAEM,6BAAS,CAACC,MANJ;AAOjB0X,EAAAA,UAAU,EAAE3X,6BAAS,CAACyB,KAAV,CAAgB,EAAhB,CAPK;AAQjBmW,EAAAA,YAAY,EAAE5X,6BAAS,CAACyB,KAAV,CAAgB,EAAhB,CARG;AASjBgY,EAAAA,YAAY,EAAEzZ,6BAAS,CAACyB,KAAV,CAAgB,EAAhB,CATG;AAUjBiY,EAAAA,aAAa,EAAE1Z,6BAAS,CAACyB,KAAV,CAAgB,EAAhB,CAVE;AAWjBoW,EAAAA,WAAW,EAAE7X,6BAAS,CAACC,MAXN;AAYjBiW,EAAAA,SAAS,EAAElW,6BAAS,CAAC8E,IAZJ;AAcjBkU,EAAAA,eAAe,EAAEhZ,6BAAS,CAACiF,IAdV;AAejBsT,EAAAA,yBAAyB,EAAEvY,6BAAS,CAACiF;AAfpB;;gBADfuU,yCAmBkB;AACpB7C,EAAAA,MAAM,EAAE,EADY;AAEpBG,EAAAA,WAAW,EAAE,EAFO;AAGpBxR,EAAAA,UAAU,EAAE,IAHQ;AAIpBoS,EAAAA,IAAI,EAAE,EAJc;AAKpBhY,EAAAA,SAAS,EAAE,EALS;AAMpBiY,EAAAA,UAAU,EAAE,EANQ;AAOpBC,EAAAA,YAAY,EAAE,EAPM;AAQpB6B,EAAAA,YAAY,EAAE,EARM;AASpBC,EAAAA,aAAa,EAAE,EATK;AAUpBjC,EAAAA,aAAa,EAAE,KAVK;AAWpBI,EAAAA,WAAW,EAAE,EAXO;AAYpB3B,EAAAA,SAAS,EAAE,KAZS;AAcpB8C,EAAAA,eAAe,EAAE,2BAAM,EAdH;AAepBT,EAAAA,yBAAyB,EAAE,qCAAM;AAfb,OCrBlBwB;;;;;;;;;;;;;;;;4DA4BI;AACNxC,MAAAA,OAAO,EAAE;AADH;;;;;;;8CAIkBC,WAAW;AAAA,UAC3BtB,SAD2B,GACbsB,SADa,CAC3BtB,SAD2B;;AAGnC,UAAIA,SAAJ,EAAe;AACb,aAAKrQ,QAAL,CAAc;AAAE0R,UAAAA,OAAO,EAAE;AAAX,SAAd;AACD;AACF;;;6BAEQ;AAAA;;AAAA,wBAUH,KAAK/X,KAVF;AAAA,UAELsX,WAFK,eAELA,WAFK;AAAA,UAGLxR,UAHK,eAGLA,UAHK;AAAA,UAILmS,aAJK,eAILA,aAJK;AAAA,UAKLuC,QALK,eAKLA,QALK;AAAA,UAMLC,QANK,eAMLA,QANK;AAAA,UAOLtC,UAPK,eAOLA,UAPK;AAAA,UAQLC,YARK,eAQLA,YARK;AAAA,UASLC,WATK,eASLA,WATK;AAAA,UAWCN,OAXD,GAWa,KAAK/R,KAXlB,CAWC+R,OAXD;AAaP,UAAM2C,QAAQ,GAAGF,QAAQ,IAAI,WAA7B;AACA,UAAMG,QAAQ,GAAGF,QAAQ,IAAI,WAA7B;AACA,UAAMG,UAAU,GAAG9U,UAAU,GAAG6U,QAAH,GAAcD,QAA3C;AAEA,0BACEpa,wCAAC,OAAD;AACE,QAAA,OAAO,EAAE+X,WAAW,KAAKvS,UAAU,GAAG,YAAH,GAAkB,YAAjC,CADtB;AAEE,QAAA,gBAAgB,EAAC,uBAFnB;AAGE,QAAA,SAAS,EAAC,KAHZ;AAIE,QAAA,OAAO,EAAEmS,aAAa,GAAG,EAAH,GAAQ,OAJhC;AAKE,QAAA,eAAe,EAAE,CALnB;AAME,QAAA,oBAAoB,MANtB;AAOE,QAAA,eAAe,EAAE,yBAACM,CAAD;AAAA,iBAAO,MAAI,CAAClS,QAAL,CAAc;AAAE0R,YAAAA,OAAO,EAAEQ;AAAX,WAAd,CAAP;AAAA,SAPnB;AAQE,QAAA,OAAO,EAAER;AARX,sBAUEzX;AACE,QAAA,IAAI,EAAC,QADP;AAEE,QAAA,SAAS,EAAC,gDAFZ;AAGE,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACN,KAAL,CAAW6a,kBAAX,CAA8BvD,WAA9B,EAA2C,CAACxR,UAA5C,CAAN;AAAA,SAHX;AAIE,sBAAW;AAJb,sBAMExF,wCAAC,IAAD;AAAM,QAAA,IAAI,EAAEsa,UAAZ;AAAwB,QAAA,SAAS,EAAC,QAAlC;AAA2C,QAAA,KAAK,EAAE7C,OAAO,GAAGI,UAAH,GAAgBC;AAAzE,QANF,CAVF,CADF;AAqBD;;;;EA9EsC7X;;gBAAnCga,yCACe;AACjBjD,EAAAA,WAAW,EAAE9W,6BAAS,CAACE,MADN;AAEjBoF,EAAAA,UAAU,EAAEtF,6BAAS,CAAC8E,IAFL;AAGjBuV,EAAAA,kBAAkB,EAAEra,6BAAS,CAACiF,IAHb;AAIjB+U,EAAAA,QAAQ,EAAEha,6BAAS,CAACC,MAJH;AAKjBga,EAAAA,QAAQ,EAAEja,6BAAS,CAACC,MALH;AAMjB0X,EAAAA,UAAU,EAAE3X,6BAAS,CAACE,MANL;AAOjB0X,EAAAA,YAAY,EAAE5X,6BAAS,CAACE,MAPP;AAQjBuX,EAAAA,aAAa,EAAEzX,6BAAS,CAAC8E,IARR;AASjB+S,EAAAA,WAAW,EAAE7X,6BAAS,CAACC,MATN;AAUjBiW,EAAAA,SAAS,EAAElW,6BAAS,CAAC8E;AAVJ;;gBADfiV,4CAckB;AACpBjD,EAAAA,WAAW,EAAE,EADO;AAEpBxR,EAAAA,UAAU,EAAE,IAFQ;AAGpB0U,EAAAA,QAAQ,EAAE,EAHU;AAIpBC,EAAAA,QAAQ,EAAE,EAJU;AAKpBtC,EAAAA,UAAU,EAAE,EALQ;AAMpBC,EAAAA,YAAY,EAAE,EANM;AAOpBH,EAAAA,aAAa,EAAE,KAPK;AAQpBI,EAAAA,WAAW,EAAE,EARO;AASpB3B,EAAAA,SAAS,EAAE,KATS;AAWpBmE,EAAAA,kBAAkB,EAAE,8BAAM;AAXN,OCdlBC;;;;;;;;;;;;;;;;4DA0BI;AACN/C,MAAAA,OAAO,EAAE;AADH;;;;;;;8CAIkBC,WAAW;AAAA,UAC3BtB,SAD2B,GACbsB,SADa,CAC3BtB,SAD2B;;AAGnC,UAAIA,SAAJ,EAAe;AACb,aAAKrQ,QAAL,CAAc;AAAE0R,UAAAA,OAAO,EAAE;AAAX,SAAd;AACD;AACF;;;6BAEQ;AAAA;;AAAA,wBAC6E,KAAK/X,KADlF;AAAA,UACCsX,WADD,eACCA,WADD;AAAA,UACcW,aADd,eACcA,aADd;AAAA,UAC6BC,IAD7B,eAC6BA,IAD7B;AAAA,UACmCC,UADnC,eACmCA,UADnC;AAAA,UAC+CC,YAD/C,eAC+CA,YAD/C;AAAA,UAC6DC,WAD7D,eAC6DA,WAD7D;AAAA,UAECN,OAFD,GAEa,KAAK/R,KAFlB,CAEC+R,OAFD;AAIP,0BACEzX,wCAAC,OAAD;AACE,QAAA,OAAO,EAAE+X,WAAW,IAAI,YAD1B;AAEE,QAAA,gBAAgB,EAAC,uBAFnB;AAGE,QAAA,SAAS,EAAC,KAHZ;AAIE,QAAA,OAAO,EAAEJ,aAAa,GAAG,EAAH,GAAQ,OAJhC;AAKE,QAAA,eAAe,EAAE,CALnB;AAME,QAAA,oBAAoB,MANtB;AAOE,QAAA,eAAe,EAAE,yBAACM,CAAD;AAAA,iBAAO,MAAI,CAAClS,QAAL,CAAc;AAAE0R,YAAAA,OAAO,EAAEQ;AAAX,WAAd,CAAP;AAAA,SAPnB;AAQE,QAAA,OAAO,EAAER;AARX,sBAUEzX;AACE,QAAA,IAAI,EAAC,QADP;AAEE,QAAA,SAAS,EAAC,6BAFZ;AAGE,sBAAW,kBAHb;AAIE,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACN,KAAL,CAAW+a,YAAX,CAAwBzD,WAAxB,CAAN;AAAA;AAJX,sBAMEhX,wCAAC,IAAD;AACE,QAAA,IAAI,EAAE4X,IAAI,IAAI,WADhB;AAEE,QAAA,SAAS,EAAC,QAFZ;AAGE,QAAA,KAAK,EAAEH,OAAO,GAAGI,UAAH,GAAgBC;AAHhC,QANF,CAVF,CADF;AAyBD;;;;EAnEgC7X;;gBAA7Bua,mCACe;AACjBxD,EAAAA,WAAW,EAAE9W,6BAAS,CAACE,MADN;AAEjBwX,EAAAA,IAAI,EAAE1X,6BAAS,CAACC,MAFC;AAGjB0X,EAAAA,UAAU,EAAE3X,6BAAS,CAACE,MAHL;AAIjB0X,EAAAA,YAAY,EAAE5X,6BAAS,CAACE,MAJP;AAKjBuX,EAAAA,aAAa,EAAEzX,6BAAS,CAAC8E,IALR;AAMjB+S,EAAAA,WAAW,EAAE7X,6BAAS,CAACC,MANN;AAOjBiW,EAAAA,SAAS,EAAElW,6BAAS,CAAC8E,IAPJ;AASjB;AACAyV,EAAAA,YAAY,EAAEva,6BAAS,CAACiF;AAVP;;gBADfqV,sCAckB;AACpBxD,EAAAA,WAAW,EAAE,EADO;AAEpBY,EAAAA,IAAI,EAAE,EAFc;AAGpBC,EAAAA,UAAU,EAAE,EAHQ;AAIpBC,EAAAA,YAAY,EAAE,EAJM;AAKpBH,EAAAA,aAAa,EAAE,KALK;AAMpBI,EAAAA,WAAW,EAAE,EANO;AAOpB3B,EAAAA,SAAS,EAAE,KAPS;AASpBqE,EAAAA,YAAY,EAAE,wBAAM;AATA,OCdlBC;;;;;;;;;;;;;;;;4DA2BI;AACNjD,MAAAA,OAAO,EAAE;AADH;;;;;;;8CAIkBC,WAAW;AAAA,UAC3BtB,SAD2B,GACbsB,SADa,CAC3BtB,SAD2B;;AAGnC,UAAIA,SAAJ,EAAe;AACb,aAAKrQ,QAAL,CAAc;AAAE0R,UAAAA,OAAO,EAAE;AAAX,SAAd;AACD;AACF;;;6BAEQ;AAAA;;AAAA,wBAC6E,KAAK/X,KADlF;AAAA,UACCsX,WADD,eACCA,WADD;AAAA,UACcW,aADd,eACcA,aADd;AAAA,UAC6BC,IAD7B,eAC6BA,IAD7B;AAAA,UACmCC,UADnC,eACmCA,UADnC;AAAA,UAC+CC,YAD/C,eAC+CA,YAD/C;AAAA,UAC6DC,WAD7D,eAC6DA,WAD7D;AAAA,UAECN,OAFD,GAEa,KAAK/R,KAFlB,CAEC+R,OAFD;AAIP,0BACEzX,wCAAC,OAAD;AACE,QAAA,OAAO,EAAE+X,WAAW,IAAI,cAD1B;AAEE,QAAA,gBAAgB,EAAC,uBAFnB;AAGE,QAAA,SAAS,EAAC,KAHZ;AAIE,QAAA,OAAO,EAAEJ,aAAa,GAAG,EAAH,GAAQ,OAJhC;AAKE,QAAA,eAAe,EAAE,CALnB;AAME,QAAA,oBAAoB,MANtB;AAOE,QAAA,eAAe,EAAE,yBAACM,CAAD;AAAA,iBAAO,MAAI,CAAClS,QAAL,CAAc;AAAE0R,YAAAA,OAAO,EAAEQ;AAAX,WAAd,CAAP;AAAA,SAPnB;AAQE,QAAA,OAAO,EAAER;AARX,sBAUEzX;AACE,QAAA,IAAI,EAAC,QADP;AAEE,QAAA,SAAS,EAAC,+CAFZ;AAGE,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACN,KAAL,CAAWib,aAAX,CAAyB3D,WAAzB,CAAN;AAAA,SAHX;AAIE,sBAAW;AAJb,sBAMEhX,wCAAC,IAAD;AACE,QAAA,IAAI,EAAE4X,IAAI,IAAI,YADhB;AAEE,QAAA,SAAS,EAAC,QAFZ;AAGE,QAAA,KAAK,EAAEH,OAAO,GAAGI,UAAH,GAAgBC;AAHhC,QANF,CAVF,CADF;AAyBD;;;;EApEkC7X;;gBAA/Bya,qCACe;AACjB1D,EAAAA,WAAW,EAAE9W,6BAAS,CAACE,MADN;AAEjBwX,EAAAA,IAAI,EAAE1X,6BAAS,CAACC,MAFC;AAGjB0X,EAAAA,UAAU,EAAE3X,6BAAS,CAACE,MAHL;AAIjB0X,EAAAA,YAAY,EAAE5X,6BAAS,CAACE,MAJP;AAKjBuX,EAAAA,aAAa,EAAEzX,6BAAS,CAAC8E,IALR;AAMjB+S,EAAAA,WAAW,EAAE7X,6BAAS,CAACC,MANN;AAOjBiW,EAAAA,SAAS,EAAElW,6BAAS,CAAC8E,IAPJ;AASjB;AACA2V,EAAAA,aAAa,EAAEza,6BAAS,CAACiF;AAVR;;gBADfuV,wCAckB;AACpB1D,EAAAA,WAAW,EAAE,EADO;AAEpBY,EAAAA,IAAI,EAAE,EAFc;AAGpBC,EAAAA,UAAU,EAAE,EAHQ;AAIpBC,EAAAA,YAAY,EAAE,EAJM;AAKpBH,EAAAA,aAAa,EAAE,KALK;AAMpBI,EAAAA,WAAW,EAAE,EANO;AAOpB3B,EAAAA,SAAS,EAAE,KAPS;AASpB;AACAuE,EAAAA,aAAa,EAAE,yBAAM;AAVD,OCVlBC;;;;;;;;;;;;;;;;4DA2CI;AACNjD,MAAAA,aAAa,EAAE;AADT;;gFAIoB,UAACA,aAAD,EAAmB;AAC7C,YAAK5R,QAAL,CAAc;AAAE4R,QAAAA,aAAa,EAAbA;AAAF,OAAd;AACD;;;;;;;6BAEQ;AAAA,wBACuB,KAAKjY,KAD5B;AAAA,UACCiB,QADD,eACCA,QADD;AAAA,UACc8C,IADd;;AAAA,UAECkU,aAFD,GAEmB,KAAKjS,KAFxB,CAECiS,aAFD;;AAGP,UAAMjY,KAAK,qCACN+D,IADM;AAETkU,QAAAA,aAAa,EAAbA,aAFS;AAGTc,QAAAA,yBAAyB,EAAE,KAAKA;AAHvB,QAAX;;AAMA,0BACEzY;AAAK,QAAA,SAAS,EAAC;AAAf,SACG,CAAC,CAACA,yBAAK,CAACsL,QAAN,CAAeuP,KAAf,CAAqBla,QAArB,CAAF,IACCX,yBAAK,CAACsL,QAAN,CAAenJ,GAAf,CAAmBxB,QAAnB,EAA6B,UAAC4K,KAAD;AAAA,4BAC3BvL,yBAAK,CAACuC,cAAN,CAAqBgJ,KAArB,KAA+B,OAAOA,KAAK,CAACC,IAAb,KAAsB,QAArD,gBACIxL,yBAAK,CAACyL,YAAN,CAAmBF,KAAnB,qBAA+B7L,KAA/B,EADJ,GAEI6L,KAHuB;AAAA,OAA7B,CAFJ,EASG,CAACvL,yBAAK,CAACsL,QAAN,CAAeuP,KAAf,CAAqBla,QAArB,CAAD,iBAAmCX,wCAAC,oBAAD,EAA0BN,KAA1B,CATtC,EAUG,CAACM,yBAAK,CAACsL,QAAN,CAAeuP,KAAf,CAAqBla,QAArB,CAAD,iBAAmCX,wCAAC,sBAAD,EAA4BN,KAA5B,CAVtC,EAWG,CAACM,yBAAK,CAACsL,QAAN,CAAeuP,KAAf,CAAqBla,QAArB,CAAD,iBAAmCX,wCAAC,uBAAD,EAA6BN,KAA7B,CAXtC,EAYG,CAACM,yBAAK,CAACsL,QAAN,CAAeuP,KAAf,CAAqBla,QAArB,CAAD,iBAAmCX,wCAAC,0BAAD,EAAgCN,KAAhC,CAZtC,EAaG,CAACM,yBAAK,CAACsL,QAAN,CAAeuP,KAAf,CAAqBla,QAArB,CAAD,iBAAmCX,wCAAC,oBAAD,EAA0BN,KAA1B,CAbtC,EAcG,CAACM,yBAAK,CAACsL,QAAN,CAAeuP,KAAf,CAAqBla,QAArB,CAAD,iBAAmCX,wCAAC,sBAAD,EAA4BN,KAA5B,CAdtC,CADF;AAkBD;;;;EA9E6BO;;gBAA1B2a,gCACe;AACjB;AACAja,EAAAA,QAAQ,EAAET,6BAAS,CAACW,IAFH;AAGjB8Y,EAAAA,YAAY,EAAEzZ,6BAAS,CAACE,MAHP;AAIjB0X,EAAAA,YAAY,EAAE5X,6BAAS,CAACE,MAJP;AAKjBwZ,EAAAA,aAAa,EAAE1Z,6BAAS,CAACE,MALR;AAMjByX,EAAAA,UAAU,EAAE3X,6BAAS,CAACE,MANL;AAQjB;AACA8X,EAAAA,YAAY,EAAEhY,6BAAS,CAACiF,IATP;AAUjBiT,EAAAA,aAAa,EAAElY,6BAAS,CAACiF,IAVR;AAWjB+T,EAAAA,eAAe,EAAEhZ,6BAAS,CAACiF,IAXV;AAYjBoV,EAAAA,kBAAkB,EAAEra,6BAAS,CAACiF,IAZb;AAajBwV,EAAAA,aAAa,EAAEza,6BAAS,CAACiF,IAbR;AAcjBsV,EAAAA,YAAY,EAAEva,6BAAS,CAACiF;AAdP;;gBADfyV,mCAkBkB;AACpB;AACAja,EAAAA,QAAQ,EAAE,EAFU;AAGpBmX,EAAAA,YAAY,EAAE;AACZ7W,IAAAA,IAAI,EAAE;AADM,GAHM;AAMpB0Y,EAAAA,YAAY,EAAE;AACZ1Y,IAAAA,IAAI,EAAE;AADM,GANM;AASpB2Y,EAAAA,aAAa,EAAE;AACb3Y,IAAAA,IAAI,EAAE;AADO,GATK;AAYpB4W,EAAAA,UAAU,EAAE;AACV5W,IAAAA,IAAI,EAAE;AADI,GAZQ;AAgBpB;AACAiX,EAAAA,YAAY,EAAE,sBAAChB,CAAD;AAAA,WAAO4D,OAAO,CAACC,IAAR,CAAa7D,CAAb,CAAP;AAAA,GAjBM;AAkBpBuD,EAAAA,YAAY,EAAE,sBAACvD,CAAD;AAAA,WAAO4D,OAAO,CAACC,IAAR,CAAa7D,CAAb,CAAP;AAAA,GAlBM;AAmBpBkB,EAAAA,aAAa,EAAE,uBAAClB,CAAD;AAAA,WAAO4D,OAAO,CAACC,IAAR,CAAa7D,CAAb,CAAP;AAAA,GAnBK;AAoBpBqD,EAAAA,kBAAkB,EAAE,4BAACrD,CAAD,EAAIe,CAAJ;AAAA,WAAU6C,OAAO,CAACC,IAAR,CAAa7D,CAAb,EAAgBe,CAAhB,CAAV;AAAA,GApBA;AAqBpBiB,EAAAA,eAAe,EAAE,yBAAChC,CAAD,EAAI8D,CAAJ;AAAA,WAAUF,OAAO,CAACC,IAAR,CAAa7D,CAAb,EAAgB8D,CAAhB,CAAV;AAAA,GArBG;AAsBpBL,EAAAA,aAAa,EAAE,uBAACzD,CAAD;AAAA,WAAO4D,OAAO,CAACC,IAAR,CAAa7D,CAAb,CAAP;AAAA;AAtBK,GC5BxB;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;;AACO,IAAM+D,YAAY,GAAG,SAAfA,YAAe,CAACC,WAAD,EAA8B;AAAA,MAAhBC,MAAgB,uEAAP,EAAO;AACxD,MAAIC,GAAG,GAAGF,WAAV;AACAhZ,EAAAA,MAAM,CAACD,IAAP,CAAYkZ,MAAZ,EAAoBpK,OAApB,CAA4B,UAAC3O,GAAD,EAAS;AACnCgZ,IAAAA,GAAG,GAAGA,GAAG,CACNC,OADG,CACK,IAAIC,MAAJ,aAAgBlZ,GAAhB,SAAyB,GAAzB,CADL,EACoC+Y,MAAM,CAAC/Y,GAAD,CAD1C,EAEHiZ,OAFG,CAEK,IAAIC,MAAJ,YAAelZ,GAAf,QAAuB,GAAvB,CAFL,EAEkC+Y,MAAM,CAAC/Y,GAAD,CAFxC,CAAN;AAGD,GAJD;AAKA,SAAOgZ,GAAP;AACD,CARM;AAUP;AACA;AACA;AACA;AACA;AACA;;AACO,IAAMG,aAAa,GAAG,SAAhBA,aAAgB,CAACL,WAAD,EAA8B;AAAA,MAAhBC,MAAgB,uEAAP,EAAO;AACzD,MAAIC,GAAG,GAAGF,WAAV;AACA,MAAIM,GAAJ;AAEAtZ,EAAAA,MAAM,CAACD,IAAP,CAAYkZ,MAAZ,EAAoBpK,OAApB,CAA4B,UAAC3O,GAAD,EAAS;AACnCoZ,IAAAA,GAAG,aAAMC,2BAAO,CACdvZ,MAAM,CAACD,IAAP,CAAYkZ,MAAM,CAAC/Y,GAAD,CAAlB,EAAyBD,GAAzB,CAA6B,UAACuZ,CAAD,EAAO;AAClC,UAAM3Y,KAAK,GAAGoY,MAAM,CAAC/Y,GAAD,CAAN,CAAYsZ,CAAZ,CAAd;;AAEA,UAAI5X,KAAK,CAACC,OAAN,CAAchB,KAAd,KAAwB,CAAC,CAACA,KAAK,CAACiB,MAApC,EAA4C;AAC1C;AACA;AACA,YAAM2X,WAAW,GAAG5Y,KAAK,CAACZ,GAAN,CAAU,UAAC8V,CAAD;AAAA,iBAAQ2D,MAAM,CAACC,KAAP,CAAa5D,CAAb,eAAsBA,CAAtB,SAA6BA,CAArC;AAAA,SAAV,CAApB,CAH0C;;AAK1C,yBAAUyD,CAAV,kBAAmBC,WAAW,CAAC/R,IAAZ,CAAiB,IAAjB,CAAnB;AACD;;AAED,UAAI7G,KAAJ,EAAW;AACT,eAAO6Y,MAAM,CAACC,KAAP,CAAa9Y,KAAb,cAAyB2Y,CAAzB,iBAAiC3Y,KAAjC,mBAA+C2Y,CAA/C,gBAAsD3Y,KAAtD,CAAP,CADS;AAEV;;AAED,aAAO,IAAP;AACD,KAhBD,CADc,CAAP,CAkBP6G,IAlBO,CAkBF,OAlBE,CAAN,CAAH;AAoBA,QAAI4R,GAAG,IAAIpZ,GAAG,CAAC0Z,UAAJ,CAAe,OAAf,CAAX,EAAoCN,GAAG,mBAAYA,GAAZ,CAAH,CAApC,KACK,IAAIA,GAAG,IAAIpZ,GAAG,CAAC0Z,UAAJ,CAAe,KAAf,CAAX,EAAkCN,GAAG,iBAAUA,GAAV,CAAH,CAAlC,KACAA,GAAG,GAAG,EAAN;AAELJ,IAAAA,GAAG,GAAGA,GAAG,CAACC,OAAJ,CAAY,IAAIC,MAAJ,aAAgBlZ,GAAhB,SAAyB,GAAzB,CAAZ,EAA2CoZ,GAA3C,CAAN;AACAJ,IAAAA,GAAG,GAAGA,GAAG,CAACC,OAAJ,CAAY,IAAIC,MAAJ,YAAelZ,GAAf,QAAuB,GAAvB,CAAZ,EAAyCoZ,GAAzC,CAAN;AACD,GA3BD;AA6BA,SAAOJ,GAAP;AACD,CAlCM;AAoCP;AACA;AACA;AACA;AACA;AACA;;AACO,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACH,WAAD,EAA8C;AAAA,MAAhCC,MAAgC,uEAAvB,EAAuB;AAAA,MAAnBY,SAAmB,uEAAP,EAAO;AACnE,MAAIX,GAAG,GAAGF,WAAV;;AAEA,MAAI,OAAOE,GAAP,KAAe,QAAnB,EAA6B;AAC3BA,IAAAA,GAAG,GAAGH,YAAY,CAACG,GAAD,EAAMD,MAAN,CAAlB;AACAC,IAAAA,GAAG,GAAGG,aAAa,CAACH,GAAD,EAAMW,SAAN,CAAnB;AACD;;AAED,SAAOX,GAAP;AACD,CATM;;;;;;;;;;;;;ICrEDY;;;;;;;;;;;;;;;;kEAiBU,UAACC,QAAD,EAAc;AAAA,wBACoB,MAAKvc,KADzB;AAAA,UAClBC,IADkB,eAClBA,IADkB;AAAA,UACZ0a,QADY,eACZA,QADY;AAAA,UACFhX,KADE,eACFA,KADE;AAAA,UACK6Y,IADL,eACKA,IADL;AAAA,UACWtE,IADX,eACWA,IADX;;AAG1B,UAAIyC,QAAJ,EAAc;AACZ,eAAO,IAAP;AACD;;AAED,UAAI4B,QAAQ,KAAK,UAAjB,EAA6B;AAC3B,4BACEjc;AAEE,UAAA,KAAK,EAAE;AACLmc,YAAAA,eAAe,EAAED,IAAI,GAAG,CADnB;AAELE,YAAAA,cAAc,EAAEF,IAAI,GAAG,CAFlB;AAGLG,YAAAA,gBAAgB,EAAEH,IAHb;AAILI,YAAAA,iBAAiB,EAAEjZ;AAJd,WAFT;AAAA,sEACqBuU,IADrB;AAAA,UADF;AAWD;;AAED,UAAIqE,QAAQ,KAAK,MAAjB,EAAyB;AACvB,4BAAOjc;AAAgC,UAAA,KAAK,EAAE;AAAEO,YAAAA,KAAK,EAAE2b,IAAT;AAAehY,YAAAA,eAAe,EAAEb;AAAhC,WAAvC;AAAA,sEAAwBuU,IAAxB;AAAA,UAAP;AACD;;AAED,UAAIqE,QAAQ,KAAK,QAAb,IAAyBA,QAAQ,KAAK,QAA1C,EAAoD;AAClD,4BACEjc;AAEE,UAAA,KAAK,EAAE;AAAEO,YAAAA,KAAK,EAAE2b,IAAT;AAAe1b,YAAAA,MAAM,EAAE0b,IAAvB;AAA6BhY,YAAAA,eAAe,EAAEb;AAA9C,WAFT;AAAA,sEACqBuU,IADrB;AAAA,UADF;AAMD;;AAED,0BACE5X;AAAK,QAAA,SAAS,EAAC;AAAf,sBACEA;AAAK,QAAA,GAAG,EAAE4X,IAAV;AAAgB,QAAA,GAAG,EAAEjY;AAArB,QADF,CADF;AAKD;;;;;;;6BAEQ;AAAA,yBACgB,KAAKD,KADrB;AAAA,UACCC,IADD,gBACCA,IADD;AAAA,UACOiY,IADP,gBACOA,IADP;AAGP,0BACE5X;AAAK,QAAA,SAAS,EAAC;AAAf,SACG,KAAKuc,WAAL,CAAiB3E,IAAjB,CADH,eAGE5X;AAAM,QAAA,SAAS,EAAC;AAAhB,SAAwBL,IAAxB,CAHF,CADF;AAOD;;;;EApEsBK,yBAAK,CAACC;;gBAAzB+b,yBACe;AACjBE,EAAAA,IAAI,EAAEhc,6BAAS,CAAC6E,MADC;AAEjB1B,EAAAA,KAAK,EAAEnD,6BAAS,CAACC,MAFA;AAGjBR,EAAAA,IAAI,EAAEO,6BAAS,CAACC,MAHC;AAIjByX,EAAAA,IAAI,EAAE1X,6BAAS,CAACC,MAJC;AAIO;AACxBka,EAAAA,QAAQ,EAAEna,6BAAS,CAAC8E;AALH;;gBADfgX,4BASkB;AACpBE,EAAAA,IAAI,EAAE,EADc;AAEpB7Y,EAAAA,KAAK,EAAE,aAFa;AAGpB1D,EAAAA,IAAI,EAAE,EAHc;AAIpBiY,EAAAA,IAAI,EAAE,QAJc;AAKpByC,EAAAA,QAAQ,EAAE;AALU;;;;;;;;;ICPXmC,eAAb;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,6BAWW;AAAA,wBACuB,KAAK9c,KAD5B;AAAA,UACCsX,WADD,eACCA,WADD;AAAA,UACcyF,IADd,eACcA,IADd;AAAA,UAECC,YAFD,GAEkB1F,WAFlB,CAEC0F,YAFD;;AAIP,UAAI,CAACA,YAAD,IAAiBA,YAAY,CAAClR,IAAb,KAAsB,OAA3C,EAAoD;AAClD,eAAO,IAAP;AACD;;AAED,0BACExL;AAAK,QAAA,SAAS,EAAC;AAAf,sBACEA;AAAA,qDAAeyc,IAAf;AAAA,SACGC,YAAY,CAACC,KAAb,CAAmBxa,GAAnB,CAAuB,UAACya,IAAD;AAAA,4BACtB5c;AAAI,UAAA,GAAG,8BAAuB4c,IAAI,CAACjd,IAA5B;AAAP,wBACEK,wCAAC,UAAD,EAAgB4c,IAAhB,CADF,EAGG,CAAC,CAACA,IAAI,CAACD,KAAP,IAAgBC,IAAI,CAACD,KAAL,CAAW3Y,MAA3B,iBACChE;AAAI,UAAA,SAAS,EAAC;AAAd,WACG4c,IAAI,CAACD,KAAL,CAAWxa,GAAX,CAAe,UAAC0a,EAAD;AAAA,8BACd7c;AAAI,YAAA,GAAG,8BAAuB6c,EAAE,CAACld,IAA1B;AAAP,0BACEK,wCAAC,UAAD;AAAY,YAAA,KAAK,EAAE;AAAE8c,cAAAA,YAAY,EAAE;AAAhB;AAAnB,aAA4CD,EAA5C,EADF,CADc;AAAA,SAAf,CADH,CAJJ,CADsB;AAAA,OAAvB,CADH,CADF,CADF;AAqBD;AAxCH;;AAAA;AAAA,EAAqC7c,yBAAK,CAACC,aAA3C;;gBAAauc,8BACQ;AACjBxF,EAAAA,WAAW,EAAE9W,6BAAS,CAACyB,KAAV,CAAgB,EAAhB,CADI;AAEjB8a,EAAAA,IAAI,EAAEvc,6BAAS,CAACwB,KAAV,CAAgB,CAAC,YAAD,EAAe,UAAf,EAA2B,SAA3B,CAAhB;AAFW;;gBADR8a,iCAMW;AACpBxF,EAAAA,WAAW,EAAE,EADO;AAEpByF,EAAAA,IAAI,EAAE;AAFc,OCRlBM;;;;;;;;;;;;;6BASK;AAAA,UACC/F,WADD,GACiB,KAAKtX,KADtB,CACCsX,WADD;AAAA,UAEC0F,YAFD,GAEkB1F,WAFlB,CAEC0F,YAFD;;AAIP,UAAI,CAACA,YAAD,IAAiBA,YAAY,CAAClR,IAAb,KAAsB,YAA3C,EAAyD;AACvD,eAAO,IAAP;AACD;;AAED,0BACExL;AAAK,QAAA,SAAS,EAAC;AAAf,sBACEA,oDACG0c,YAAY,CAACC,KAAb,CAAmBxa,GAAnB,CAAuB,gBAAY2G,CAAZ;AAAA,YAAGzF,KAAH,QAAGA,KAAH;AAAA,4BACtBrD;AACE,UAAA,GAAG,mCAA4BqD,KAA5B,cAAqCyF,CAArC,CADL;AAEE,UAAA,KAAK,EAAE;AAAEvI,YAAAA,KAAK,YAAK,MAAMmc,YAAY,CAACC,KAAb,CAAmB3Y,MAA9B;AAAP;AAFT,wBAIEhE;AAAK,UAAA,SAAS,EAAC,6BAAf;AAAiC,UAAA,KAAK,EAAE;AAAEkE,YAAAA,eAAe,EAAEb;AAAnB;AAAxC,UAJF,CADsB;AAAA,OAAvB,CADH,CADF,eAWErD,oDACG0c,YAAY,CAACC,KAAb,CACE1T,MADF,CACS,UAACH,CAAD;AAAA,eAAOA,CAAC,CAAC/F,KAAF,IAAW+F,CAAC,CAACnJ,IAApB;AAAA,OADT,EAEEwC,GAFF,CAEM,iBAAsC2G,CAAtC;AAAA,YAAGnJ,IAAH,SAAGA,IAAH;AAAA,YAASoD,KAAT,SAASA,KAAT;AAAA,YAAgBM,KAAhB,SAAgBA,KAAhB;AAAA,iCAAuB0W,MAAvB;AAAA,YAAuBA,MAAvB,6BAAgC,EAAhC;AAAA,4BACH/Z;AACE,UAAA,GAAG,mCAA4BqD,KAA5B,cAAqCyF,CAArC,CADL;AAEE,UAAA,KAAK,EAAE;AAAEvI,YAAAA,KAAK,YAAK,MAAMmc,YAAY,CAACC,KAAb,CAAmB3Y,MAA9B;AAAP;AAFT,wBAIEhE;AAAM,UAAA,SAAS,EAAC,kBAAhB;AAAuB,UAAA,KAAK,EAAE+Z;AAA9B,WACGpa,IAAI,IAAIoD,KADX,CAJF,CADG;AAAA,OAFN,CADH,CAXF,CADF;AA4BD;;;;EA7CgC/C,yBAAK,CAACC;;gBAAnC8c,mCACe;AACjB/F,EAAAA,WAAW,EAAE9W,6BAAS,CAACyB,KAAV,CAAgB,EAAhB;AADI;;gBADfob,sCAKkB;AACpB/F,EAAAA,WAAW,EAAE;AADO,OCLlBgG;;;;;;;;;;;;;6BAWK;AAAA,UACChG,WADD,GACiB,KAAKtX,KADtB,CACCsX,WADD;AAAA,UAEC0F,YAFD,GAEkB1F,WAFlB,CAEC0F,YAFD;;AAIP,UAAI,CAACA,YAAD,IAAiBA,YAAY,CAAClR,IAAb,KAAsB,UAA3C,EAAuD;AACrD,eAAO,IAAP;AACD;;AAED,UAAMmR,KAAK,GAAGD,YAAY,CAACC,KAAb,CAAmB1T,MAAnB,CAA0B,UAAC2T,IAAD;AAAA,eAAUA,IAAI,CAACvZ,KAAL,KAAe,aAAzB;AAAA,OAA1B,CAAd;AACA,UAAM4Z,eAAe,GAAGP,YAAY,CAACC,KAAb,CAAmB1F,IAAnB,CAAwB,UAAC2F,IAAD;AAAA,eAAUA,IAAI,CAACvZ,KAAL,KAAe,aAAzB;AAAA,OAAxB,CAAxB;AACA,UAAM0F,QAAQ,GAAG4T,KAAK,CAACxa,GAAN,CAAU,UAACya,IAAD;AAAA,eAAUA,IAAI,CAACvZ,KAAf;AAAA,OAAV,CAAjB;AAEA,0BACErD;AAAK,QAAA,SAAS,EAAC;AAAf,sBACEA;AAAK,QAAA,SAAS,EAAC;AAAf,SACGid,eAAe,iBACdjd;AACE,QAAA,KAAK,EAAE;AAAEO,UAAAA,KAAK,YAAM,IAAImc,YAAY,CAACC,KAAb,CAAmB3Y,MAAxB,GAAkC,GAAvC;AAAP,SADT;AAEE,QAAA,SAAS,EAAC;AAFZ,QAFJ,eAOEhE;AACE,QAAA,SAAS,EAAC,2BADZ;AAEE,QAAA,KAAK,EAAE;AACLO,UAAAA,KAAK,YAAMoc,KAAK,CAAC3Y,MAAN,GAAe0Y,YAAY,CAACC,KAAb,CAAmB3Y,MAAnC,GAA6C,GAAlD,MADA;AAELkZ,UAAAA,eAAe,sCAA+BnU,QAAQ,CAACa,IAAT,CAAc,GAAd,CAA/B;AAFV;AAFT,QAPF,CADF,eAgBE5J,oDACG0c,YAAY,CAACC,KAAb,CAAmBxa,GAAnB,CAAuB;AAAA,YAAGxC,IAAH,QAAGA,IAAH;AAAA,YAAS0D,KAAT,QAASA,KAAT;AAAA,YAAgBN,KAAhB,QAAgBA,KAAhB;AAAA,eACtBpD,IAAI,IAAIoD,KAAR,gBACE/C;AAAI,UAAA,GAAG,iCAA0BqD,KAA1B,cAAmCN,KAAnC,cAA4CpD,IAA5C;AAAP,wBACEK;AAAM,UAAA,SAAS,EAAC;AAAhB,WAAwBL,IAAI,IAAIoD,KAAhC,CADF,CADF,GAII,IALkB;AAAA,OAAvB,CADH,CAhBF,CADF;AA4BD;;;;EAnD8B9C;;gBAA3B+c,iCACe;AACjB;AACAhG,EAAAA,WAAW,EAAE9W,6BAAS,CAACyB,KAAV,CAAgB,EAAhB;AAFI;;gBADfqb,oCAMkB;AACpB;AACAhG,EAAAA,WAAW,EAAE;AAFO,OCNlBgG;;;;;;;;;;;;;6BAWK;AAAA,UACChG,WADD,GACiB,KAAKtX,KADtB,CACCsX,WADD;AAAA,UAEC0F,YAFD,GAEkB1F,WAFlB,CAEC0F,YAFD;;AAIP,UAAI,CAACA,YAAD,IAAiBA,YAAY,CAAClR,IAAb,KAAsB,cAA3C,EAA2D;AACzD,eAAO,IAAP;AACD;;AAED,0BACExL;AAAI,QAAA,SAAS,EAAC;AAAd,SACG0c,YAAY,CAACC,KAAb,CAAmBxa,GAAnB,CAAuB;AAAA,YAAGxC,IAAH,QAAGA,IAAH;AAAA,YAAS0D,KAAT,QAASA,KAAT;AAAA,YAAgB6Y,IAAhB,QAAgBA,IAAhB;AAAA,4BACtBlc;AAAI,UAAA,GAAG,qCAA8BL,IAA9B;AAAP,wBACEK;AACE,UAAA,SAAS,EAAC,+BADZ;AAEE,UAAA,KAAK,EAAE;AAAEkE,YAAAA,eAAe,EAAEb,KAAnB;AAA0B9C,YAAAA,KAAK,EAAE2b,IAAjC;AAAuC1b,YAAAA,MAAM,EAAE0b;AAA/C;AAFT,UADF,eAKElc;AAAM,UAAA,SAAS,EAAC;AAAhB,WAAwBL,IAAxB,CALF,CADsB;AAAA,OAAvB,CADH,CADF;AAaD;;;;EAhC8BM;;gBAA3B+c,mCACe;AACjB;AACAhG,EAAAA,WAAW,EAAE9W,6BAAS,CAACE;AAFN;;gBADf4c,sCAMkB;AACpB;AACAhG,EAAAA,WAAW,EAAE;AAFO,OCKlBmG;;;;;;;;;;;;;;;;4DAaI;AACNnG,MAAAA,WAAW,EAAE,EADP;AAENoG,MAAAA,OAAO,EAAE;AAFH;;kEAsCM,UAACzO,GAAD,EAAS;AAAA,UACbqI,WADa,GACG,MAAKtX,KADR,CACbsX,WADa;;AAAA,iBAEIA,WAAW,IAAI,EAFnB;AAAA,UAEb0F,YAFa,QAEbA,YAFa;;AAAA,kBAGCA,YAAY,IAAI,EAHjB;AAAA,UAGbW,SAHa,SAGbA,SAHa;;AAIrB,YAAKtX,QAAL,CAAc;AAAEqX,QAAAA,OAAO,EAAE;AAAX,OAAd;;AAEAE,MAAAA,KAAK,CAAC3O,GAAD,CAAL,CACG4O,IADH,CACQ,UAACC,QAAD,EAAc;AAClB,YAAIA,QAAQ,CAACC,EAAb,EAAiB,OAAOD,QAAQ,CAACE,IAAT,EAAP;AAClB,OAHH,EAIGH,IAJH,CAIQ,UAACC,QAAD,EAAc;AAClB,YAAMG,iBAAiB,GACrB,OAAON,SAAP,KAAqB,UAArB,GAAkCA,SAAS,CAACrG,WAAD,EAAcwG,QAAd,CAA3C,GAAqEA,QADvE;;AAEA,cAAKzX,QAAL,CAAc;AAAEiR,UAAAA,WAAW,EAAE2G,iBAAf;AAAkCP,UAAAA,OAAO,EAAE;AAA3C,SAAd;AACD,OARH,EASGQ,KATH,CASS,YAAM;AACX,cAAK7X,QAAL,CAAc;AAAEqX,UAAAA,OAAO,EAAE;AAAX,SAAd;AACD,OAXH;AAYD;;;;;;;wCAnDmB;AAAA,UACVpG,WADU,GACM,KAAKtX,KADX,CACVsX,WADU;;AAAA,kBAEOA,WAAW,IAAI,EAFtB;AAAA,UAEV0F,YAFU,SAEVA,YAFU;;AAAA,kBAGsBA,YAAY,IAAI,EAHtC;AAAA,+BAGVvB,MAHU;AAAA,UAGVA,MAHU,6BAGD,EAHC;AAAA,kCAGGY,SAHH;AAAA,UAGGA,SAHH,gCAGe,EAHf;;AAKlB,UAAM8B,YAAY,GAAGxC,OAAO,CAACyC,IAAI,CAACC,SAAL,CAAerB,YAAf,CAAD,EAA+BvB,MAA/B,EAAuCY,SAAvC,CAA5B;;AALkB,wBAMF+B,IAAI,CAACE,KAAL,CAAWH,YAAX,CANE;AAAA,UAMVlP,GANU,eAMVA,GANU;;AAQlB,UAAIA,GAAJ,EAAS;AACP,aAAKsP,WAAL,CAAiBtP,GAAjB;AACD;AACF;;;uCAEkBhH,WAAW;AAAA,UACPuW,eADO,GACavW,SADb,CACpBqP,WADoB;AAAA,UAENmH,gBAFM,GAEeD,eAFf,CAEpBxB,YAFoB;AAAA,kCAGuCyB,gBAHvC,CAGpBhD,MAHoB;AAAA,UAGZiD,UAHY,sCAGC,EAHD;AAAA,kCAGuCD,gBAHvC,CAGKpC,SAHL;AAAA,UAGgBsC,aAHhB,sCAGgC,EAHhC;AAAA,UAKPC,eALO,GAKa,KAAK5e,KALlB,CAKpBsX,WALoB;AAAA,UAMNuH,gBANM,GAMeD,eANf,CAMpB5B,YANoB;AAAA,kCAOuC6B,gBAPvC,CAOpBpD,MAPoB;AAAA,UAOZqD,UAPY,sCAOC,EAPD;AAAA,kCAOuCD,gBAPvC,CAOKxC,SAPL;AAAA,UAOgB0C,aAPhB,sCAOgC,EAPhC;;AAS5B,UAAI,CAACtS,2BAAO,CAACqS,UAAD,EAAaJ,UAAb,CAAR,IAAoC,CAACjS,2BAAO,CAACsS,aAAD,EAAgBJ,aAAhB,CAAhD,EAAgF;AAC9E,YAAMK,eAAe,GAAGrD,OAAO,CAACyC,IAAI,CAACC,SAAL,CAAeQ,gBAAf,CAAD,EAAmCC,UAAnC,EAA+CC,aAA/C,CAA/B;AACA,YAAMZ,YAAY,GAAGC,IAAI,CAACE,KAAL,CAAWU,eAAX,CAArB;;AAF8E,oBAG9Db,YAAY,IAAI,EAH8C;AAAA,YAGtElP,GAHsE,SAGtEA,GAHsE;;AAK9E,YAAIA,GAAJ,EAAS;AACP,eAAKsP,WAAL,CAAiBtP,GAAjB;AACD;AACF;AACF;;;6BAsBQ;AAAA;;AAAA,wBAC6C,KAAKjP,KADlD;AAAA,UACCiB,QADD,eACCA,QADD;AAAA,UACwBge,gBADxB,eACW3H,WADX;AAAA,wBAE4C,KAAKtR,KAFjD;AAAA,UAEC0X,OAFD,eAECA,OAFD;AAAA,UAEuBwB,gBAFvB,eAEU5H,WAFV;AAGP,UAAMA,WAAW,GAAG,CAAC6H,2BAAO,CAACD,gBAAD,CAAR,GAA6BA,gBAA7B,GAAgDD,gBAApE;;AAHO,kBAKkB3H,WAAW,IAAI,EALjC;AAAA,UAKC0F,YALD,SAKCA,YALD;;AAAA,kBAMSA,YAAY,IAAI,EANzB;AAAA,UAMC/N,GAND,SAMCA,GAND;;AAOP,UAAMmQ,YAAY,GAAG,CAACnQ,GAAD,IAASA,GAAG,IAAI,CAACkQ,2BAAO,CAACD,gBAAD,CAA7C;AAEA,0BACE5e;AAAK,QAAA,SAAS,EAAC;AAAf,SACG2O,GAAG,IAAIyO,OAAP,iBACCpd,wCAAC,OAAD;AACE,QAAA,QAAQ,EAAC,UADX;AAEE,QAAA,KAAK,EAAE;AACLe,UAAAA,GAAG,EAAE;AAAER,YAAAA,KAAK,EAAE,EAAT;AAAaC,YAAAA,MAAM,EAAE;AAArB;AADA;AAFT,QAFJ,EAUGse,YAAY,IACX,CAAC,CAAC9e,yBAAK,CAACsL,QAAN,CAAeuP,KAAf,CAAqBla,QAArB,CADH,IAECX,yBAAK,CAACsL,QAAN,CAAenJ,GAAf,CAAmBxB,QAAnB,EAA6B,UAAC4K,KAAD;AAAA,4BAC3BvL,yBAAK,CAACuC,cAAN,CAAqBgJ,KAArB,KAA+B,OAAOA,KAAK,CAACC,IAAb,KAAsB,QAArD,gBACIxL,yBAAK,CAACyL,YAAN,CAAmBF,KAAnB,qBAA+B,MAAI,CAAC7L,KAApC,EADJ,GAEI6L,KAHuB;AAAA,OAA7B,CAZJ,EAmBGuT,YAAY,IAAI,CAAC9e,yBAAK,CAACsL,QAAN,CAAeuP,KAAf,CAAqBla,QAArB,CAAjB,iBAAmDX,wCAAC+e,eAAD,EAAyB,KAAKrf,KAA9B,CAnBtD,EAoBGof,YAAY,IAAI,CAAC9e,yBAAK,CAACsL,QAAN,CAAeuP,KAAf,CAAqBla,QAArB,CAAjB,iBACCX,wCAACgf,oBAAD,EAA8B,KAAKtf,KAAnC,CArBJ,EAuBGof,YAAY,IAAI,CAAC9e,yBAAK,CAACsL,QAAN,CAAeuP,KAAf,CAAqBla,QAArB,CAAjB,iBACCX,wCAACif,kBAAD,EAA4B,KAAKvf,KAAjC,CAxBJ,EA0BGof,YAAY,IAAI,CAAC9e,yBAAK,CAACsL,QAAN,CAAeuP,KAAf,CAAqBla,QAArB,CAAjB,iBACCX,wCAACkf,oBAAD,EAAgC,KAAKxf,KAArC,CA3BJ,CADF;AAgCD;;;;EAhH2BO;;gBAAxBkd,8BACe;AACjB;AACAxc,EAAAA,QAAQ,EAAET,6BAAS,CAACW,IAFH;AAGjBmW,EAAAA,WAAW,EAAE9W,6BAAS,CAACE;AAHN;;gBADf+c,iCAOkB;AACpB;AACAxc,EAAAA,QAAQ,EAAE,EAFU;AAGpBqW,EAAAA,WAAW,EAAE;AAHO;;;;;;;;;;;ICXlBmI;;;;;AAiCJ,kBAAYzf,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;;AADiB,qEAWF,UAACsF,IAAD,EAAU;AACzB,YAAKe,QAAL,CAAc;AAAEqZ,QAAAA,QAAQ,EAAEpa;AAAZ,OAAd;AACD,KAbkB;;AAAA,gEAeP,gBAA4B;AAAA,UAAzBqa,QAAyB,QAAzBA,QAAyB;AAAA,UAAfC,QAAe,QAAfA,QAAe;AAAA,wBACF,MAAK5f,KADH;AAAA,UAC9B6f,aAD8B,eAC9BA,aAD8B;AAAA,UACf5e,QADe,eACfA,QADe;;AAEtC,UAAMkW,MAAM,sBAAOlW,QAAQ,CAACwB,GAAT,CAAa,UAACoK,CAAD;AAAA,eAAOA,CAAC,CAAC7M,KAAF,CAAQ6X,UAAR,CAAmBH,OAA1B;AAAA,OAAb,CAAP,CAAZ;;AACA,UAAMoI,cAAc,GAAGC,6BAAS,CAAC5I,MAAD,EAASwI,QAAT,EAAmBC,QAAnB,CAAhC;AAEAC,MAAAA,aAAa,CAACC,cAAD,CAAb;AACD,KArBkB;;AAAA,QAETJ,QAFS,GAEI1f,KAFJ,CAET0f,QAFS;AAGjB,UAAK1Z,KAAL,GAAa;AAAE0Z,MAAAA,QAAQ,EAARA;AAAF,KAAb;AAHiB;AAIlB;AAED;AACF;AACA;AACA;AACA;;;;;6BAaW;AAAA;;AAAA,yBACiE,KAAK1f,KADtE;AAAA,UACCqX,KADD,gBACCA,KADD;AAAA,UACQR,QADR,gBACQA,QADR;AAAA,UACkBmJ,WADlB,gBACkBA,WADlB;AAAA,UAC+B/T,QAD/B,gBAC+BA,QAD/B;AAAA,UACyCgU,SADzC,gBACyCA,SADzC;AAAA,UACoDhf,QADpD,gBACoDA,QADpD;AAAA,UAGCye,QAHD,GAGc,KAAK1Z,KAHnB,CAGC0Z,QAHD;;AAKP,UAAI,CAACze,QAAD,IAAa,CAACX,yBAAK,CAACsL,QAAN,CAAeuP,KAAf,CAAqBla,QAArB,CAAlB,EAAkD;AAChD,eAAO,IAAP;AACD;;AAED,0BACEX;AAAK,QAAA,SAAS,EAAC,0BAAf;AAA8B,QAAA,KAAK,EAAE;AAAE2L,UAAAA,QAAQ,EAARA;AAAF;AAArC,sBAEE3L;AAAsE,QAAA,KAAK,EAAE;AAAE2f,UAAAA,SAAS,EAATA;AAAF,SAA7E;AAAA,2EAA+B5f,8BAAU,CAAC;AAAE,qBAAWqf;AAAb,SAAD,CAAzC;AAAA,SAEGM,WAAW,iBACV1f;AACE,QAAA,IAAI,EAAC,QADP;AAEE,QAAA,SAAS,EAAC,2BAFZ;AAGE,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAAC4f,cAAL,CAAoB,KAApB,CAAN;AAAA;AAHX,sBAKE5f,wCAAC,IAAD;AAAM,QAAA,IAAI,EAAC,iBAAX;AAA6B,QAAA,SAAS,EAAC;AAAvC,QALF,CAHJ,EAYGof,QAAQ,iBACPpf,wCAACiW,YAAD;AACE,QAAA,WAAW,EAAC,yBADd;AAEE,QAAA,WAAW,EACT,qBAAC4J,CAAD,EAAIC,KAAJ;AAAA,iBAAcA,KAAK,CAACC,cAAN,EAAd;AAAA,SADS;AAFb;AAKE,QAAA,SAAS,EAAE,KAAKC,SALlB;AAME,QAAA,IAAI,EAAC,GANP;AAOE,QAAA,QAAQ,EAAC,GAPX;AAQE,QAAA,oBAAoB,MARtB;AASE,QAAA,UAAU,EAAC,KATb;AAUE,QAAA,aAAa,MAVf;AAWE,QAAA,QAAQ,EAAEzJ;AAXZ,SAaGvW,yBAAK,CAACsL,QAAN,CAAenJ,GAAf,CAAmBxB,QAAnB,EAA6B,UAAC4K,KAAD,EAAQ5I,KAAR;AAAA,4BAC5B3C,yBAAK,CAACuC,cAAN,CAAqBgJ,KAArB,KAA+BA,KAAK,CAACC,IAAN,KAAe,gBAA9C,gBACIxL,yBAAK,CAACyL,YAAN,CAAmBF,KAAnB,EAA0B;AAAEgL,UAAAA,QAAQ,EAARA,QAAF;AAAY5T,UAAAA,KAAK,EAALA;AAAZ,SAA1B,CADJ,GAEI4I,KAHwB;AAAA,OAA7B,CAbH,CAbJ,CAFF,eAsCEvL;AACE,QAAA,IAAI,EAAC,QADP;AAGE,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAAC4f,cAAL,CAAoB,IAApB,CAAN;AAAA,SAHX;AAAA,4EAE6B7f,8BAAU,CAAC;AAAE,qBAAW,CAACqf;AAAd,SAAD,CAFvC;AAAA,sBAKEpf;AAAI,QAAA,SAAS,EAAC;AAAd,SACG+W,KADH,eAIE/W;AAAK,QAAA,SAAS,EAAC;AAAf,sBACEA,wCAAC,IAAD;AAAM,QAAA,IAAI,EAAC,eAAX;AAA2B,QAAA,SAAS,EAAC;AAArC,QADF,CAJF,CALF,CAtCF,CADF;AAuDD;;;;EAxHkBC;;gBAAfkf,qBACe;AACjB;AACApI,EAAAA,KAAK,EAAE7W,6BAAS,CAACC,MAFA;;AAGjB;AACAoW,EAAAA,QAAQ,EAAErW,6BAAS,CAAC8E,IAJH;;AAKjB;AACA2G,EAAAA,QAAQ,EAAEzL,6BAAS,CAAC2E,SAAV,CAAoB,CAAC3E,6BAAS,CAAC6E,MAAX,EAAmB7E,6BAAS,CAACC,MAA7B,CAApB,CANO;;AAOjB;AACAwf,EAAAA,SAAS,EAAEzf,6BAAS,CAAC2E,SAAV,CAAoB,CAAC3E,6BAAS,CAAC6E,MAAX,EAAmB7E,6BAAS,CAACC,MAA7B,CAApB,CARM;;AASjB;AACAif,EAAAA,QAAQ,EAAElf,6BAAS,CAAC8E,IAVH;;AAWjB;AACA0a,EAAAA,WAAW,EAAExf,6BAAS,CAAC8E,IAZN;;AAajB;AACJ;AACA;AACIua,EAAAA,aAAa,EAAErf,6BAAS,CAACiF,IAhBR;;AAiBjB;AACAxE,EAAAA,QAAQ,EAAET,6BAAS,CAACW;AAlBH;;gBADfse,wBAsBkB;AACpBpI,EAAAA,KAAK,EAAE,QADa;AAEpBR,EAAAA,QAAQ,EAAE,IAFU;AAGpB6I,EAAAA,QAAQ,EAAE,IAHU;AAIpBM,EAAAA,WAAW,EAAE,IAJO;AAKpB/T,EAAAA,QAAQ,EAAE,IALU;AAMpBgU,EAAAA,SAAS,EAAE,IANS;AAOpBhf,EAAAA,QAAQ,EAAE,EAPU;AAQpB4e,EAAAA,aAAa,EAAE,uBAACU,GAAD;AAAA,WAASnF,OAAO,CAACC,IAAR,CAAakF,GAAb,CAAT;AAAA;AARK;;AC/BxB;AACA;AACA;;AACA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACja,QAAD,EAAc;AACrC;AACA,MAAMka,iBAAiB,GAAG;AACxBC,IAAAA,KAAK,EAAE,MADiB;AAExBC,IAAAA,QAAQ,EAAE,SAFc;AAGxBC,IAAAA,MAAM,EAAE,OAHgB;AAIxBC,IAAAA,KAAK,EAAE,MAJiB;AAKxBC,IAAAA,IAAI,EAAE,KALkB;AAMxBC,IAAAA,KAAK,EAAE,MANiB;AAOxBC,IAAAA,OAAO,EAAE,QAPe;AAQxBC,IAAAA,OAAO,EAAE,QARe;AASxBC,IAAAA,YAAY,EAAE;AATU,GAA1B;AAYA,SAAOT,iBAAiB,CAACla,QAAD,CAAjB,IAA+BA,QAAtC;AACD,CAfD;;AAiBO,IAAM4a,SAAS,GAAG,SAAZA,SAAY,CAACC,IAAD,EAAOjG,KAAP,EAA2C;AAAA,MAA7B5U,QAA6B,uEAAlB,MAAkB;AAAA,MAAV8a,KAAU;AAClE,MAAMC,CAAC,GAAGC,yBAAK,CAACH,IAAD,CAAf;AAEA,SAAOC,KAAK,GACRC,CAAC,CAACE,GAAF,CAAMrG,KAAN,EAAaqF,gBAAgB,CAACja,QAAD,CAA7B,EAAyCkb,KAAzC,CAA+CjB,gBAAgB,CAACja,QAAD,CAA/D,CADQ,GAER+a,CAAC,CAACE,GAAF,CAAMrG,KAAN,EAAaqF,gBAAgB,CAACja,QAAD,CAA7B,CAFJ;AAGD,CANM;AAQA,IAAMmb,UAAU,GAAG,SAAbA,UAAa,CAACN,IAAD,EAAiC;AAAA,MAA1BO,MAA0B,uEAAjB,YAAiB;AACzD,SAAOJ,yBAAK,CAACH,IAAD,CAAL,CAAYO,MAAZ,CAAmBA,MAAnB,CAAP;AACD,CAFM;AAIA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACR,IAAD,EAAqC;AAAA,MAA9BS,UAA8B,uEAAjB,YAAiB;AACnE,MAAMP,CAAC,GAAGC,yBAAK,CAACH,IAAD,CAAf;AACA,MAAMU,OAAO,GAAGD,UAAU,CAAC/N,QAAX,CAAoB,IAApB,CAAhB;AACA,MAAMiO,SAAS,GAAGF,UAAU,CAAC/N,QAAX,CAAoB,IAApB,CAAlB;AAEA,MAAM8M,MAAM,GAAG,CACb,KADa,EAEb,KAFa,EAGb,KAHa,EAIb,KAJa,EAKb,KALa,EAMb,KANa,EAOb,KAPa,EAQb,KARa,EASb,MATa,EAUb,KAVa,EAWb,KAXa,EAYb,KAZa,CAAf;AAcA,MAAMoB,GAAG,GAAGV,CAAC,CAACK,MAAF,CAAS,IAAT,CAAZ;AACA,MAAMM,KAAK,GAAGX,CAAC,CAACW,KAAF,EAAd;AACA,MAAMC,IAAI,GAAGZ,CAAC,CAACY,IAAF,EAAb;AAEA,mBAAUJ,OAAO,aAAME,GAAN,SAAe,EAAhC,SAAqCD,SAAS,aAAMnB,MAAM,CAACqB,KAAD,CAAZ,SAAyB,EAAvE,SAA4EC,IAA5E;AACD,CAxBM;;AA2BA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,SAAD,EAAYC,OAAZ,EAAqB9b,QAArB,EAAkC;AACxD,MAAMyC,IAAI,GAAGuY,yBAAK,CAACc,OAAD,CAAL,CAAerZ,IAAf,CAAoBuY,yBAAK,CAACa,SAAD,CAAzB,EAAsC5B,gBAAgB,CAACja,QAAD,CAAtD,CAAb;AAEA,SAAOyC,IAAI,GAAG,CAAC,CAAf;AACD,CAJM;AAMA,IAAMsZ,QAAQ,GAAG,SAAXA,QAAW,GAAyB;AAAA;;AAAA,MAAxBC,cAAwB,uEAAP,EAAO;AAAA,MACvCC,OADuC,GACWD,cADX,CACvCC,OADuC;AAAA,MAC9BC,OAD8B,GACWF,cADX,CAC9BE,OAD8B;AAAA,MACrBlc,QADqB,GACWgc,cADX,CACrBhc,QADqB;AAAA,MACXjE,KADW,GACWigB,cADX,CACXjgB,KADW;AAAA,MACJuf,UADI,GACWU,cADX,CACJV,UADI;;AAI/C,MAAIvf,KAAJ,EAAW;AACT,QAAMogB,SAAQ,GAAGlgB,MAAM,CAACD,IAAP,CAAYD,KAAZ,EAAmBS,MAAnB,CAA0B,UAAC4f,GAAD,EAAMC,CAAN,EAAY;AACrD,UAAI,OAAOA,CAAP,KAAa,QAAjB,EAA2B;AACzB,YAAMlgB,GAAG,GAAG6e,yBAAK,CAACqB,CAAD,CAAL,CAAS5Z,IAAT,CAAcuY,yBAAK,CAACiB,OAAD,CAAnB,EAA8BhC,gBAAgB,CAACja,QAAD,CAA9C,CAAZ;AAEA,iDACKoc,GADL,2BAEGjgB,GAFH,EAESJ,KAAK,CAACsgB,CAAD,CAFd;AAID;;AAED,+CACKD,GADL,2BAEGC,CAFH,EAEOtgB,KAAK,CAACsgB,CAAD,CAFZ;AAID,KAdgB,EAcd,EAdc,CAAjB;;AAgBA,WAAOF,SAAP;AACD,GAtB8C;;;AAyB/C,MAAMG,OAAO,GAAG,CAAhB;AACA,MAAMC,OAAO,GAAGvB,yBAAK,CAACkB,OAAD,CAAL,CAAezZ,IAAf,CAAoBuY,yBAAK,CAACiB,OAAD,CAAzB,EAAoChC,gBAAgB,CAACja,QAAD,CAApD,CAAhB;AAEA,MAAMmc,QAAQ,iDACXG,OADW,EACD;AACT/f,IAAAA,KAAK,EAAEye,yBAAK,CAACiB,OAAD,CAAL,CAAeb,MAAf,CAAsBE,UAAtB;AADE,GADC,+BAIXiB,OAJW,EAID;AACThgB,IAAAA,KAAK,EAAEye,yBAAK,CAACkB,OAAD,CAAL,CAAed,MAAf,CAAsBE,UAAtB;AADE,GAJC,cAAd;AASA,SAAOa,QAAP;AACD,CAtCM;;AAyCA,IAAMK,iBAAiB,GAAG,SAApBA,iBAAoB,CAAC1Z,QAAD,EAAWmZ,OAAX,EAAoBjc,QAApB;AAAA,SAC/B/D,MAAM,CAACD,IAAP,CAAY8G,QAAZ,EAAsBtG,MAAtB,CACE,UAAC4f,GAAD,EAAMK,GAAN;AAAA,6CACKL,GADL,2BAEGR,QAAQ,CAACa,GAAD,EAAMR,OAAN,EAAejc,QAAf,CAFX,EAEsC8C,QAAQ,CAAC2Z,GAAD,CAF9C;AAAA,GADF,EAKE,EALF,CAD+B;AAAA,CAA1B;;;;;;IC1FMC,iBAAb;AAAA;;AAAA;;AAWE,6BAAYjjB,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;;AADiB,qEAVF,IAUE;;AAAA,oEAsBH,YAAM;AAAA,iCACsB,MAAKkjB,cAD3B;AAAA,UACZV,OADY,wBACZA,OADY;AAAA,UACHjc,QADG,wBACHA,QADG;AAAA,UACOhB,UADP,wBACOA,UADP;;AAGpB,UAAInB,KAAK,CAACC,OAAN,CAAckB,UAAd,CAAJ,EAA+B;AAC7B,eAAOA,UAAU,CAAC9C,GAAX,CAAe,UAAC0G,CAAD,EAAO;AAAA,qBACNA,CAAC,IAAI,EADC;AAAA,cACnBE,QADmB,QACnBA,QADmB;;AAG3B,cAAI,CAACA,QAAL,EAAe,OAAOF,CAAP;;AAEf,cAAMkR,MAAM,qCACPlR,CADO;AAEVE,YAAAA,QAAQ,EAAE0Z,iBAAiB,CAAC1Z,QAAD,EAAWmZ,OAAX,EAAoBjc,QAApB;AAFjB,YAAZ;;AAKA,iBAAO8T,MAAP;AACD,SAXM,CAAP;AAYD;;AAhBmB,kBAkBC9U,UAAU,IAAI,EAlBf;AAAA,UAkBZ8D,QAlBY,SAkBZA,QAlBY;;AAoBpB,UAAIA,QAAJ,EAAc;AACZ,iDACK9D,UADL;AAEE8D,UAAAA,QAAQ,EAAE0Z,iBAAiB,CAAC1Z,QAAD,EAAWmZ,OAAX,EAAoBjc,QAApB;AAF7B;AAID;;AAED,aAAOhB,UAAP;AACD,KAlDkB;;AAAA,0EAoDG,UAAC1B,KAAD,EAAW;AAAA,wBACO,MAAK7D,KADZ;AAAA,UACvBsX,WADuB,eACvBA,WADuB;AAAA,UACV6L,YADU,eACVA,YADU;;AAE/B,UAAMC,cAAc,GAAG,MAAKC,WAAL,CAAiB,CAACxf,KAAK,CAAC,CAAD,CAAN,EAAWA,KAAK,CAAC,CAAD,CAAhB,EAAqBA,KAAK,CAAC,CAAD,CAA1B,CAAjB,CAAvB;;AAEAsf,MAAAA,YAAY,CAACC,cAAD,EAAiB9L,WAAjB,CAAZ;AACD,KAzDkB;;AAAA,kEA2DL,UAACzT,KAAD,EAAW;AAAA,kCACO,MAAKqf,cADZ;AAAA,UACfV,OADe,yBACfA,OADe;AAAA,UACNjc,QADM,yBACNA,QADM;AAEvB,aAAO1C,KAAK,CAACpB,GAAN,CAAU,UAAC6gB,CAAD,EAAIla,CAAJ,EAAU;AACzB;AACA,YAAMiY,KAAK,GAAGjY,CAAC,KAAK,CAApB;AAEA,eAAOsY,UAAU,CAACP,SAAS,CAACqB,OAAD,EAAUc,CAAV,EAAa/c,QAAb,EAAuB8a,KAAvB,CAAV,CAAjB;AACD,OALM,CAAP;AAMD,KAnEkB;;AAAA,kEAqEL,UAAChe,KAAD,EAAW;AAAA,kCACmB,MAAK6f,cADxB;AAAA,UACfV,OADe,yBACfA,OADe;AAAA,UACNX,UADM,yBACNA,UADM;AAAA,UACMtb,QADN,yBACMA,QADN;AAEvB,aAAOqb,gBAAgB,CAACT,SAAS,CAACqB,OAAD,EAAUnf,KAAV,EAAiBkD,QAAjB,CAAV,EAAsCsb,UAAtC,CAAvB;AACD,KAxEkB;;AAAA,QAETvK,YAFS,GAEOtX,KAFP,CAETsX,WAFS;AAAA,QAGT4L,cAHS,GAGU5L,YAHV,CAGT4L,cAHS;AAKjB,UAAKA,cAAL,GAAsBA,cAAtB;AALiB;AAMlB;;AAjBH;AAAA;AAAA,uCAmBqBjb,SAnBrB,EAmBgC;AAAA,UACpBqP,WADoB,GACJ,KAAKtX,KADD,CACpBsX,WADoB;AAAA,UAEPkH,eAFO,GAEavW,SAFb,CAEpBqP,WAFoB;AAAA,UAIpB4L,cAJoB,GAID5L,WAJC,CAIpB4L,cAJoB;AAAA,UAKJK,kBALI,GAKmB/E,eALnB,CAKpB0E,cALoB;;AAQ5B,UAAI,CAACzW,2BAAO,CAACyW,cAAD,EAAiBK,kBAAjB,CAAZ,EAAkD;AAChD,aAAKL,cAAL,GAAsBA,cAAtB;AACA,aAAK3S,WAAL;AACD;AACF;AA/BH;AAAA;AAAA,6BAqFW;AACP,UAAI,CAAC,KAAK2S,cAAV,EAA0B,OAAO,IAAP;AADnB,UAECM,aAFD,GAEmB,KAAKxjB,KAFxB,CAECwjB,aAFD;AAAA,kCAcH,KAAKN,cAdF;AAAA,UAIL5gB,KAJK,yBAILA,KAJK;AAAA,UAKLmgB,OALK,yBAKLA,OALK;AAAA,UAMLgB,eANK,yBAMLA,eANK;AAAA,UAOLjB,OAPK,yBAOLA,OAPK;AAAA,UAQLkB,eARK,yBAQLA,eARK;AAAA,UASLnd,QATK,yBASLA,QATK;AAAA,UAUL6b,SAVK,yBAULA,SAVK;AAAA,UAWLC,OAXK,yBAWLA,OAXK;AAAA,UAYLsB,WAZK,yBAYLA,WAZK;AAAA,UAaLrZ,OAbK,yBAaLA,OAbK;AAgBP,0BACEhK;AAAA,qDACaD,8BAAU,CAAC;AACpB,+BAAqB,IADD;AAEpB,uBAAaiK;AAFO,SAAD,CADvB;AAAA,sBAMEhK,wCAAC,QAAD,eACM,KAAKN,KADX,EAEMwjB,aAFN,EAGM,KAAKN,cAHX;AAIE,QAAA,UAAU,EAAE,KAAKxY,aAAL,EAJd;AAKE,QAAA,GAAG,EAAE,CALP;AAME,QAAA,MAAM,EAAEyX,QAAQ,CAACuB,eAAe,IAAIlB,OAApB,EAA6BA,OAA7B,EAAsCjc,QAAtC,CANlB;AAOE,QAAA,GAAG,EAAE4b,QAAQ,CAACM,OAAD,EAAUD,OAAV,EAAmBjc,QAAnB,CAPf;AAQE,QAAA,MAAM,EAAE4b,QAAQ,CAACsB,eAAe,IAAIhB,OAApB,EAA6BD,OAA7B,EAAsCjc,QAAtC,CARlB;AASE,QAAA,KAAK,EAAE4b,QAAQ,CAACC,SAAD,EAAYI,OAAZ,EAAqBjc,QAArB,CATjB;AAUE,QAAA,GAAG,EAAE4b,QAAQ,CAACE,OAAD,EAAUG,OAAV,EAAmBjc,QAAnB,CAVf;AAWE,QAAA,IAAI,EAAE4b,QAAQ,CAACwB,WAAD,EAAcnB,OAAd,EAAuBjc,QAAvB,CAXhB;AAYE,QAAA,KAAK,EAAEjE,KAAK,IAAIggB,QAAQ,CAAC,KAAKY,cAAN,CAZ1B;AAaE,QAAA,WAAW,EAAE,KAAK/f,WAbpB;AAcE,QAAA,mBAAmB,EAAE,KAAK8D;AAd5B,SANF,CADF;AAyBD;AA9HH;;AAAA;AAAA,EAAuC1G,mBAAvC;;gBAAa0iB,gCAGQ;AACjBO,EAAAA,aAAa,EAAEhjB,6BAAS,CAACyB,KAAV,CAAgB,EAAhB,CADE;AAEjBqV,EAAAA,WAAW,EAAE9W,6BAAS,CAACyB,KAAV,CAAgB,EAAhB,CAFI;AAGjBkhB,EAAAA,YAAY,EAAE3iB,6BAAS,CAACiF,IAAV,CAAeD;AAHZ;;gBAHRyd,mCASW;AAAEO,EAAAA,aAAa,EAAE,EAAjB;AAAqBlM,EAAAA,WAAW,EAAE;AAAlC"}