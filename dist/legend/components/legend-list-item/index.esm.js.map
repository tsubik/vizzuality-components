{"version":3,"file":"index.esm.js","sources":["../../../../src/components/legend/components/legend-list-item/index.js"],"sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { SortableElement } from 'react-sortable-hoc';\n\n// Components\nimport LegendItemDrag from '../legend-item-drag';\n\nimport './styles.scss';\n\nclass LegendListItem extends PureComponent {\n  static propTypes = {\n    dataset: PropTypes.string,\n    layers: PropTypes.arrayOf(PropTypes.shape({})),\n    sortable: PropTypes.bool,\n    children: PropTypes.node,\n    toolbar: PropTypes.node,\n    title: PropTypes.node,\n  };\n\n  static defaultProps = {\n    dataset: '',\n    layers: [],\n    sortable: true,\n    children: [],\n    toolbar: [],\n    title: [],\n  };\n\n  render() {\n    const { layers, sortable, children, toolbar, title, ...props } = this.props;\n    const activeLayer = layers.find((l) => l.active) || layers[0];\n\n    return (\n      <li\n        styleName={classnames({\n          'c-legend-item': true,\n          '-sortable': sortable,\n        })}\n      >\n        <div\n          styleName={classnames({\n            'legend-item-container': true,\n            '-sortable': sortable,\n          })}\n        >\n          {sortable && <LegendItemDrag />}\n\n          <div styleName=\"legend-info\">\n            <header styleName=\"legend-item-header\">\n              <h3>\n                {React.isValidElement(title) && typeof title.type !== 'string'\n                  ? React.cloneElement(title, { ...props, layers, activeLayer })\n                  : activeLayer && activeLayer.name}\n              </h3>\n              {React.isValidElement(toolbar) &&\n                typeof toolbar.type !== 'string' &&\n                React.cloneElement(toolbar, { ...props, layers, activeLayer })}\n            </header>\n\n            {React.Children.map(children, (child) =>\n              React.isValidElement(child) && typeof child.type !== 'string'\n                ? React.cloneElement(child, { layers, activeLayer })\n                : child\n            )}\n          </div>\n        </div>\n      </li>\n    );\n  }\n}\n\nexport default SortableElement(({ layerGroup, ...props }) => (\n  <LegendListItem key={props.dataset} {...layerGroup} {...props} />\n));\n"],"names":["LegendListItem","props","layers","sortable","children","toolbar","title","activeLayer","find","l","active","classnames","React","isValidElement","type","cloneElement","name","Children","map","child","PureComponent","dataset","PropTypes","string","arrayOf","shape","bool","node","SortableElement","layerGroup"],"mappings":"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"}