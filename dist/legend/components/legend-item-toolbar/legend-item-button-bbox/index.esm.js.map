{"version":3,"file":"index.esm.js","sources":["../../../../../src/components/legend/components/legend-item-toolbar/legend-item-button-bbox/index.js"],"sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from 'components/icon';\nimport Tooltip from 'components/tooltip';\nimport '../styles-button.scss';\n\nclass LegendItemButtonBBox extends PureComponent {\n  static propTypes = {\n    activeLayer: PropTypes.object,\n    tooltipOpened: PropTypes.bool,\n    icon: PropTypes.string,\n    focusStyle: PropTypes.object,\n    defaultStyle: PropTypes.object,\n    tooltipText: PropTypes.string,\n    scrolling: PropTypes.bool,\n    onChangeBBox: PropTypes.func,\n  };\n\n  static defaultProps = {\n    activeLayer: {},\n    icon: '',\n    focusStyle: {},\n    defaultStyle: {},\n    tooltipOpened: false,\n    tooltipText: '',\n    scrolling: false,\n\n    onChangeBBox: () => {},\n  };\n\n  state = {\n    visible: false,\n  };\n\n  componentWillReceiveProps(nextProps) {\n    const { scrolling } = nextProps;\n\n    if (scrolling) {\n      this.setState({ visible: false });\n    }\n  }\n\n  render() {\n    const { activeLayer, tooltipOpened, icon, focusStyle, defaultStyle, tooltipText } = this.props;\n    const { visible } = this.state;\n    if (activeLayer.layerConfig && !activeLayer.layerConfig.bbox) {\n      return null;\n    }\n\n    return (\n      <Tooltip\n        overlay={tooltipText || 'Fit to bounds'}\n        overlayClassName=\"c-rc-tooltip -default\"\n        placement=\"top\"\n        trigger={tooltipOpened ? '' : 'hover'}\n        mouseLeaveDelay={0}\n        destroyTooltipOnHide\n        onVisibleChange={(v) => this.setState({ visible: v })}\n        visible={visible}\n      >\n        <button\n          type=\"button\"\n          styleName=\"c-legend-button\"\n          aria-label=\"Fit to bounds\"\n          onClick={() => this.props.onChangeBBox(activeLayer)}\n        >\n          <Icon\n            name={icon || 'icon-bbox'}\n            className=\"-small\"\n            style={visible ? focusStyle : defaultStyle}\n          />\n        </button>\n      </Tooltip>\n    );\n  }\n}\n\nexport default LegendItemButtonBBox;\n"],"names":["LegendItemButtonBBox","visible","nextProps","scrolling","setState","props","activeLayer","tooltipOpened","icon","focusStyle","defaultStyle","tooltipText","state","layerConfig","bbox","v","onChangeBBox","PureComponent","PropTypes","object","bool","string","func"],"mappings":";;;;;;IAMMA;;;;;;;;;;;;;;;;4DAwBI;AACNC,MAAAA,OAAO,EAAE;AADH;;;;;;;8CAIkBC,WAAW;AAAA,UAC3BC,SAD2B,GACbD,SADa,CAC3BC,SAD2B;;AAGnC,UAAIA,SAAJ,EAAe;AACb,aAAKC,QAAL,CAAc;AAAEH,UAAAA,OAAO,EAAE;AAAX,SAAd;AACD;AACF;;;6BAEQ;AAAA;;AAAA,wBAC6E,KAAKI,KADlF;AAAA,UACCC,WADD,eACCA,WADD;AAAA,UACcC,aADd,eACcA,aADd;AAAA,UAC6BC,IAD7B,eAC6BA,IAD7B;AAAA,UACmCC,UADnC,eACmCA,UADnC;AAAA,UAC+CC,YAD/C,eAC+CA,YAD/C;AAAA,UAC6DC,WAD7D,eAC6DA,WAD7D;AAAA,UAECV,OAFD,GAEa,KAAKW,KAFlB,CAECX,OAFD;;AAGP,UAAIK,WAAW,CAACO,WAAZ,IAA2B,CAACP,WAAW,CAACO,WAAZ,CAAwBC,IAAxD,EAA8D;AAC5D,eAAO,IAAP;AACD;;AAED,0BACE,oBAAC,OAAD;AACE,QAAA,OAAO,EAAEH,WAAW,IAAI,eAD1B;AAEE,QAAA,gBAAgB,EAAC,uBAFnB;AAGE,QAAA,SAAS,EAAC,KAHZ;AAIE,QAAA,OAAO,EAAEJ,aAAa,GAAG,EAAH,GAAQ,OAJhC;AAKE,QAAA,eAAe,EAAE,CALnB;AAME,QAAA,oBAAoB,MANtB;AAOE,QAAA,eAAe,EAAE,yBAACQ,CAAD;AAAA,iBAAO,MAAI,CAACX,QAAL,CAAc;AAAEH,YAAAA,OAAO,EAAEc;AAAX,WAAd,CAAP;AAAA,SAPnB;AAQE,QAAA,OAAO,EAAEd;AARX,sBAUE;AACE,QAAA,IAAI,EAAC,QADP;AAEE,QAAA,SAAS,EAAC,6BAFZ;AAGE,sBAAW,eAHb;AAIE,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACI,KAAL,CAAWW,YAAX,CAAwBV,WAAxB,CAAN;AAAA;AAJX,sBAME,oBAAC,IAAD;AACE,QAAA,IAAI,EAAEE,IAAI,IAAI,WADhB;AAEE,QAAA,SAAS,EAAC,QAFZ;AAGE,QAAA,KAAK,EAAEP,OAAO,GAAGQ,UAAH,GAAgBC;AAHhC,QANF,CAVF,CADF;AAyBD;;;;EApEgCO;;gBAA7BjB,mCACe;AACjBM,EAAAA,WAAW,EAAEY,SAAS,CAACC,MADN;AAEjBZ,EAAAA,aAAa,EAAEW,SAAS,CAACE,IAFR;AAGjBZ,EAAAA,IAAI,EAAEU,SAAS,CAACG,MAHC;AAIjBZ,EAAAA,UAAU,EAAES,SAAS,CAACC,MAJL;AAKjBT,EAAAA,YAAY,EAAEQ,SAAS,CAACC,MALP;AAMjBR,EAAAA,WAAW,EAAEO,SAAS,CAACG,MANN;AAOjBlB,EAAAA,SAAS,EAAEe,SAAS,CAACE,IAPJ;AAQjBJ,EAAAA,YAAY,EAAEE,SAAS,CAACI;AARP;;gBADftB,sCAYkB;AACpBM,EAAAA,WAAW,EAAE,EADO;AAEpBE,EAAAA,IAAI,EAAE,EAFc;AAGpBC,EAAAA,UAAU,EAAE,EAHQ;AAIpBC,EAAAA,YAAY,EAAE,EAJM;AAKpBH,EAAAA,aAAa,EAAE,KALK;AAMpBI,EAAAA,WAAW,EAAE,EANO;AAOpBR,EAAAA,SAAS,EAAE,KAPS;AASpBa,EAAAA,YAAY,EAAE,wBAAM;AATA;;;;"}