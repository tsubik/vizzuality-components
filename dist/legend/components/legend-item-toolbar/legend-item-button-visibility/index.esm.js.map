{"version":3,"file":"index.esm.js","sources":["../../../../../src/components/legend/components/legend-item-toolbar/legend-item-button-visibility/index.js"],"sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from 'components/icon';\nimport Tooltip from 'components/tooltip';\nimport '../styles-button.scss';\n\nclass LegendItemButtonVisibility extends PureComponent {\n  static propTypes = {\n    activeLayer: PropTypes.object,\n    visibility: PropTypes.bool,\n    onChangeVisibility: PropTypes.func,\n    iconShow: PropTypes.string,\n    iconHide: PropTypes.string,\n    focusStyle: PropTypes.object,\n    defaultStyle: PropTypes.object,\n    tooltipOpened: PropTypes.bool,\n    tooltipText: PropTypes.string,\n    scrolling: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    activeLayer: {},\n    visibility: true,\n    iconShow: '',\n    iconHide: '',\n    focusStyle: {},\n    defaultStyle: {},\n    tooltipOpened: false,\n    tooltipText: '',\n    scrolling: false,\n\n    onChangeVisibility: () => {},\n  };\n\n  state = {\n    visible: false,\n  };\n\n  componentWillReceiveProps(nextProps) {\n    const { scrolling } = nextProps;\n\n    if (scrolling) {\n      this.setState({ visible: false });\n    }\n  }\n\n  render() {\n    const {\n      activeLayer,\n      visibility,\n      tooltipOpened,\n      iconShow,\n      iconHide,\n      focusStyle,\n      defaultStyle,\n      tooltipText,\n    } = this.props;\n    const { visible } = this.state;\n\n    const showIcon = iconShow || 'icon-show';\n    const hideIcon = iconHide || 'icon-hide';\n    const activeIcon = visibility ? hideIcon : showIcon;\n\n    return (\n      <Tooltip\n        overlay={tooltipText || (visibility ? 'Hide layer' : 'Show layer')}\n        overlayClassName=\"c-rc-tooltip -default\"\n        placement=\"top\"\n        trigger={tooltipOpened ? '' : 'hover'}\n        mouseLeaveDelay={0}\n        destroyTooltipOnHide\n        onVisibleChange={(v) => this.setState({ visible: v })}\n        visible={visible}\n      >\n        <button\n          type=\"button\"\n          styleName=\"c-legend-button toggle\"\n          onClick={() => this.props.onChangeVisibility(activeLayer, !visibility)}\n          aria-label=\"Toggle the visibility\"\n        >\n          <Icon name={activeIcon} className=\"-small\" style={visible ? focusStyle : defaultStyle} />\n        </button>\n      </Tooltip>\n    );\n  }\n}\n\nexport default LegendItemButtonVisibility;\n"],"names":["LegendItemButtonVisibility","visible","nextProps","scrolling","setState","props","activeLayer","visibility","tooltipOpened","iconShow","iconHide","focusStyle","defaultStyle","tooltipText","state","showIcon","hideIcon","activeIcon","v","onChangeVisibility","PureComponent","PropTypes","object","bool","func","string"],"mappings":"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"}