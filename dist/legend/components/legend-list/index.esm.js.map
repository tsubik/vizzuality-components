{"version":3,"file":"index.esm.js","sources":["../../../../src/components/legend/components/legend-list/index.js"],"sourcesContent":["import { SortableContainer } from 'react-sortable-hoc';\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport './styles.scss';\n\nclass LegendList extends PureComponent {\n  static propTypes = {\n    sortable: PropTypes.bool,\n    children: PropTypes.node,\n  };\n\n  static defaultProps = {\n    sortable: true,\n    children: [],\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      scrolling: false,\n    };\n\n    this.timeout = null;\n  }\n\n  onScroll = (e) => {\n    if (e.target.id !== 'vizzuality-legend-list') {\n      return false;\n    }\n\n    const { scrolling } = this.state;\n    if (this.timeout) {\n      // if there is already a timeout in process cancel it\n      clearTimeout(this.timeout);\n    }\n\n    this.timeout = setTimeout(() => {\n      this.timeout = null;\n      this.setState({\n        scrolling: false,\n      });\n    }, 250);\n\n    if (!scrolling) {\n      this.setState({\n        scrolling: true,\n      });\n    }\n  };\n\n  render() {\n    const { sortable, children } = this.props;\n    const { scrolling } = this.state;\n\n    return (\n      <ul id=\"vizzuality-legend-list\" styleName=\"c-legend-list\" onScroll={this.onScroll}>\n        {React.Children.map(children, (child, index) =>\n          React.cloneElement(child, {\n            sortable,\n            index,\n            i: index,\n            scrolling,\n          })\n        )}\n      </ul>\n    );\n  }\n}\n\nexport default SortableContainer(LegendList);\n"],"names":["LegendList","props","e","target","id","scrolling","state","timeout","clearTimeout","setTimeout","setState","sortable","children","onScroll","React","Children","map","child","index","cloneElement","i","PureComponent","PropTypes","bool","node","SortableContainer"],"mappings":";;;;;IAKMA;;;;;AAWJ,sBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;;AADiB,+DASR,UAACC,CAAD,EAAO;AAChB,UAAIA,CAAC,CAACC,MAAF,CAASC,EAAT,KAAgB,wBAApB,EAA8C;AAC5C,eAAO,KAAP;AACD;;AAHe,UAKRC,SALQ,GAKM,MAAKC,KALX,CAKRD,SALQ;;AAMhB,UAAI,MAAKE,OAAT,EAAkB;AAChB;AACAC,QAAAA,YAAY,CAAC,MAAKD,OAAN,CAAZ;AACD;;AAED,YAAKA,OAAL,GAAeE,UAAU,CAAC,YAAM;AAC9B,cAAKF,OAAL,GAAe,IAAf;;AACA,cAAKG,QAAL,CAAc;AACZL,UAAAA,SAAS,EAAE;AADC,SAAd;AAGD,OALwB,EAKtB,GALsB,CAAzB;;AAOA,UAAI,CAACA,SAAL,EAAgB;AACd,cAAKK,QAAL,CAAc;AACZL,UAAAA,SAAS,EAAE;AADC,SAAd;AAGD;AACF,KAhCkB;;AAEjB,UAAKC,KAAL,GAAa;AACXD,MAAAA,SAAS,EAAE;AADA,KAAb;AAIA,UAAKE,OAAL,GAAe,IAAf;AANiB;AAOlB;;;;6BA2BQ;AAAA,wBACwB,KAAKN,KAD7B;AAAA,UACCU,QADD,eACCA,QADD;AAAA,UACWC,QADX,eACWA,QADX;AAAA,UAECP,SAFD,GAEe,KAAKC,KAFpB,CAECD,SAFD;AAIP,0BACE;AAAI,QAAA,EAAE,EAAC,wBAAP;AAAgC,QAAA,SAAS,EAAC,2BAA1C;AAA0D,QAAA,QAAQ,EAAE,KAAKQ;AAAzE,SACGC,KAAK,CAACC,QAAN,CAAeC,GAAf,CAAmBJ,QAAnB,EAA6B,UAACK,KAAD,EAAQC,KAAR;AAAA,4BAC5BJ,KAAK,CAACK,YAAN,CAAmBF,KAAnB,EAA0B;AACxBN,UAAAA,QAAQ,EAARA,QADwB;AAExBO,UAAAA,KAAK,EAALA,KAFwB;AAGxBE,UAAAA,CAAC,EAAEF,KAHqB;AAIxBb,UAAAA,SAAS,EAATA;AAJwB,SAA1B,CAD4B;AAAA,OAA7B,CADH,CADF;AAYD;;;;EA7DsBgB;;gBAAnBrB,yBACe;AACjBW,EAAAA,QAAQ,EAAEW,SAAS,CAACC,IADH;AAEjBX,EAAAA,QAAQ,EAAEU,SAAS,CAACE;AAFH;;gBADfxB,4BAMkB;AACpBW,EAAAA,QAAQ,EAAE,IADU;AAEpBC,EAAAA,QAAQ,EAAE;AAFU;;AA0DxB,mBAAea,iBAAiB,CAACzB,UAAD,CAAhC;;;;"}