{"version":3,"file":"index.esm.js","sources":["../../src/components/slider/index.js"],"sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport RCSlider, { Range, Handle, SliderTooltip } from 'rc-slider';\nimport fill from 'lodash/fill';\n\nimport { getStyledMarks } from './utils';\n\n// styles\nimport './styles.scss';\n\nexport class Slider extends PureComponent {\n  static propTypes = {\n    customClass: PropTypes.string,\n    settings: PropTypes.shape({}),\n    value: PropTypes.oneOfType([PropTypes.array, PropTypes.number]),\n    dragging: PropTypes.bool,\n    index: PropTypes.number,\n    range: PropTypes.bool,\n    trackStyle: PropTypes.oneOfType([PropTypes.array, PropTypes.shape({})]).isRequired,\n    handleStyle: PropTypes.oneOfType([PropTypes.array, PropTypes.shape({})]),\n    formatValue: PropTypes.func,\n    showTooltip: PropTypes.func,\n    railStyle: PropTypes.shape({}),\n    dotStyle: PropTypes.shape({}),\n    pushable: PropTypes.oneOfType([PropTypes.bool, PropTypes.number]),\n  };\n\n  static defaultProps = {\n    customClass: null,\n    settings: {},\n    value: [0],\n    dragging: false,\n    index: 0,\n    range: false,\n    handleStyle: {\n      backgroundColor: '#c32d7b',\n      borderRadius: '10px',\n      boxShadow: '0 1px 2px 0 rgba(0, 0, 0, 0.29)',\n      border: '0px',\n      zIndex: 2,\n    },\n    formatValue: null,\n    showTooltip: null,\n    railStyle: { backgroundColor: '#d9d9d9' },\n    dotStyle: { visibility: 'hidden', border: '0px' },\n    pushable: true,\n  };\n\n  renderHandle = (props) => {\n    const { formatValue, showTooltip } = this.props;\n    const { value, dragging, index, ...restProps } = props;\n    const formattedValue = formatValue ? formatValue(value) : value;\n    const tooltipVisible = showTooltip ? showTooltip(index) : false;\n\n    return (\n      <SliderTooltip\n        key={index}\n        overlay={formattedValue}\n        overlayClassName=\"c-rc-tooltip -default\"\n        overlayStyle={{ color: '#fff' }}\n        placement=\"top\"\n        mouseLeaveDelay={0}\n        destroyTooltipOnHide\n        visible={!!dragging || !!tooltipVisible}\n      >\n        <Handle className=\"drag-handle\" value={value} {...restProps} />\n      </SliderTooltip>\n    );\n  };\n\n  render() {\n    const { customClass, range, handleStyle, value, marks, ...rest } = this.props;\n\n    const Component = range ? Range : RCSlider;\n    const handleNum = Array.isArray(value) ? value.length : 1;\n    const handleStyles = fill(Array(handleNum), {\n      width: '1px',\n      height: '10px',\n      backgroundColor: '#808080',\n      marginLeft: '-1px',\n      marginTop: '-3px',\n      borderRadius: 0,\n      border: 0,\n      zIndex: 1,\n      pointerEvents: 'none',\n      touchAction: 'none',\n    });\n    handleStyles[0] = handleStyle;\n    handleStyles[handleNum - 1] = handleStyle;\n\n    const externalClass = classnames('vizzuality-slider', { [customClass]: !!customClass });\n\n    return (\n      <div className={externalClass}>\n        <Component\n          handle={this.renderHandle}\n          handleStyle={handleStyles}\n          value={value}\n          marks={marks ? getStyledMarks(marks) : marks}\n          {...rest}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Slider;\n"],"names":["Slider","props","formatValue","showTooltip","value","dragging","index","restProps","formattedValue","tooltipVisible","color","customClass","range","handleStyle","marks","rest","Component","Range","RCSlider","handleNum","Array","isArray","length","handleStyles","fill","width","height","backgroundColor","marginLeft","marginTop","borderRadius","border","zIndex","pointerEvents","touchAction","externalClass","classnames","renderHandle","getStyledMarks","PureComponent","PropTypes","string","settings","shape","oneOfType","array","number","bool","trackStyle","isRequired","func","railStyle","dotStyle","pushable","boxShadow","visibility"],"mappings":"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"}